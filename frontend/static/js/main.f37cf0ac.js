/*! For license information please see main.f37cf0ac.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var a=n(43),s=Symbol.for("react.element"),r=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,r={},c=null,u=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)l.call(t,a)&&!o.hasOwnProperty(a)&&(r[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===r[a]&&(r[a]=t[a]);return{$$typeof:s,type:e,key:c,ref:u,props:r,_owner:i.current}}t.Fragment=r,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function x(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=y.prototype;var b=v.prototype=new x;b.constructor=v,p(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,j={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,a){var s,r={},l=null,i=null;if(null!=t)for(s in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)k.call(t,s)&&!N.hasOwnProperty(s)&&(r[s]=t[s]);var o=arguments.length-2;if(1===o)r.children=a;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps)void 0===r[s]&&(r[s]=o[s]);return{$$typeof:n,type:e,key:l,ref:i,props:r,_owner:j.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,s,r,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case a:o=!0}}if(o)return l=l(o=e),e=""===r?"."+E(o,0):r,w(l)?(s="",null!=e&&(s=e.replace(C,"$&/")+"/"),T(l,t,s,"",function(e){return e})):null!=l&&(_(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,s+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(C,"$&/")+"/")+e)),t.push(l)),1;if(o=0,r=""===r?".":r+":",w(e))for(var c=0;c<e.length;c++){var u=r+E(i=e[c],c);o+=T(i,t,s,u,l)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)o+=T(i=i.value,t,s,u=r+E(i,c++),l);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function P(e,t,n){if(null==e)return e;var a=[],s=0;return T(e,a,"","",function(e){return t.call(n,e,s++)}),a}function z(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},M={transition:null},L={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:M,ReactCurrentOwner:j};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=s,t.Profiler=l,t.PureComponent=v,t.StrictMode=r,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=F,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=p({},e.props),r=e.key,l=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,i=j.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)k.call(t,c)&&!N.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=a;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];s.children=o}return{$$typeof:n,type:e.type,key:r,ref:l,props:s,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:z}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,s=e[a];if(!(0<r(s,t)))break e;e[a]=t,e[n]=s,n=a}}function a(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,s=e.length,l=s>>>1;a<l;){var i=2*(a+1)-1,o=e[i],c=i+1,u=e[c];if(0>r(o,n))c<s&&0>r(u,o)?(e[a]=u,e[c]=n,a=c):(e[a]=o,e[i]=n,a=i);else{if(!(c<s&&0>r(u,n)))break e;e[a]=u,e[c]=n,a=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],u=[],d=1,m=null,h=3,f=!1,p=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=a(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=a(u)}}function w(e){if(g=!1,b(e),!p)if(null!==a(c))p=!0,M(k);else{var t=a(u);null!==t&&L(w,t.startTime-e)}}function k(e,n){p=!1,g&&(g=!1,x(_),_=-1),f=!0;var r=h;try{for(b(n),m=a(c);null!==m&&(!(m.expirationTime>n)||e&&!T());){var l=m.callback;if("function"===typeof l){m.callback=null,h=m.priorityLevel;var i=l(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?m.callback=i:m===a(c)&&s(c),b(n)}else s(c);m=a(c)}if(null!==m)var o=!0;else{var d=a(u);null!==d&&L(w,d.startTime-n),o=!1}return o}finally{m=null,h=r,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,N=!1,S=null,_=-1,C=5,E=-1;function T(){return!(t.unstable_now()-E<C)}function P(){if(null!==S){var e=t.unstable_now();E=e;var n=!0;try{n=S(!0,e)}finally{n?j():(N=!1,S=null)}}else N=!1}if("function"===typeof v)j=function(){v(P)};else if("undefined"!==typeof MessageChannel){var z=new MessageChannel,A=z.port2;z.port1.onmessage=P,j=function(){A.postMessage(null)}}else j=function(){y(P,0)};function M(e){S=e,N||(N=!0,j())}function L(e,n){_=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,M(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,s,r){var l=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?l+r:l:r=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:r,expirationTime:i=r+i,sortIndex:-1},r>l?(e.sortIndex=r,n(u,e),null===a(c)&&e===a(u)&&(g?(x(_),_=-1):g=!0,L(w,r-l))):(e.sortIndex=i,n(c,e),p||f||(p=!0,M(k))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},391:(e,t,n)=>{var a=n(950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},505:(e,t,n)=>{n.d(t,{B:()=>Q,Bq:()=>Y,D5:()=>g,FR:()=>_,HW:()=>d,Ho:()=>D,LG:()=>S,Pd:()=>w,Pw:()=>T,R0:()=>N,T3:()=>B,Xu:()=>q,YP:()=>C,Zc:()=>P,_I:()=>O,_K:()=>b,_o:()=>W,a8:()=>v,cM:()=>V,eR:()=>z,ec:()=>m,h_:()=>f,login:()=>c,logout:()=>u,lw:()=>h,mJ:()=>p,pH:()=>H,pL:()=>y,q0:()=>F,qm:()=>A,register:()=>o,sD:()=>I,sU:()=>M,t6:()=>$,uX:()=>x,vq:()=>R,wR:()=>L,y1:()=>U,yN:()=>j,z$:()=>E});const a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://boardsyncv2.onrender.com";let s=localStorage.getItem("auth_token")||localStorage.getItem("token");const r=()=>{s=localStorage.getItem("auth_token")||localStorage.getItem("token");const e={"Content-Type":"application/json"};return s&&(e.Authorization="Bearer ".concat(s)),e},l=e=>{s=e,e?(localStorage.setItem("auth_token",e),localStorage.setItem("token",e)):(localStorage.removeItem("auth_token"),localStorage.removeItem("token"))},i=e=>(401===e.status&&(l(null),window.location.href="/"),e),o=async e=>{var t;const n=await fetch("".concat(a,"/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const e=await n.json().catch(()=>({message:"Registration failed"}));throw new Error(e.message||"Registration failed")}const s=await n.json();var r;(null!==(t=s.data)&&void 0!==t&&t.token||s.token)&&l((null===(r=s.data)||void 0===r?void 0:r.token)||s.token);return s},c=async e=>{var t;const n=await fetch("".concat(a,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const e=await n.json().catch(()=>({message:"Login failed"}));throw new Error(e.message||"Invalid credentials")}const s=await n.json(),r=(null===(t=s.data)||void 0===t?void 0:t.token)||s.token;return r&&l(r),s},u=async()=>{try{s&&await fetch("".concat(a,"/api/auth/logout"),{method:"POST",headers:r()})}catch(e){}finally{l(null)}},d=async()=>{if(!s)throw new Error("Not authenticated");const e=await fetch("".concat(a,"/api/auth/me"),{headers:r()});if(!e.ok)throw i(e),new Error("Failed to get user info");return e.json()},m=async(e,t)=>{if(!s)throw new Error("Not authenticated");const n=await fetch("".concat(a,"/api/auth/change-password"),{method:"POST",headers:r(),body:JSON.stringify({old_password:e,new_password:t})});if(!n.ok){i(n);const e=await n.json().catch(()=>({message:"Password change failed"}));throw new Error(e.message||"Password change failed")}return n.json()},h=async e=>{if(!s)throw new Error("Not authenticated");const t=await fetch("".concat(a,"/api/auth/account/delete"),{method:"POST",headers:r(),body:JSON.stringify(e)});if(!t.ok){i(t);const e=await t.json().catch(()=>({message:"Account deletion failed"}));throw new Error(e.message||"Account deletion failed")}const n=await t.json();return l(null),n},f=async()=>{if(!s)throw new Error("Not authenticated");const e=await fetch("".concat(a,"/api/settings"),{headers:r()});if(!e.ok)throw i(e),new Error("Failed to get user settings");return e.json()},p=async e=>{const t=await fetch("".concat(a,"/api/settings"),{method:"PUT",headers:r(),body:JSON.stringify(e)});if(!t.ok){i(t);const e=await t.json().catch(()=>({message:"Settings update failed"}));throw new Error(e.message||"Settings update failed")}return t.json()},g=async()=>{const e=await fetch("".concat(a,"/api/settings/asana/projects"),{headers:r()});if(!e.ok)throw i(e),new Error("Failed to get Asana projects");return e.json()},y=async()=>{const e=await fetch("".concat(a,"/api/settings/youtrack/projects"),{headers:r()});if(!e.ok)throw i(e),new Error("Failed to get YouTrack projects");return e.json()},x=async()=>{const e=await fetch("".concat(a,"/api/settings/test-connections"),{method:"POST",headers:r()});if(!e.ok)throw i(e),new Error("Connection test failed");return e.json()},v=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="".concat(a,"/analyze");e&&(t+="?column=".concat(encodeURIComponent(e)));const n=await fetch(t,{headers:r()});if(!n.ok)throw i(n),new Error("Analysis failed: ".concat(n.status));return n.json()},b=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="".concat(a,"/create");e&&"all_syncable"!==e&&(t+="?column=".concat(encodeURIComponent(e)));const n=await fetch(t,{method:"POST",headers:r()});if(!n.ok)throw i(n),new Error("Create failed: ".concat(n.status));return n.json()},w=async e=>{const t=await fetch("".concat(a,"/create-single"),{method:"POST",headers:r(),body:JSON.stringify({task_id:e})});if(!t.ok)throw i(t),new Error("Single create failed: ".concat(t.status));return t.json()},k=async e=>{const t=await fetch("".concat(a,"/sync"),{method:"POST",headers:r(),body:JSON.stringify(e)});if(!t.ok)throw i(t),new Error("Sync failed: ".concat(t.status));return t.json()},j=async e=>k([{ticket_id:e,action:"sync"}]),N=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=new URLSearchParams({type:e});t&&n.append("column",t);const s=await fetch("".concat(a,"/tickets?").concat(n),{headers:r()});if(!s.ok)throw i(s),new Error("Get tickets failed: ".concat(s.status));return s.json()},S=async(e,t)=>{if(!Array.isArray(e)||0===e.length)throw new Error("ticketIds must be a non-empty array");if(!["asana","youtrack","both"].includes(t))throw new Error("source must be one of: asana, youtrack, both");const n=await fetch("".concat(a,"/delete-tickets"),{method:"POST",headers:r(),body:JSON.stringify({ticket_ids:e,source:t})});if(!n.ok){i(n);const e=await n.json().catch(()=>null);throw new Error((null===e||void 0===e?void 0:e.error)||"Delete failed with status: ".concat(n.status))}return n.json()},_=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"forever";const n=await fetch("".concat(a,"/ignore"),{method:"POST",headers:r(),body:JSON.stringify({ticket_id:e,action:"add",type:t})});if(!n.ok)throw i(n),new Error("Ignore ticket failed: ".concat(n.status));return n.json()},C=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"forever";const n=await fetch("".concat(a,"/ignore"),{method:"POST",headers:r(),body:JSON.stringify({ticket_id:e,action:"remove",type:t})});if(!n.ok)throw i(n),new Error("Unignore ticket failed: ".concat(n.status));return n.json()},E=async()=>{const e=await fetch("".concat(a,"/auto-sync"),{headers:r()});if(!e.ok)throw i(e),new Error("Auto-sync status failed: ".concat(e.status));return e.json()},T=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;const t=await fetch("".concat(a,"/auto-sync"),{method:"POST",headers:r(),body:JSON.stringify({action:"start",interval:e})});if(!t.ok)throw i(t),new Error("Start auto-sync failed: ".concat(t.status));return t.json()},P=async()=>{const e=await fetch("".concat(a,"/auto-sync"),{method:"POST",headers:r(),body:JSON.stringify({action:"stop"})});if(!e.ok)throw i(e),new Error("Stop auto-sync failed: ".concat(e.status));return e.json()},z=async()=>{const e=await fetch("".concat(a,"/auto-create"),{headers:r()});if(!e.ok)throw i(e),new Error("Auto-create status failed: ".concat(e.status));return e.json()},A=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;const t=await fetch("".concat(a,"/auto-create"),{method:"POST",headers:r(),body:JSON.stringify({action:"start",interval:e})});if(!t.ok)throw i(t),new Error("Start auto-create failed: ".concat(t.status));return t.json()},M=async()=>{const e=await fetch("".concat(a,"/auto-create"),{method:"POST",headers:r(),body:JSON.stringify({action:"stop"})});if(!e.ok)throw i(e),new Error("Stop auto-create failed: ".concat(e.status));return e.json()},L=()=>!!s,F=()=>{l(null)},O=e=>{const t="https:"===window.location.protocol?"wss:":"ws:",n=a.replace(/^https?:/,t);return new WebSocket("".concat(n,"/ws?user_id=").concat(e))},D=async()=>{const e=await fetch("".concat(a,"/api/settings/columns/asana"),{headers:r()});if(!e.ok)throw i(e),new Error("Failed to get Asana sections");return e.json()},R=async()=>{const e=await fetch("".concat(a,"/api/settings/columns/youtrack"),{headers:r()});if(!e.ok)throw i(e),new Error("Failed to get YouTrack states");return e.json()},I=async()=>{const e=await fetch("".concat(a,"/api/settings/youtrack/boards"),{headers:r()});if(!e.ok)throw i(e),new Error("Failed to get YouTrack boards");return e.json()},U=async()=>{const e=await fetch("".concat(a,"/changed-mappings"),{headers:r()});if(!e.ok)throw i(e),new Error("Failed to get changed mappings: ".concat(e.status));return e.json()},B=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat(a,"/sync/enhanced");e&&(n+="?column=".concat(encodeURIComponent(e)));const s=await fetch(n,{method:"POST",headers:r(),body:JSON.stringify(t)});if(!s.ok)throw i(s),new Error("Enhanced sync failed: ".concat(s.status));return s.json()},H=async()=>{const e=await fetch("".concat(a,"/auto-sync/detailed"),{headers:r()});if(!e.ok)throw i(e),new Error("Failed to get auto-sync details: ".concat(e.status));return e.json()},W=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;const t=await fetch("".concat(a,"/api/sync/history?limit=").concat(e),{headers:r()});if(!t.ok)throw i(t),new Error("Failed to get sync history: ".concat(t.status));return t.json()},V=async e=>{const t=await fetch("".concat(a,"/api/sync/rollback/").concat(e),{method:"POST",headers:r()});if(!t.ok){i(t);const e=await t.json().catch(()=>({error:"Rollback failed"}));throw new Error(e.error||"Rollback failed: ".concat(t.status))}return t.json()},Y=async e=>{const t=await fetch("".concat(a,"/api/sync/snapshot/").concat(e),{headers:r()});if(!t.ok)throw i(t),new Error("Failed to get snapshot summary: ".concat(t.status));return t.json()},$=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;e.userEmail&&t.append("user_email",e.userEmail),e.ticketId&&t.append("ticket_id",e.ticketId),e.platform&&t.append("platform",e.platform),e.actionType&&t.append("action_type",e.actionType),e.startDate&&t.append("start_date",e.startDate),e.endDate&&t.append("end_date",e.endDate),e.limit&&t.append("limit",e.limit);const n=await fetch("".concat(a,"/api/audit/logs?").concat(t.toString()),{headers:r()});if(!n.ok)throw i(n),new Error("Failed to get audit logs: ".concat(n.status));return n.json()},q=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;e.platform&&t.append("platform",e.platform),e.actionType&&t.append("action_type",e.actionType),e.startDate&&t.append("start_date",e.startDate),e.endDate&&t.append("end_date",e.endDate);const n=await fetch("".concat(a,"/api/audit/logs/export?").concat(t.toString()),{headers:r()});if(!n.ok)throw i(n),new Error("Failed to export audit logs: ".concat(n.status));return await n.blob()},Q=async e=>{const t=await fetch("".concat(a,"/api/audit/ticket/").concat(e,"/history"),{headers:r()});if(!t.ok)throw i(t),new Error("Failed to get ticket history: ".concat(t.status));return t.json()}},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var a=n(43),s=n(853);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)l.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function p(e,t,n,a,s,r,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=l}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function v(e,t,n,a){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,a)&&(n=null),a||null===s?function(e){return!!d.call(f,e)||!d.call(h,e)&&(m.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,a=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,x);g[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,x);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,x);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var O,D=Object.assign;function R(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var I=!1;function U(e,t){if(!e||I)return"";I=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),r=a.stack.split("\n"),l=s.length-1,i=r.length-1;1<=l&&0<=i&&s[l]!==r[i];)i--;for(;1<=l&&0<=i;l--,i--)if(s[l]!==r[i]){if(1!==l||1!==i)do{if(l--,0>--i||s[l]!==r[i]){var o="\n"+s[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=l&&0<=i);break}}}finally{I=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?R(e):""}function B(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case k:return"Portal";case S:return"Profiler";case N:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case z:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){a=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Y(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function G(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function J(e,t){G(e,t);var n=V(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(a&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(te(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function re(e,t){var n=V(t.value),a=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),s=pe(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,s):e[n]=s}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ye=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,je=null,Ne=null;function Se(e){if(e=vs(e)){if("function"!==typeof ke)throw Error(r(280));var t=e.stateNode;t&&(t=ws(t),ke(e.stateNode,e.type,t))}}function _e(e){je?Ne?Ne.push(e):Ne=[e]:je=e}function Ce(){if(je){var e=je,t=Ne;if(Ne=je=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Te(){}var Pe=!1;function ze(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ee(e,t,n)}finally{Pe=!1,(null!==je||null!==Ne)&&(Te(),Ce())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var a=ws(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(r(231,t,typeof n));return n}var Me=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Me=!1}function Fe(e,t,n,a,s,r,l,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,De=null,Re=!1,Ie=null,Ue={onError:function(e){Oe=!0,De=e}};function Be(e,t,n,a,s,r,l,i,o){Oe=!1,De=null,Fe.apply(Ue,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(He(e)!==e)throw Error(r(188))}function Ye(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(null===s)break;var l=s.alternate;if(null===l){if(null!==(a=s.return)){n=a;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return Ve(s),e;if(l===a)return Ve(s),t;l=l.sibling}throw Error(r(188))}if(n.return!==a.return)n=s,a=l;else{for(var i=!1,o=s.child;o;){if(o===n){i=!0,n=s,a=l;break}if(o===a){i=!0,a=s,n=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===n){i=!0,n=l,a=s;break}if(o===a){i=!0,a=l,n=s;break}o=o.sibling}if(!i)throw Error(r(189))}}if(n.alternate!==a)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var qe=s.unstable_scheduleCallback,Qe=s.unstable_cancelCallback,Ke=s.unstable_shouldYield,Xe=s.unstable_requestPaint,Ge=s.unstable_now,Je=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,at=s.unstable_IdlePriority,st=null,rt=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,s=e.suspendedLanes,r=e.pingedLanes,l=268435455&n;if(0!==l){var i=l&~s;0!==i?a=dt(i):0!==(r&=l)&&(a=dt(r))}else 0!==(l=n&~s)?a=dt(l):0!==r&&(a=dt(r));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(r=t&-t)||16===s&&0!==(4194240&r)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)s=1<<(n=31-lt(t)),a|=e[n],t&=~s;return a}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function xt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-lt(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,jt,Nt,St,_t=!1,Ct=[],Et=null,Tt=null,Pt=null,zt=new Map,At=new Map,Mt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":zt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Ot(e,t,n,a,s,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[s]},null!==t&&(null!==(t=vs(t))&&kt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Dt(e){var t=xs(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void St(e.priority,function(){jt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vs(n))&&kt(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);be=a,n.target.dispatchEvent(a),be=null,t.shift()}return!0}function It(e,t,n){Rt(e)&&n.delete(t)}function Ut(){_t=!1,null!==Et&&Rt(Et)&&(Et=null),null!==Tt&&Rt(Tt)&&(Tt=null),null!==Pt&&Rt(Pt)&&(Pt=null),zt.forEach(It),At.forEach(It)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ut)))}function Ht(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var a=Ct[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Et&&Bt(Et,e),null!==Tt&&Bt(Tt,e),null!==Pt&&Bt(Pt,e),zt.forEach(t),At.forEach(t),n=0;n<Mt.length;n++)(a=Mt[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Mt.shift()}var Wt=b.ReactCurrentBatchConfig,Vt=!0;function Yt(e,t,n,a){var s=vt,r=Wt.transition;Wt.transition=null;try{vt=1,qt(e,t,n,a)}finally{vt=s,Wt.transition=r}}function $t(e,t,n,a){var s=vt,r=Wt.transition;Wt.transition=null;try{vt=4,qt(e,t,n,a)}finally{vt=s,Wt.transition=r}}function qt(e,t,n,a){if(Vt){var s=Kt(e,t,n,a);if(null===s)Va(e,t,a,Qt,n),Ft(e,a);else if(function(e,t,n,a,s){switch(t){case"focusin":return Et=Ot(Et,e,t,n,a,s),!0;case"dragenter":return Tt=Ot(Tt,e,t,n,a,s),!0;case"mouseover":return Pt=Ot(Pt,e,t,n,a,s),!0;case"pointerover":var r=s.pointerId;return zt.set(r,Ot(zt.get(r)||null,e,t,n,a,s)),!0;case"gotpointercapture":return r=s.pointerId,At.set(r,Ot(At.get(r)||null,e,t,n,a,s)),!0}return!1}(s,e,t,n,a))a.stopPropagation();else if(Ft(e,a),4&t&&-1<Lt.indexOf(e)){for(;null!==s;){var r=vs(s);if(null!==r&&wt(r),null===(r=Kt(e,t,n,a))&&Va(e,t,a,Qt,n),r===s)break;s=r}null!==s&&a.stopPropagation()}else Va(e,t,a,null,n)}}var Qt=null;function Kt(e,t,n,a){if(Qt=null,null!==(e=xs(e=we(a))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Gt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,a=n.length,s="value"in Gt?Gt.value:Gt.textContent,r=s.length;for(e=0;e<a&&n[e]===s[e];e++);var l=a-e;for(t=1;t<=l&&n[a-t]===s[r-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function sn(e){function t(t,n,a,s,r){for(var l in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(s):s[l]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:an,this.isPropagationStopped=an,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var rn,ln,on,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=D({},cn,{view:0,detail:0}),mn=sn(dn),hn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,ln=e.screenY-on.screenY):ln=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),fn=sn(hn),pn=sn(D({},hn,{dataTransfer:0})),gn=sn(D({},dn,{relatedTarget:0})),yn=sn(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=sn(xn),bn=sn(D({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function Sn(){return Nn}var _n=D({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(_n),En=sn(D({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=sn(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=sn(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),zn=D({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=sn(zn),Mn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Fn=null;u&&"documentMode"in document&&(Fn=document.documentMode);var On=u&&"TextEvent"in window&&!Fn,Dn=u&&(!Ln||Fn&&8<Fn&&11>=Fn),Rn=String.fromCharCode(32),In=!1;function Un(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Yn(e,t,n,a){_e(a),0<(t=$a(t,"onChange")).length&&(n=new un("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var $n=null,qn=null;function Qn(e){Ra(e,0)}function Kn(e){if(q(bs(e)))return e}function Xn(e,t){if("change"===e)return t}var Gn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Zn="function"===typeof ea.oninput}Jn=Zn}else Jn=!1;Gn=Jn&&(!document.documentMode||9<document.documentMode)}function ta(){$n&&($n.detachEvent("onpropertychange",na),qn=$n=null)}function na(e){if("value"===e.propertyName&&Kn(qn)){var t=[];Yn(t,qn,e,we(e)),ze(Qn,t)}}function aa(e,t,n){"focusin"===e?(ta(),qn=n,($n=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function sa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(qn)}function ra(e,t){if("click"===e)return Kn(t)}function la(e,t){if("input"===e||"change"===e)return Kn(t)}var ia="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function oa(e,t){if(ia(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!d.call(t,s)||!ia(e[s],t[s]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ua(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function da(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?da(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ma(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fa(e){var t=ma(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&da(n.ownerDocument.documentElement,n)){if(null!==a&&ha(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,r=Math.min(a.start,s);a=void 0===a.end?r:Math.min(a.end,s),!e.extend&&r>a&&(s=a,a=r,r=s),s=ua(n,r);var l=ua(n,a);s&&l&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),r>a?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pa=u&&"documentMode"in document&&11>=document.documentMode,ga=null,ya=null,xa=null,va=!1;function ba(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;va||null==ga||ga!==Q(a)||("selectionStart"in(a=ga)&&ha(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},xa&&oa(xa,a)||(xa=a,0<(a=$a(ya,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ga)))}function wa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ka={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionend:wa("Transition","TransitionEnd")},ja={},Na={};function Sa(e){if(ja[e])return ja[e];if(!ka[e])return e;var t,n=ka[e];for(t in n)if(n.hasOwnProperty(t)&&t in Na)return ja[e]=n[t];return e}u&&(Na=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);var _a=Sa("animationend"),Ca=Sa("animationiteration"),Ea=Sa("animationstart"),Ta=Sa("transitionend"),Pa=new Map,za="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Aa(e,t){Pa.set(e,t),o(t,[e])}for(var Ma=0;Ma<za.length;Ma++){var La=za[Ma];Aa(La.toLowerCase(),"on"+(La[0].toUpperCase()+La.slice(1)))}Aa(_a,"onAnimationEnd"),Aa(Ca,"onAnimationIteration"),Aa(Ea,"onAnimationStart"),Aa("dblclick","onDoubleClick"),Aa("focusin","onFocus"),Aa("focusout","onBlur"),Aa(Ta,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oa=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fa));function Da(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,s,l,i,o,c){if(Be.apply(this,arguments),Oe){if(!Oe)throw Error(r(198));var u=De;Oe=!1,De=null,Re||(Re=!0,Ie=u)}}(a,t,void 0,e),e.currentTarget=null}function Ra(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var l=a.length-1;0<=l;l--){var i=a[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==r&&s.isPropagationStopped())break e;Da(s,i,c),r=o}else for(l=0;l<a.length;l++){if(o=(i=a[l]).instance,c=i.currentTarget,i=i.listener,o!==r&&s.isPropagationStopped())break e;Da(s,i,c),r=o}}}if(Re)throw e=Ie,Re=!1,Ie=null,e}function Ia(e,t){var n=t[ps];void 0===n&&(n=t[ps]=new Set);var a=e+"__bubble";n.has(a)||(Wa(t,e,2,!1),n.add(a))}function Ua(e,t,n){var a=0;t&&(a|=4),Wa(n,e,a,t)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function Ha(e){if(!e[Ba]){e[Ba]=!0,l.forEach(function(t){"selectionchange"!==t&&(Oa.has(t)||Ua(t,!1,e),Ua(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ba]||(t[Ba]=!0,Ua("selectionchange",!1,t))}}function Wa(e,t,n,a){switch(Xt(t)){case 1:var s=Yt;break;case 4:s=$t;break;default:s=qt}n=s.bind(null,t,n,e),s=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),a?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Va(e,t,n,a,s){var r=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var l=a.tag;if(3===l||4===l){var i=a.stateNode.containerInfo;if(i===s||8===i.nodeType&&i.parentNode===s)break;if(4===l)for(l=a.return;null!==l;){var o=l.tag;if((3===o||4===o)&&((o=l.stateNode.containerInfo)===s||8===o.nodeType&&o.parentNode===s))return;l=l.return}for(;null!==i;){if(null===(l=xs(i)))return;if(5===(o=l.tag)||6===o){a=r=l;continue e}i=i.parentNode}}a=a.return}ze(function(){var a=r,s=we(n),l=[];e:{var i=Pa.get(e);if(void 0!==i){var o=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":o=Cn;break;case"focusin":c="focus",o=gn;break;case"focusout":c="blur",o=gn;break;case"beforeblur":case"afterblur":o=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Tn;break;case _a:case Ca:case Ea:o=yn;break;case Ta:o=Pn;break;case"scroll":o=mn;break;case"wheel":o=An;break;case"copy":case"cut":case"paste":o=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=En}var u=0!==(4&t),d=!u&&"scroll"===e,m=u?null!==i?i+"Capture":null:i;u=[];for(var h,f=a;null!==f;){var p=(h=f).stateNode;if(5===h.tag&&null!==p&&(h=p,null!==m&&(null!=(p=Ae(f,m))&&u.push(Ya(f,p,h)))),d)break;f=f.return}0<u.length&&(i=new o(i,c,null,n,s),l.push({event:i,listeners:u}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!xs(c)&&!c[fs])&&(o||i)&&(i=s.window===s?s:(i=s.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=a,null!==(c=(c=n.relatedTarget||n.toElement)?xs(c):null)&&(c!==(d=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=a),o!==c)){if(u=fn,p="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,p="onPointerLeave",m="onPointerEnter",f="pointer"),d=null==o?i:bs(o),h=null==c?i:bs(c),(i=new u(p,f+"leave",o,n,s)).target=d,i.relatedTarget=h,p=null,xs(s)===a&&((u=new u(m,f+"enter",c,n,s)).target=h,u.relatedTarget=d,p=u),d=p,o&&c)e:{for(m=c,f=0,h=u=o;h;h=qa(h))f++;for(h=0,p=m;p;p=qa(p))h++;for(;0<f-h;)u=qa(u),f--;for(;0<h-f;)m=qa(m),h--;for(;f--;){if(u===m||null!==m&&u===m.alternate)break e;u=qa(u),m=qa(m)}u=null}else u=null;null!==o&&Qa(l,i,o,u,!1),null!==c&&null!==d&&Qa(l,d,c,u,!0)}if("select"===(o=(i=a?bs(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var g=Xn;else if(Vn(i))if(Gn)g=la;else{g=sa;var y=aa}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=ra);switch(g&&(g=g(e,a))?Yn(l,g,n,s):(y&&y(e,i,a),"focusout"===e&&(y=i._wrapperState)&&y.controlled&&"number"===i.type&&ee(i,"number",i.value)),y=a?bs(a):window,e){case"focusin":(Vn(y)||"true"===y.contentEditable)&&(ga=y,ya=a,xa=null);break;case"focusout":xa=ya=ga=null;break;case"mousedown":va=!0;break;case"contextmenu":case"mouseup":case"dragend":va=!1,ba(l,n,s);break;case"selectionchange":if(pa)break;case"keydown":case"keyup":ba(l,n,s)}var x;if(Ln)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Hn?Un(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Dn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Hn&&(x=en()):(Jt="value"in(Gt=s)?Gt.value:Gt.textContent,Hn=!0)),0<(y=$a(a,v)).length&&(v=new bn(v,e,null,n,s),l.push({event:v,listeners:y}),x?v.data=x:null!==(x=Bn(n))&&(v.data=x))),(x=On?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(In=!0,Rn);case"textInput":return(e=t.data)===Rn&&In?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Ln&&Un(e,t)?(e=en(),Zt=Jt=Gt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=$a(a,"onBeforeInput")).length&&(s=new bn("onBeforeInput","beforeinput",null,n,s),l.push({event:s,listeners:a}),s.data=x))}Ra(l,t)})}function Ya(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $a(e,t){for(var n=t+"Capture",a=[];null!==e;){var s=e,r=s.stateNode;5===s.tag&&null!==r&&(s=r,null!=(r=Ae(e,n))&&a.unshift(Ya(e,r,s)),null!=(r=Ae(e,t))&&a.push(Ya(e,r,s))),e=e.return}return a}function qa(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qa(e,t,n,a,s){for(var r=t._reactName,l=[];null!==n&&n!==a;){var i=n,o=i.alternate,c=i.stateNode;if(null!==o&&o===a)break;5===i.tag&&null!==c&&(i=c,s?null!=(o=Ae(n,r))&&l.unshift(Ya(n,o,i)):s||null!=(o=Ae(n,r))&&l.push(Ya(n,o,i))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Ka=/\r\n?/g,Xa=/\u0000|\uFFFD/g;function Ga(e){return("string"===typeof e?e:""+e).replace(Ka,"\n").replace(Xa,"")}function Ja(e,t,n){if(t=Ga(t),Ga(e)!==t&&n)throw Error(r(425))}function Za(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var as="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,rs="function"===typeof Promise?Promise:void 0,ls="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof rs?function(e){return rs.resolve(null).then(e).catch(is)}:as;function is(e){setTimeout(function(){throw e})}function os(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===a)return e.removeChild(s),void Ht(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=s}while(n);Ht(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function us(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),ms="__reactFiber$"+ds,hs="__reactProps$"+ds,fs="__reactContainer$"+ds,ps="__reactEvents$"+ds,gs="__reactListeners$"+ds,ys="__reactHandles$"+ds;function xs(e){var t=e[ms];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fs]||n[ms]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=us(e);null!==e;){if(n=e[ms])return n;e=us(e)}return t}n=(e=n).parentNode}return null}function vs(e){return!(e=e[ms]||e[fs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function ws(e){return e[hs]||null}var ks=[],js=-1;function Ns(e){return{current:e}}function Ss(e){0>js||(e.current=ks[js],ks[js]=null,js--)}function _s(e,t){js++,ks[js]=e.current,e.current=t}var Cs={},Es=Ns(Cs),Ts=Ns(!1),Ps=Cs;function zs(e,t){var n=e.type.contextTypes;if(!n)return Cs;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var s,r={};for(s in n)r[s]=t[s];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function As(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ms(){Ss(Ts),Ss(Es)}function Ls(e,t,n){if(Es.current!==Cs)throw Error(r(168));_s(Es,t),_s(Ts,n)}function Fs(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var s in a=a.getChildContext())if(!(s in t))throw Error(r(108,W(e)||"Unknown",s));return D({},n,a)}function Os(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cs,Ps=Es.current,_s(Es,e),_s(Ts,Ts.current),!0}function Ds(e,t,n){var a=e.stateNode;if(!a)throw Error(r(169));n?(e=Fs(e,t,Ps),a.__reactInternalMemoizedMergedChildContext=e,Ss(Ts),Ss(Es),_s(Es,e)):Ss(Ts),_s(Ts,n)}var Rs=null,Is=!1,Us=!1;function Bs(e){null===Rs?Rs=[e]:Rs.push(e)}function Hs(){if(!Us&&null!==Rs){Us=!0;var e=0,t=vt;try{var n=Rs;for(vt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}Rs=null,Is=!1}catch(s){throw null!==Rs&&(Rs=Rs.slice(e+1)),qe(Ze,Hs),s}finally{vt=t,Us=!1}}return null}var Ws=[],Vs=0,Ys=null,$s=0,qs=[],Qs=0,Ks=null,Xs=1,Gs="";function Js(e,t){Ws[Vs++]=$s,Ws[Vs++]=Ys,Ys=e,$s=t}function Zs(e,t,n){qs[Qs++]=Xs,qs[Qs++]=Gs,qs[Qs++]=Ks,Ks=e;var a=Xs;e=Gs;var s=32-lt(a)-1;a&=~(1<<s),n+=1;var r=32-lt(t)+s;if(30<r){var l=s-s%5;r=(a&(1<<l)-1).toString(32),a>>=l,s-=l,Xs=1<<32-lt(t)+s|n<<s|a,Gs=r+e}else Xs=1<<r|n<<s|a,Gs=e}function er(e){null!==e.return&&(Js(e,1),Zs(e,1,0))}function tr(e){for(;e===Ys;)Ys=Ws[--Vs],Ws[Vs]=null,$s=Ws[--Vs],Ws[Vs]=null;for(;e===Ks;)Ks=qs[--Qs],qs[Qs]=null,Gs=qs[--Qs],qs[Qs]=null,Xs=qs[--Qs],qs[Qs]=null}var nr=null,ar=null,sr=!1,rr=null;function lr(e,t){var n=zc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ir(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,nr=e,ar=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,nr=e,ar=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ks?{id:Xs,overflow:Gs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=zc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,nr=e,ar=null,!0);default:return!1}}function or(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cr(e){if(sr){var t=ar;if(t){var n=t;if(!ir(e,t)){if(or(e))throw Error(r(418));t=cs(n.nextSibling);var a=nr;t&&ir(e,t)?lr(a,n):(e.flags=-4097&e.flags|2,sr=!1,nr=e)}}else{if(or(e))throw Error(r(418));e.flags=-4097&e.flags|2,sr=!1,nr=e}}}function ur(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;nr=e}function dr(e){if(e!==nr)return!1;if(!sr)return ur(e),sr=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ar)){if(or(e))throw mr(),Error(r(418));for(;t;)lr(e,t),t=cs(t.nextSibling)}if(ur(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ar=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ar=null}}else ar=nr?cs(e.stateNode.nextSibling):null;return!0}function mr(){for(var e=ar;e;)e=cs(e.nextSibling)}function hr(){ar=nr=null,sr=!1}function fr(e){null===rr?rr=[e]:rr.push(e)}var pr=b.ReactCurrentBatchConfig;function gr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var a=n.stateNode}if(!a)throw Error(r(147,e));var s=a,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=s.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function yr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xr(e){return(0,e._init)(e._payload)}function vr(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function l(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,a){return null===t||6!==t.tag?((t=Dc(n,e.mode,a)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,a){var r=n.type;return r===j?d(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===A&&xr(r)===t.type)?((a=s(t,n.props)).ref=gr(e,t,n),a.return=e,a):((a=Lc(n.type,n.key,n.props,null,e.mode,a)).ref=gr(e,t,n),a.return=e,a)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Rc(n,e.mode,a)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,a,r){return null===t||7!==t.tag?((t=Fc(n,e.mode,a,r)).return=e,t):((t=s(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=gr(e,null,t),n.return=e,n;case k:return(t=Rc(t,e.mode,n)).return=e,t;case A:return m(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Fc(t,e.mode,n,null)).return=e,t;yr(e,t)}return null}function h(e,t,n,a){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:o(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,a):null;case k:return n.key===s?u(e,t,n,a):null;case A:return h(e,t,(s=n._init)(n._payload),a)}if(te(n)||F(n))return null!==s?null:d(e,t,n,a,null);yr(e,n)}return null}function f(e,t,n,a,s){if("string"===typeof a&&""!==a||"number"===typeof a)return o(t,e=e.get(n)||null,""+a,s);if("object"===typeof a&&null!==a){switch(a.$$typeof){case w:return c(t,e=e.get(null===a.key?n:a.key)||null,a,s);case k:return u(t,e=e.get(null===a.key?n:a.key)||null,a,s);case A:return f(e,t,n,(0,a._init)(a._payload),s)}if(te(a)||F(a))return d(t,e=e.get(n)||null,a,s,null);yr(t,a)}return null}function p(s,r,i,o){for(var c=null,u=null,d=r,p=r=0,g=null;null!==d&&p<i.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var y=h(s,d,i[p],o);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(s,d),r=l(y,r,p),null===u?c=y:u.sibling=y,u=y,d=g}if(p===i.length)return n(s,d),sr&&Js(s,p),c;if(null===d){for(;p<i.length;p++)null!==(d=m(s,i[p],o))&&(r=l(d,r,p),null===u?c=d:u.sibling=d,u=d);return sr&&Js(s,p),c}for(d=a(s,d);p<i.length;p++)null!==(g=f(d,s,p,i[p],o))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),r=l(g,r,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(s,e)}),sr&&Js(s,p),c}function g(s,i,o,c){var u=F(o);if("function"!==typeof u)throw Error(r(150));if(null==(o=u.call(o)))throw Error(r(151));for(var d=u=null,p=i,g=i=0,y=null,x=o.next();null!==p&&!x.done;g++,x=o.next()){p.index>g?(y=p,p=null):y=p.sibling;var v=h(s,p,x.value,c);if(null===v){null===p&&(p=y);break}e&&p&&null===v.alternate&&t(s,p),i=l(v,i,g),null===d?u=v:d.sibling=v,d=v,p=y}if(x.done)return n(s,p),sr&&Js(s,g),u;if(null===p){for(;!x.done;g++,x=o.next())null!==(x=m(s,x.value,c))&&(i=l(x,i,g),null===d?u=x:d.sibling=x,d=x);return sr&&Js(s,g),u}for(p=a(s,p);!x.done;g++,x=o.next())null!==(x=f(p,s,g,x.value,c))&&(e&&null!==x.alternate&&p.delete(null===x.key?g:x.key),i=l(x,i,g),null===d?u=x:d.sibling=x,d=x);return e&&p.forEach(function(e){return t(s,e)}),sr&&Js(s,g),u}return function e(a,r,l,o){if("object"===typeof l&&null!==l&&l.type===j&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case w:e:{for(var c=l.key,u=r;null!==u;){if(u.key===c){if((c=l.type)===j){if(7===u.tag){n(a,u.sibling),(r=s(u,l.props.children)).return=a,a=r;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&xr(c)===u.type){n(a,u.sibling),(r=s(u,l.props)).ref=gr(a,u,l),r.return=a,a=r;break e}n(a,u);break}t(a,u),u=u.sibling}l.type===j?((r=Fc(l.props.children,a.mode,o,l.key)).return=a,a=r):((o=Lc(l.type,l.key,l.props,null,a.mode,o)).ref=gr(a,r,l),o.return=a,a=o)}return i(a);case k:e:{for(u=l.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===l.containerInfo&&r.stateNode.implementation===l.implementation){n(a,r.sibling),(r=s(r,l.children||[])).return=a,a=r;break e}n(a,r);break}t(a,r),r=r.sibling}(r=Rc(l,a.mode,o)).return=a,a=r}return i(a);case A:return e(a,r,(u=l._init)(l._payload),o)}if(te(l))return p(a,r,l,o);if(F(l))return g(a,r,l,o);yr(a,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==r&&6===r.tag?(n(a,r.sibling),(r=s(r,l)).return=a,a=r):(n(a,r),(r=Dc(l,a.mode,o)).return=a,a=r),i(a)):n(a,r)}}var br=vr(!0),wr=vr(!1),kr=Ns(null),jr=null,Nr=null,Sr=null;function _r(){Sr=Nr=jr=null}function Cr(e){var t=kr.current;Ss(kr),e._currentValue=t}function Er(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Tr(e,t){jr=e,Sr=Nr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xi=!0),e.firstContext=null)}function Pr(e){var t=e._currentValue;if(Sr!==e)if(e={context:e,memoizedValue:t,next:null},null===Nr){if(null===jr)throw Error(r(308));Nr=e,jr.dependencies={lanes:0,firstContext:e}}else Nr=Nr.next=e;return t}var zr=null;function Ar(e){null===zr?zr=[e]:zr.push(e)}function Mr(e,t,n,a){var s=t.interleaved;return null===s?(n.next=n,Ar(t)):(n.next=s.next,s.next=n),t.interleaved=n,Lr(e,a)}function Lr(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fr=!1;function Or(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Eo)){var s=a.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),a.pending=t,Lr(e,n)}return null===(s=a.interleaved)?(t.next=t,Ar(a)):(t.next=s.next,s.next=t),a.interleaved=t,Lr(e,n)}function Ur(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,xt(e,n)}}function Br(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var s=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?s=r=l:r=r.next=l,n=n.next}while(null!==n);null===r?s=r=t:r=r.next=t}else s=r=t;return n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hr(e,t,n,a){var s=e.updateQueue;Fr=!1;var r=s.firstBaseUpdate,l=s.lastBaseUpdate,i=s.shared.pending;if(null!==i){s.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?r=c:l.next=c,l=o;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==l&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=o))}if(null!==r){var d=s.baseState;for(l=0,u=c=o=null,i=r;;){var m=i.lane,h=i.eventTime;if((a&m)===m){null!==u&&(u=u.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var f=e,p=i;switch(m=t,h=n,p.tag){case 1:if("function"===typeof(f=p.payload)){d=f.call(h,d,m);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(m="function"===typeof(f=p.payload)?f.call(h,d,m):f)||void 0===m)break e;d=D({},d,m);break e;case 2:Fr=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=s.effects)?s.effects=[i]:m.push(i))}else h={eventTime:h,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=h,o=d):u=u.next=h,l|=m;if(null===(i=i.next)){if(null===(i=s.shared.pending))break;i=(m=i).next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}if(null===u&&(o=d),s.baseState=o,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{l|=s.lane,s=s.next}while(s!==t)}else null===r&&(s.shared.lanes=0);Oo|=l,e.lanes=l,e.memoizedState=d}}function Wr(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],s=a.callback;if(null!==s){if(a.callback=null,a=n,"function"!==typeof s)throw Error(r(191,s));s.call(a)}}}var Vr={},Yr=Ns(Vr),$r=Ns(Vr),qr=Ns(Vr);function Qr(e){if(e===Vr)throw Error(r(174));return e}function Kr(e,t){switch(_s(qr,t),_s($r,e),_s(Yr,Vr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ss(Yr),_s(Yr,t)}function Xr(){Ss(Yr),Ss($r),Ss(qr)}function Gr(e){Qr(qr.current);var t=Qr(Yr.current),n=oe(t,e.type);t!==n&&(_s($r,e),_s(Yr,n))}function Jr(e){$r.current===e&&(Ss(Yr),Ss($r))}var Zr=Ns(0);function el(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tl=[];function nl(){for(var e=0;e<tl.length;e++)tl[e]._workInProgressVersionPrimary=null;tl.length=0}var al=b.ReactCurrentDispatcher,sl=b.ReactCurrentBatchConfig,rl=0,ll=null,il=null,ol=null,cl=!1,ul=!1,dl=0,ml=0;function hl(){throw Error(r(321))}function fl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ia(e[n],t[n]))return!1;return!0}function pl(e,t,n,a,s,l){if(rl=l,ll=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,al.current=null===e||null===e.memoizedState?Jl:Zl,e=n(a,s),ul){l=0;do{if(ul=!1,dl=0,25<=l)throw Error(r(301));l+=1,ol=il=null,t.updateQueue=null,al.current=ei,e=n(a,s)}while(ul)}if(al.current=Gl,t=null!==il&&null!==il.next,rl=0,ol=il=ll=null,cl=!1,t)throw Error(r(300));return e}function gl(){var e=0!==dl;return dl=0,e}function yl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ol?ll.memoizedState=ol=e:ol=ol.next=e,ol}function xl(){if(null===il){var e=ll.alternate;e=null!==e?e.memoizedState:null}else e=il.next;var t=null===ol?ll.memoizedState:ol.next;if(null!==t)ol=t,il=e;else{if(null===e)throw Error(r(310));e={memoizedState:(il=e).memoizedState,baseState:il.baseState,baseQueue:il.baseQueue,queue:il.queue,next:null},null===ol?ll.memoizedState=ol=e:ol=ol.next=e}return ol}function vl(e,t){return"function"===typeof t?t(e):t}function bl(e){var t=xl(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var a=il,s=a.baseQueue,l=n.pending;if(null!==l){if(null!==s){var i=s.next;s.next=l.next,l.next=i}a.baseQueue=s=l,n.pending=null}if(null!==s){l=s.next,a=a.baseState;var o=i=null,c=null,u=l;do{var d=u.lane;if((rl&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),a=u.hasEagerState?u.eagerState:e(a,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(o=c=m,i=a):c=c.next=m,ll.lanes|=d,Oo|=d}u=u.next}while(null!==u&&u!==l);null===c?i=a:c.next=o,ia(a,t.memoizedState)||(xi=!0),t.memoizedState=a,t.baseState=i,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){s=e;do{l=s.lane,ll.lanes|=l,Oo|=l,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wl(e){var t=xl(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,l=t.memoizedState;if(null!==s){n.pending=null;var i=s=s.next;do{l=e(l,i.action),i=i.next}while(i!==s);ia(l,t.memoizedState)||(xi=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,a]}function kl(){}function jl(e,t){var n=ll,a=xl(),s=t(),l=!ia(a.memoizedState,s);if(l&&(a.memoizedState=s,xi=!0),a=a.queue,Fl(_l.bind(null,n,a,e),[e]),a.getSnapshot!==t||l||null!==ol&&1&ol.memoizedState.tag){if(n.flags|=2048,Pl(9,Sl.bind(null,n,a,s,t),void 0,null),null===To)throw Error(r(349));0!==(30&rl)||Nl(n,t,s)}return s}function Nl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Sl(e,t,n,a){t.value=n,t.getSnapshot=a,Cl(t)&&El(e)}function _l(e,t,n){return n(function(){Cl(t)&&El(e)})}function Cl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ia(e,n)}catch(a){return!0}}function El(e){var t=Lr(e,1);null!==t&&nc(t,e,1,-1)}function Tl(e){var t=yl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:e},t.queue=e,e=e.dispatch=ql.bind(null,ll,e),[t.memoizedState,e]}function Pl(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function zl(){return xl().memoizedState}function Al(e,t,n,a){var s=yl();ll.flags|=e,s.memoizedState=Pl(1|t,n,void 0,void 0===a?null:a)}function Ml(e,t,n,a){var s=xl();a=void 0===a?null:a;var r=void 0;if(null!==il){var l=il.memoizedState;if(r=l.destroy,null!==a&&fl(a,l.deps))return void(s.memoizedState=Pl(t,n,r,a))}ll.flags|=e,s.memoizedState=Pl(1|t,n,r,a)}function Ll(e,t){return Al(8390656,8,e,t)}function Fl(e,t){return Ml(2048,8,e,t)}function Ol(e,t){return Ml(4,2,e,t)}function Dl(e,t){return Ml(4,4,e,t)}function Rl(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Il(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ml(4,4,Rl.bind(null,t,e),n)}function Ul(){}function Bl(e,t){var n=xl();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&fl(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Hl(e,t){var n=xl();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&fl(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Wl(e,t,n){return 0===(21&rl)?(e.baseState&&(e.baseState=!1,xi=!0),e.memoizedState=n):(ia(n,t)||(n=pt(),ll.lanes|=n,Oo|=n,e.baseState=!0),t)}function Vl(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var a=sl.transition;sl.transition={};try{e(!1),t()}finally{vt=n,sl.transition=a}}function Yl(){return xl().memoizedState}function $l(e,t,n){var a=tc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},Ql(e))Kl(t,n);else if(null!==(n=Mr(e,t,n,a))){nc(n,e,a,ec()),Xl(n,t,a)}}function ql(e,t,n){var a=tc(e),s={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ql(e))Kl(t,s);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=r(l,n);if(s.hasEagerState=!0,s.eagerState=i,ia(i,l)){var o=t.interleaved;return null===o?(s.next=s,Ar(t)):(s.next=o.next,o.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Mr(e,t,s,a))&&(nc(n,e,a,s=ec()),Xl(n,t,a))}}function Ql(e){var t=e.alternate;return e===ll||null!==t&&t===ll}function Kl(e,t){ul=cl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xl(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,xt(e,n)}}var Gl={readContext:Pr,useCallback:hl,useContext:hl,useEffect:hl,useImperativeHandle:hl,useInsertionEffect:hl,useLayoutEffect:hl,useMemo:hl,useReducer:hl,useRef:hl,useState:hl,useDebugValue:hl,useDeferredValue:hl,useTransition:hl,useMutableSource:hl,useSyncExternalStore:hl,useId:hl,unstable_isNewReconciler:!1},Jl={readContext:Pr,useCallback:function(e,t){return yl().memoizedState=[e,void 0===t?null:t],e},useContext:Pr,useEffect:Ll,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Al(4194308,4,Rl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Al(4194308,4,e,t)},useInsertionEffect:function(e,t){return Al(4,2,e,t)},useMemo:function(e,t){var n=yl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=yl();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=$l.bind(null,ll,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},yl().memoizedState=e},useState:Tl,useDebugValue:Ul,useDeferredValue:function(e){return yl().memoizedState=e},useTransition:function(){var e=Tl(!1),t=e[0];return e=Vl.bind(null,e[1]),yl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=ll,s=yl();if(sr){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===To)throw Error(r(349));0!==(30&rl)||Nl(a,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,Ll(_l.bind(null,a,l,e),[e]),a.flags|=2048,Pl(9,Sl.bind(null,a,l,n,t),void 0,null),n},useId:function(){var e=yl(),t=To.identifierPrefix;if(sr){var n=Gs;t=":"+t+"R"+(n=(Xs&~(1<<32-lt(Xs)-1)).toString(32)+n),0<(n=dl++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ml++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zl={readContext:Pr,useCallback:Bl,useContext:Pr,useEffect:Fl,useImperativeHandle:Il,useInsertionEffect:Ol,useLayoutEffect:Dl,useMemo:Hl,useReducer:bl,useRef:zl,useState:function(){return bl(vl)},useDebugValue:Ul,useDeferredValue:function(e){return Wl(xl(),il.memoizedState,e)},useTransition:function(){return[bl(vl)[0],xl().memoizedState]},useMutableSource:kl,useSyncExternalStore:jl,useId:Yl,unstable_isNewReconciler:!1},ei={readContext:Pr,useCallback:Bl,useContext:Pr,useEffect:Fl,useImperativeHandle:Il,useInsertionEffect:Ol,useLayoutEffect:Dl,useMemo:Hl,useReducer:wl,useRef:zl,useState:function(){return wl(vl)},useDebugValue:Ul,useDeferredValue:function(e){var t=xl();return null===il?t.memoizedState=e:Wl(t,il.memoizedState,e)},useTransition:function(){return[wl(vl)[0],xl().memoizedState]},useMutableSource:kl,useSyncExternalStore:jl,useId:Yl,unstable_isNewReconciler:!1};function ti(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ni(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ec(),s=tc(e),r=Rr(a,s);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=Ir(e,r,s))&&(nc(t,e,s,a),Ur(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ec(),s=tc(e),r=Rr(a,s);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=Ir(e,r,s))&&(nc(t,e,s,a),Ur(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),a=tc(e),s=Rr(n,a);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Ir(e,s,a))&&(nc(t,e,a,n),Ur(t,e,a))}};function si(e,t,n,a,s,r,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,r,l):!t.prototype||!t.prototype.isPureReactComponent||(!oa(n,a)||!oa(s,r))}function ri(e,t,n){var a=!1,s=Cs,r=t.contextType;return"object"===typeof r&&null!==r?r=Pr(r):(s=As(t)?Ps:Es.current,r=(a=null!==(a=t.contextTypes)&&void 0!==a)?zs(e,s):Cs),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=r),t}function li(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function ii(e,t,n,a){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Or(e);var r=t.contextType;"object"===typeof r&&null!==r?s.context=Pr(r):(r=As(t)?Ps:Es.current,s.context=zs(e,r)),s.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(ni(e,t,r,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ai.enqueueReplaceState(s,s.state,null),Hr(e,n,s,a),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function oi(e,t){try{var n="",a=t;do{n+=B(a),a=a.return}while(a);var s=n}catch(r){s="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:s,digest:null}}function ci(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ui(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var di="function"===typeof WeakMap?WeakMap:Map;function mi(e,t,n){(n=Rr(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Vo||(Vo=!0,Yo=a),ui(0,t)},n}function hi(e,t,n){(n=Rr(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var s=t.value;n.payload=function(){return a(s)},n.callback=function(){ui(0,t)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){ui(0,t),"function"!==typeof a&&(null===$o?$o=new Set([this]):$o.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fi(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new di;var s=new Set;a.set(t,s)}else void 0===(s=a.get(t))&&(s=new Set,a.set(t,s));s.has(n)||(s.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function pi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gi(e,t,n,a,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Rr(-1,1)).tag=2,Ir(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var yi=b.ReactCurrentOwner,xi=!1;function vi(e,t,n,a){t.child=null===e?wr(t,null,n,a):br(t,e.child,n,a)}function bi(e,t,n,a,s){n=n.render;var r=t.ref;return Tr(t,s),a=pl(e,t,n,a,r,s),n=gl(),null===e||xi?(sr&&n&&er(t),t.flags|=1,vi(e,t,a,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wi(e,t,s))}function wi(e,t,n,a,s){if(null===e){var r=n.type;return"function"!==typeof r||Ac(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,a,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,ki(e,t,r,a,s))}if(r=e.child,0===(e.lanes&s)){var l=r.memoizedProps;if((n=null!==(n=n.compare)?n:oa)(l,a)&&e.ref===t.ref)return Wi(e,t,s)}return t.flags|=1,(e=Mc(r,a)).ref=t.ref,e.return=t,t.child=e}function ki(e,t,n,a,s){if(null!==e){var r=e.memoizedProps;if(oa(r,a)&&e.ref===t.ref){if(xi=!1,t.pendingProps=a=r,0===(e.lanes&s))return t.lanes=e.lanes,Wi(e,t,s);0!==(131072&e.flags)&&(xi=!0)}}return Si(e,t,n,a,s)}function ji(e,t,n){var a=t.pendingProps,s=a.children,r=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_s(Mo,Ao),Ao|=n;else{if(0===(1073741824&n))return e=null!==r?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_s(Mo,Ao),Ao|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==r?r.baseLanes:n,_s(Mo,Ao),Ao|=a}else null!==r?(a=r.baseLanes|n,t.memoizedState=null):a=n,_s(Mo,Ao),Ao|=a;return vi(e,t,s,n),t.child}function Ni(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Si(e,t,n,a,s){var r=As(n)?Ps:Es.current;return r=zs(t,r),Tr(t,s),n=pl(e,t,n,a,r,s),a=gl(),null===e||xi?(sr&&a&&er(t),t.flags|=1,vi(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wi(e,t,s))}function _i(e,t,n,a,s){if(As(n)){var r=!0;Os(t)}else r=!1;if(Tr(t,s),null===t.stateNode)Hi(e,t),ri(t,n,a),ii(t,n,a,s),a=!0;else if(null===e){var l=t.stateNode,i=t.memoizedProps;l.props=i;var o=l.context,c=n.contextType;"object"===typeof c&&null!==c?c=Pr(c):c=zs(t,c=As(n)?Ps:Es.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof l.getSnapshotBeforeUpdate;d||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==a||o!==c)&&li(t,l,a,c),Fr=!1;var m=t.memoizedState;l.state=m,Hr(t,a,l,s),o=t.memoizedState,i!==a||m!==o||Ts.current||Fr?("function"===typeof u&&(ni(t,n,u,a),o=t.memoizedState),(i=Fr||si(t,n,i,a,m,o,c))?(d||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=o),l.props=a,l.state=o,l.context=c,a=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,Dr(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ti(t.type,i),l.props=c,d=t.pendingProps,m=l.context,"object"===typeof(o=n.contextType)&&null!==o?o=Pr(o):o=zs(t,o=As(n)?Ps:Es.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==d||m!==o)&&li(t,l,a,o),Fr=!1,m=t.memoizedState,l.state=m,Hr(t,a,l,s);var f=t.memoizedState;i!==d||m!==f||Ts.current||Fr?("function"===typeof h&&(ni(t,n,h,a),f=t.memoizedState),(c=Fr||si(t,n,c,a,m,f,o)||!1)?(u||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(a,f,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(a,f,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=f),l.props=a,l.state=f,l.context=o,a=c):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return Ci(e,t,n,a,r,s)}function Ci(e,t,n,a,s,r){Ni(e,t);var l=0!==(128&t.flags);if(!a&&!l)return s&&Ds(t,n,!1),Wi(e,t,r);a=t.stateNode,yi.current=t;var i=l&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&l?(t.child=br(t,e.child,null,r),t.child=br(t,null,i,r)):vi(e,t,i,r),t.memoizedState=a.state,s&&Ds(t,n,!0),t.child}function Ei(e){var t=e.stateNode;t.pendingContext?Ls(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ls(0,t.context,!1),Kr(e,t.containerInfo)}function Ti(e,t,n,a,s){return hr(),fr(s),t.flags|=256,vi(e,t,n,a),t.child}var Pi,zi,Ai,Mi,Li={dehydrated:null,treeContext:null,retryLane:0};function Fi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oi(e,t,n){var a,s=t.pendingProps,l=Zr.current,i=!1,o=0!==(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&0!==(2&l)),a?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),_s(Zr,1&l),null===e)return cr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&s)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=Oc(o,s,0,null),e=Fc(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Fi(n),t.memoizedState=Li,e):Di(t,o));if(null!==(l=e.memoizedState)&&null!==(a=l.dehydrated))return function(e,t,n,a,s,l,i){if(n)return 256&t.flags?(t.flags&=-257,Ri(e,t,i,a=ci(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=a.fallback,s=t.mode,a=Oc({mode:"visible",children:a.children},s,0,null),(l=Fc(l,s,i,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,0!==(1&t.mode)&&br(t,e.child,null,i),t.child.memoizedState=Fi(i),t.memoizedState=Li,l);if(0===(1&t.mode))return Ri(e,t,i,null);if("$!"===s.data){if(a=s.nextSibling&&s.nextSibling.dataset)var o=a.dgst;return a=o,Ri(e,t,i,a=ci(l=Error(r(419)),a,void 0))}if(o=0!==(i&e.childLanes),xi||o){if(null!==(a=To)){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(a.suspendedLanes|i))?0:s)&&s!==l.retryLane&&(l.retryLane=s,Lr(e,s),nc(a,e,s,-1))}return pc(),Ri(e,t,i,a=ci(Error(r(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,ar=cs(s.nextSibling),nr=t,sr=!0,rr=null,null!==e&&(qs[Qs++]=Xs,qs[Qs++]=Gs,qs[Qs++]=Ks,Xs=e.id,Gs=e.overflow,Ks=t),t=Di(t,a.children),t.flags|=4096,t)}(e,t,o,s,a,l,n);if(i){i=s.fallback,o=t.mode,a=(l=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&o)&&t.child!==l?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Mc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==a?i=Mc(a,i):(i=Fc(i,o,n,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=null===(o=e.child.memoizedState)?Fi(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Li,s}return e=(i=e.child).sibling,s=Mc(i,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Di(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ri(e,t,n,a){return null!==a&&fr(a),br(t,e.child,null,n),(e=Di(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ii(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Er(e.return,t,n)}function Ui(e,t,n,a,s){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=s)}function Bi(e,t,n){var a=t.pendingProps,s=a.revealOrder,r=a.tail;if(vi(e,t,a.children,n),0!==(2&(a=Zr.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ii(e,n,t);else if(19===e.tag)Ii(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(_s(Zr,a),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===el(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ui(t,!1,s,n,r);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===el(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ui(t,!0,n,null,r);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Oo|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vi(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Yi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,a|=14680064&s.subtreeFlags,a|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function $i(e,t,n){var a=t.pendingProps;switch(tr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yi(t),null;case 1:case 17:return As(t.type)&&Ms(),Yi(t),null;case 3:return a=t.stateNode,Xr(),Ss(Ts),Ss(Es),nl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(dr(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==rr&&(lc(rr),rr=null))),zi(e,t),Yi(t),null;case 5:Jr(t);var s=Qr(qr.current);if(n=t.type,null!==e&&null!=t.stateNode)Ai(e,t,n,a,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(r(166));return Yi(t),null}if(e=Qr(Yr.current),dr(t)){a=t.stateNode,n=t.type;var l=t.memoizedProps;switch(a[ms]=t,a[hs]=l,e=0!==(1&t.mode),n){case"dialog":Ia("cancel",a),Ia("close",a);break;case"iframe":case"object":case"embed":Ia("load",a);break;case"video":case"audio":for(s=0;s<Fa.length;s++)Ia(Fa[s],a);break;case"source":Ia("error",a);break;case"img":case"image":case"link":Ia("error",a),Ia("load",a);break;case"details":Ia("toggle",a);break;case"input":X(a,l),Ia("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},Ia("invalid",a);break;case"textarea":se(a,l),Ia("invalid",a)}for(var o in xe(n,l),s=null,l)if(l.hasOwnProperty(o)){var c=l[o];"children"===o?"string"===typeof c?a.textContent!==c&&(!0!==l.suppressHydrationWarning&&Ja(a.textContent,c,e),s=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Ja(a.textContent,c,e),s=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Ia("scroll",a)}switch(n){case"input":$(a),Z(a,l,!0);break;case"textarea":$(a),le(a);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(a.onclick=Za)}a=s,t.updateQueue=a,null!==a&&(t.flags|=4)}else{o=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=o.createElement(n,{is:a.is}):(e=o.createElement(n),"select"===n&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,n),e[ms]=t,e[hs]=a,Pi(e,t,!1,!1),t.stateNode=e;e:{switch(o=ve(n,a),n){case"dialog":Ia("cancel",e),Ia("close",e),s=a;break;case"iframe":case"object":case"embed":Ia("load",e),s=a;break;case"video":case"audio":for(s=0;s<Fa.length;s++)Ia(Fa[s],e);s=a;break;case"source":Ia("error",e),s=a;break;case"img":case"image":case"link":Ia("error",e),Ia("load",e),s=a;break;case"details":Ia("toggle",e),s=a;break;case"input":X(e,a),s=K(e,a),Ia("invalid",e);break;case"option":default:s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=D({},a,{value:void 0}),Ia("invalid",e);break;case"textarea":se(e,a),s=ae(e,a),Ia("invalid",e)}for(l in xe(n,s),c=s)if(c.hasOwnProperty(l)){var u=c[l];"style"===l?ge(e,u):"dangerouslySetInnerHTML"===l?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===l?"string"===typeof u?("textarea"!==n||""!==u)&&me(e,u):"number"===typeof u&&me(e,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(i.hasOwnProperty(l)?null!=u&&"onScroll"===l&&Ia("scroll",e):null!=u&&v(e,l,u,o))}switch(n){case"input":$(e),Z(e,a,!1);break;case"textarea":$(e),le(e);break;case"option":null!=a.value&&e.setAttribute("value",""+V(a.value));break;case"select":e.multiple=!!a.multiple,null!=(l=a.value)?ne(e,!!a.multiple,l,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Za)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yi(t),null;case 6:if(e&&null!=t.stateNode)Mi(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(r(166));if(n=Qr(qr.current),Qr(Yr.current),dr(t)){if(a=t.stateNode,n=t.memoizedProps,a[ms]=t,(l=a.nodeValue!==n)&&null!==(e=nr))switch(e.tag){case 3:Ja(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ja(a.nodeValue,n,0!==(1&e.mode))}l&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[ms]=t,t.stateNode=a}return Yi(t),null;case 13:if(Ss(Zr),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sr&&null!==ar&&0!==(1&t.mode)&&0===(128&t.flags))mr(),hr(),t.flags|=98560,l=!1;else if(l=dr(t),null!==a&&null!==a.dehydrated){if(null===e){if(!l)throw Error(r(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(r(317));l[ms]=t}else hr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yi(t),l=!1}else null!==rr&&(lc(rr),rr=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zr.current)?0===Lo&&(Lo=3):pc())),null!==t.updateQueue&&(t.flags|=4),Yi(t),null);case 4:return Xr(),zi(e,t),null===e&&Ha(t.stateNode.containerInfo),Yi(t),null;case 10:return Cr(t.type._context),Yi(t),null;case 19:if(Ss(Zr),null===(l=t.memoizedState))return Yi(t),null;if(a=0!==(128&t.flags),null===(o=l.rendering))if(a)Vi(l,!1);else{if(0!==Lo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=el(e))){for(t.flags|=128,Vi(l,!1),null!==(a=o.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(l=n).flags&=14680066,null===(o=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _s(Zr,1&Zr.current|2),t.child}e=e.sibling}null!==l.tail&&Ge()>Ho&&(t.flags|=128,a=!0,Vi(l,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=el(o))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vi(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!sr)return Yi(t),null}else 2*Ge()-l.renderingStartTime>Ho&&1073741824!==n&&(t.flags|=128,a=!0,Vi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=l.last)?n.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ge(),t.sibling=null,n=Zr.current,_s(Zr,a?1&n|2:1&n),t):(Yi(t),null);case 22:case 23:return dc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Ao)&&(Yi(t),6&t.subtreeFlags&&(t.flags|=8192)):Yi(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function qi(e,t){switch(tr(t),t.tag){case 1:return As(t.type)&&Ms(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xr(),Ss(Ts),Ss(Es),nl(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Jr(t),null;case 13:if(Ss(Zr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));hr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ss(Zr),null;case 4:return Xr(),null;case 10:return Cr(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zi=function(){},Ai=function(e,t,n,a){var s=e.memoizedProps;if(s!==a){e=t.stateNode,Qr(Yr.current);var r,l=null;switch(n){case"input":s=K(e,s),a=K(e,a),l=[];break;case"select":s=D({},s,{value:void 0}),a=D({},a,{value:void 0}),l=[];break;case"textarea":s=ae(e,s),a=ae(e,a),l=[];break;default:"function"!==typeof s.onClick&&"function"===typeof a.onClick&&(e.onclick=Za)}for(u in xe(n,a),n=null,s)if(!a.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var o=s[u];for(r in o)o.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(i.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in a){var c=a[u];if(o=null!=s?s[u]:void 0,a.hasOwnProperty(u)&&c!==o&&(null!=c||null!=o))if("style"===u)if(o){for(r in o)!o.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in c)c.hasOwnProperty(r)&&o[r]!==c[r]&&(n||(n={}),n[r]=c[r])}else n||(l||(l=[]),l.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(l=l||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(i.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ia("scroll",e),l||o===c||(l=[])):(l=l||[]).push(u,c))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}},Mi=function(e,t,n,a){n!==a&&(t.flags|=4)};var Qi=!1,Ki=!1,Xi="function"===typeof WeakSet?WeakSet:Set,Gi=null;function Ji(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){Nc(e,t,a)}else n.current=null}function Zi(e,t,n){try{n()}catch(a){Nc(e,t,a)}}var eo=!1;function to(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var s=a=a.next;do{if((s.tag&e)===e){var r=s.destroy;s.destroy=void 0,void 0!==r&&Zi(t,n,r)}s=s.next}while(s!==a)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function ao(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function so(e){var t=e.alternate;null!==t&&(e.alternate=null,so(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ms],delete t[hs],delete t[ps],delete t[gs],delete t[ys])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ro(e){return 5===e.tag||3===e.tag||4===e.tag}function lo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ro(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function io(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Za));else if(4!==a&&null!==(e=e.child))for(io(e,t,n),e=e.sibling;null!==e;)io(e,t,n),e=e.sibling}function oo(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(oo(e,t,n),e=e.sibling;null!==e;)oo(e,t,n),e=e.sibling}var co=null,uo=!1;function mo(e,t,n){for(n=n.child;null!==n;)ho(e,t,n),n=n.sibling}function ho(e,t,n){if(rt&&"function"===typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(st,n)}catch(i){}switch(n.tag){case 5:Ki||Ji(n,t);case 6:var a=co,s=uo;co=null,mo(e,t,n),uo=s,null!==(co=a)&&(uo?(e=co,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):co.removeChild(n.stateNode));break;case 18:null!==co&&(uo?(e=co,n=n.stateNode,8===e.nodeType?os(e.parentNode,n):1===e.nodeType&&os(e,n),Ht(e)):os(co,n.stateNode));break;case 4:a=co,s=uo,co=n.stateNode.containerInfo,uo=!0,mo(e,t,n),co=a,uo=s;break;case 0:case 11:case 14:case 15:if(!Ki&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){s=a=a.next;do{var r=s,l=r.destroy;r=r.tag,void 0!==l&&(0!==(2&r)||0!==(4&r))&&Zi(n,t,l),s=s.next}while(s!==a)}mo(e,t,n);break;case 1:if(!Ki&&(Ji(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(i){Nc(n,t,i)}mo(e,t,n);break;case 21:mo(e,t,n);break;case 22:1&n.mode?(Ki=(a=Ki)||null!==n.memoizedState,mo(e,t,n),Ki=a):mo(e,t,n);break;default:mo(e,t,n)}}function fo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xi),t.forEach(function(t){var a=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}}function po(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var s=n[a];try{var l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(r(160));ho(l,i,s),co=null,uo=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(u){Nc(s,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)go(t,e),t=t.sibling}function go(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(po(t,e),yo(e),4&a){try{to(3,e,e.return),no(3,e)}catch(g){Nc(e,e.return,g)}try{to(5,e,e.return)}catch(g){Nc(e,e.return,g)}}break;case 1:po(t,e),yo(e),512&a&&null!==n&&Ji(n,n.return);break;case 5:if(po(t,e),yo(e),512&a&&null!==n&&Ji(n,n.return),32&e.flags){var s=e.stateNode;try{me(s,"")}catch(g){Nc(e,e.return,g)}}if(4&a&&null!=(s=e.stateNode)){var l=e.memoizedProps,i=null!==n?n.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===l.type&&null!=l.name&&G(s,l),ve(o,i);var u=ve(o,l);for(i=0;i<c.length;i+=2){var d=c[i],m=c[i+1];"style"===d?ge(s,m):"dangerouslySetInnerHTML"===d?de(s,m):"children"===d?me(s,m):v(s,d,m,u)}switch(o){case"input":J(s,l);break;case"textarea":re(s,l);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var f=l.value;null!=f?ne(s,!!l.multiple,f,!1):h!==!!l.multiple&&(null!=l.defaultValue?ne(s,!!l.multiple,l.defaultValue,!0):ne(s,!!l.multiple,l.multiple?[]:"",!1))}s[hs]=l}catch(g){Nc(e,e.return,g)}}break;case 6:if(po(t,e),yo(e),4&a){if(null===e.stateNode)throw Error(r(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(g){Nc(e,e.return,g)}}break;case 3:if(po(t,e),yo(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){Nc(e,e.return,g)}break;case 4:default:po(t,e),yo(e);break;case 13:po(t,e),yo(e),8192&(s=e.child).flags&&(l=null!==s.memoizedState,s.stateNode.isHidden=l,!l||null!==s.alternate&&null!==s.alternate.memoizedState||(Bo=Ge())),4&a&&fo(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ki=(u=Ki)||d,po(t,e),Ki=u):po(t,e),yo(e),8192&a){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Gi=e,d=e.child;null!==d;){for(m=Gi=d;null!==Gi;){switch(f=(h=Gi).child,h.tag){case 0:case 11:case 14:case 15:to(4,h,h.return);break;case 1:Ji(h,h.return);var p=h.stateNode;if("function"===typeof p.componentWillUnmount){a=h,n=h.return;try{t=a,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Nc(a,n,g)}}break;case 5:Ji(h,h.return);break;case 22:if(null!==h.memoizedState){wo(m);continue}}null!==f?(f.return=h,Gi=f):wo(m)}d=d.sibling}e:for(d=null,m=e;;){if(5===m.tag){if(null===d){d=m;try{s=m.stateNode,u?"function"===typeof(l=s.style).setProperty?l.setProperty("display","none","important"):l.display="none":(o=m.stateNode,i=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=pe("display",i))}catch(g){Nc(e,e.return,g)}}}else if(6===m.tag){if(null===d)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(g){Nc(e,e.return,g)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:po(t,e),yo(e),4&a&&fo(e);case 21:}}function yo(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ro(n)){var a=n;break e}n=n.return}throw Error(r(160))}switch(a.tag){case 5:var s=a.stateNode;32&a.flags&&(me(s,""),a.flags&=-33),oo(e,lo(e),s);break;case 3:case 4:var l=a.stateNode.containerInfo;io(e,lo(e),l);break;default:throw Error(r(161))}}catch(i){Nc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xo(e,t,n){Gi=e,vo(e,t,n)}function vo(e,t,n){for(var a=0!==(1&e.mode);null!==Gi;){var s=Gi,r=s.child;if(22===s.tag&&a){var l=null!==s.memoizedState||Qi;if(!l){var i=s.alternate,o=null!==i&&null!==i.memoizedState||Ki;i=Qi;var c=Ki;if(Qi=l,(Ki=o)&&!c)for(Gi=s;null!==Gi;)o=(l=Gi).child,22===l.tag&&null!==l.memoizedState?ko(s):null!==o?(o.return=l,Gi=o):ko(s);for(;null!==r;)Gi=r,vo(r,t,n),r=r.sibling;Gi=s,Qi=i,Ki=c}bo(e)}else 0!==(8772&s.subtreeFlags)&&null!==r?(r.return=s,Gi=r):bo(e)}}function bo(e){for(;null!==Gi;){var t=Gi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ki||no(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Ki)if(null===n)a.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ti(t.type,n.memoizedProps);a.componentDidUpdate(s,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Wr(t,l,a);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wr(t,i,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var m=d.dehydrated;null!==m&&Ht(m)}}}break;default:throw Error(r(163))}Ki||512&t.flags&&ao(t)}catch(h){Nc(t,t.return,h)}}if(t===e){Gi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Gi=n;break}Gi=t.return}}function wo(e){for(;null!==Gi;){var t=Gi;if(t===e){Gi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Gi=n;break}Gi=t.return}}function ko(e){for(;null!==Gi;){var t=Gi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{no(4,t)}catch(o){Nc(t,n,o)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var s=t.return;try{a.componentDidMount()}catch(o){Nc(t,s,o)}}var r=t.return;try{ao(t)}catch(o){Nc(t,r,o)}break;case 5:var l=t.return;try{ao(t)}catch(o){Nc(t,l,o)}}}catch(o){Nc(t,t.return,o)}if(t===e){Gi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Gi=i;break}Gi=t.return}}var jo,No=Math.ceil,So=b.ReactCurrentDispatcher,_o=b.ReactCurrentOwner,Co=b.ReactCurrentBatchConfig,Eo=0,To=null,Po=null,zo=0,Ao=0,Mo=Ns(0),Lo=0,Fo=null,Oo=0,Do=0,Ro=0,Io=null,Uo=null,Bo=0,Ho=1/0,Wo=null,Vo=!1,Yo=null,$o=null,qo=!1,Qo=null,Ko=0,Xo=0,Go=null,Jo=-1,Zo=0;function ec(){return 0!==(6&Eo)?Ge():-1!==Jo?Jo:Jo=Ge()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Eo)&&0!==zo?zo&-zo:null!==pr.transition?(0===Zo&&(Zo=pt()),Zo):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,a){if(50<Xo)throw Xo=0,Go=null,Error(r(185));yt(e,n,a),0!==(2&Eo)&&e===To||(e===To&&(0===(2&Eo)&&(Do|=n),4===Lo&&ic(e,zo)),ac(e,a),1===n&&0===Eo&&0===(1&t.mode)&&(Ho=Ge()+500,Is&&Hs()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes;0<r;){var l=31-lt(r),i=1<<l,o=s[l];-1===o?0!==(i&n)&&0===(i&a)||(s[l]=ht(i,t)):o<=t&&(e.expiredLanes|=i),r&=~i}}(e,t);var a=mt(e,e===To?zo:0);if(0===a)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Is=!0,Bs(e)}(oc.bind(null,e)):Bs(oc.bind(null,e)),ls(function(){0===(6&Eo)&&Hs()}),n=null;else{switch(bt(a)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Tc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Jo=-1,Zo=0,0!==(6&Eo))throw Error(r(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var a=mt(e,e===To?zo:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=gc(e,a);else{t=a;var s=Eo;Eo|=2;var l=fc();for(To===e&&zo===t||(Wo=null,Ho=Ge()+500,mc(e,t));;)try{xc();break}catch(o){hc(e,o)}_r(),So.current=l,Eo=s,null!==Po?t=0:(To=null,zo=0,t=Lo)}if(0!==t){if(2===t&&(0!==(s=ft(e))&&(a=s,t=rc(e,s))),1===t)throw n=Fo,mc(e,0),ic(e,a),ac(e,Ge()),n;if(6===t)ic(e,a);else{if(s=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var s=n[a],r=s.getSnapshot;s=s.value;try{if(!ia(r(),s))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=gc(e,a))&&(0!==(l=ft(e))&&(a=l,t=rc(e,l))),1===t))throw n=Fo,mc(e,0),ic(e,a),ac(e,Ge()),n;switch(e.finishedWork=s,e.finishedLanes=a,t){case 0:case 1:throw Error(r(345));case 2:case 5:wc(e,Uo,Wo);break;case 3:if(ic(e,a),(130023424&a)===a&&10<(t=Bo+500-Ge())){if(0!==mt(e,0))break;if(((s=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=as(wc.bind(null,e,Uo,Wo),t);break}wc(e,Uo,Wo);break;case 4:if(ic(e,a),(4194240&a)===a)break;for(t=e.eventTimes,s=-1;0<a;){var i=31-lt(a);l=1<<i,(i=t[i])>s&&(s=i),a&=~l}if(a=s,10<(a=(120>(a=Ge()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*No(a/1960))-a)){e.timeoutHandle=as(wc.bind(null,e,Uo,Wo),a);break}wc(e,Uo,Wo);break;default:throw Error(r(329))}}}return ac(e,Ge()),e.callbackNode===n?sc.bind(null,e):null}function rc(e,t){var n=Io;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Uo,Uo=n,null!==t&&lc(t)),e}function lc(e){null===Uo?Uo=e:Uo.push.apply(Uo,e)}function ic(e,t){for(t&=~Ro,t&=~Do,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),a=1<<n;e[n]=-1,t&=~a}}function oc(e){if(0!==(6&Eo))throw Error(r(327));kc();var t=mt(e,0);if(0===(1&t))return ac(e,Ge()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var a=ft(e);0!==a&&(t=a,n=rc(e,a))}if(1===n)throw n=Fo,mc(e,0),ic(e,t),ac(e,Ge()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Uo,Wo),ac(e,Ge()),null}function cc(e,t){var n=Eo;Eo|=1;try{return e(t)}finally{0===(Eo=n)&&(Ho=Ge()+500,Is&&Hs())}}function uc(e){null!==Qo&&0===Qo.tag&&0===(6&Eo)&&kc();var t=Eo;Eo|=1;var n=Co.transition,a=vt;try{if(Co.transition=null,vt=1,e)return e()}finally{vt=a,Co.transition=n,0===(6&(Eo=t))&&Hs()}}function dc(){Ao=Mo.current,Ss(Mo)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Po)for(n=Po.return;null!==n;){var a=n;switch(tr(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Ms();break;case 3:Xr(),Ss(Ts),Ss(Es),nl();break;case 5:Jr(a);break;case 4:Xr();break;case 13:case 19:Ss(Zr);break;case 10:Cr(a.type._context);break;case 22:case 23:dc()}n=n.return}if(To=e,Po=e=Mc(e.current,null),zo=Ao=t,Lo=0,Fo=null,Ro=Do=Oo=0,Uo=Io=null,null!==zr){for(t=0;t<zr.length;t++)if(null!==(a=(n=zr[t]).interleaved)){n.interleaved=null;var s=a.next,r=n.pending;if(null!==r){var l=r.next;r.next=s,a.next=l}n.pending=a}zr=null}return e}function hc(e,t){for(;;){var n=Po;try{if(_r(),al.current=Gl,cl){for(var a=ll.memoizedState;null!==a;){var s=a.queue;null!==s&&(s.pending=null),a=a.next}cl=!1}if(rl=0,ol=il=ll=null,ul=!1,dl=0,_o.current=null,null===n||null===n.return){Lo=1,Fo=t,Po=null;break}e:{var l=e,i=n.return,o=n,c=t;if(t=zo,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=o,m=d.tag;if(0===(1&d.mode)&&(0===m||11===m||15===m)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=pi(i);if(null!==f){f.flags&=-257,gi(f,i,o,0,t),1&f.mode&&fi(l,u,t),c=u;var p=(t=f).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){fi(l,u,t),pc();break e}c=Error(r(426))}else if(sr&&1&o.mode){var y=pi(i);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gi(y,i,o,0,t),fr(oi(c,o));break e}}l=c=oi(c,o),4!==Lo&&(Lo=2),null===Io?Io=[l]:Io.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Br(l,mi(0,c,t));break e;case 1:o=c;var x=l.type,v=l.stateNode;if(0===(128&l.flags)&&("function"===typeof x.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===$o||!$o.has(v)))){l.flags|=65536,t&=-t,l.lanes|=t,Br(l,hi(l,o,t));break e}}l=l.return}while(null!==l)}bc(n)}catch(b){t=b,Po===n&&null!==n&&(Po=n=n.return);continue}break}}function fc(){var e=So.current;return So.current=Gl,null===e?Gl:e}function pc(){0!==Lo&&3!==Lo&&2!==Lo||(Lo=4),null===To||0===(268435455&Oo)&&0===(268435455&Do)||ic(To,zo)}function gc(e,t){var n=Eo;Eo|=2;var a=fc();for(To===e&&zo===t||(Wo=null,mc(e,t));;)try{yc();break}catch(s){hc(e,s)}if(_r(),Eo=n,So.current=a,null!==Po)throw Error(r(261));return To=null,zo=0,Lo}function yc(){for(;null!==Po;)vc(Po)}function xc(){for(;null!==Po&&!Ke();)vc(Po)}function vc(e){var t=jo(e.alternate,e,Ao);e.memoizedProps=e.pendingProps,null===t?bc(e):Po=t,_o.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$i(n,t,Ao)))return void(Po=n)}else{if(null!==(n=qi(n,t)))return n.flags&=32767,void(Po=n);if(null===e)return Lo=6,void(Po=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Po=t);Po=t=e}while(null!==t);0===Lo&&(Lo=5)}function wc(e,t,n){var a=vt,s=Co.transition;try{Co.transition=null,vt=1,function(e,t,n,a){do{kc()}while(null!==Qo);if(0!==(6&Eo))throw Error(r(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-lt(n),r=1<<s;t[s]=0,a[s]=-1,e[s]=-1,n&=~r}}(e,l),e===To&&(Po=To=null,zo=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||qo||(qo=!0,Tc(tt,function(){return kc(),null})),l=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||l){l=Co.transition,Co.transition=null;var i=vt;vt=1;var o=Eo;Eo|=4,_o.current=null,function(e,t){if(es=Vt,ha(e=ma())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var s=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{n.nodeType,l.nodeType}catch(w){n=null;break e}var i=0,o=-1,c=-1,u=0,d=0,m=e,h=null;t:for(;;){for(var f;m!==n||0!==s&&3!==m.nodeType||(o=i+s),m!==l||0!==a&&3!==m.nodeType||(c=i+a),3===m.nodeType&&(i+=m.nodeValue.length),null!==(f=m.firstChild);)h=m,m=f;for(;;){if(m===e)break t;if(h===n&&++u===s&&(o=i),h===l&&++d===a&&(c=i),null!==(f=m.nextSibling))break;h=(m=h).parentNode}m=f}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Vt=!1,Gi=t;null!==Gi;)if(e=(t=Gi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Gi=e;else for(;null!==Gi;){t=Gi;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,y=p.memoizedState,x=t.stateNode,v=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:ti(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(r(163))}}catch(w){Nc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Gi=e;break}Gi=t.return}p=eo,eo=!1}(e,n),go(n,e),fa(ts),Vt=!!es,ts=es=null,e.current=n,xo(n,e,s),Xe(),Eo=o,vt=i,Co.transition=l}else e.current=n;if(qo&&(qo=!1,Qo=e,Ko=s),l=e.pendingLanes,0===l&&($o=null),function(e){if(rt&&"function"===typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Ge()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],a(s.value,{componentStack:s.stack,digest:s.digest});if(Vo)throw Vo=!1,e=Yo,Yo=null,e;0!==(1&Ko)&&0!==e.tag&&kc(),l=e.pendingLanes,0!==(1&l)?e===Go?Xo++:(Xo=0,Go=e):Xo=0,Hs()}(e,t,n,a)}finally{Co.transition=s,vt=a}return null}function kc(){if(null!==Qo){var e=bt(Ko),t=Co.transition,n=vt;try{if(Co.transition=null,vt=16>e?16:e,null===Qo)var a=!1;else{if(e=Qo,Qo=null,Ko=0,0!==(6&Eo))throw Error(r(331));var s=Eo;for(Eo|=4,Gi=e.current;null!==Gi;){var l=Gi,i=l.child;if(0!==(16&Gi.flags)){var o=l.deletions;if(null!==o){for(var c=0;c<o.length;c++){var u=o[c];for(Gi=u;null!==Gi;){var d=Gi;switch(d.tag){case 0:case 11:case 15:to(8,d,l)}var m=d.child;if(null!==m)m.return=d,Gi=m;else for(;null!==Gi;){var h=(d=Gi).sibling,f=d.return;if(so(d),d===u){Gi=null;break}if(null!==h){h.return=f,Gi=h;break}Gi=f}}}var p=l.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Gi=l}}if(0!==(2064&l.subtreeFlags)&&null!==i)i.return=l,Gi=i;else e:for(;null!==Gi;){if(0!==(2048&(l=Gi).flags))switch(l.tag){case 0:case 11:case 15:to(9,l,l.return)}var x=l.sibling;if(null!==x){x.return=l.return,Gi=x;break e}Gi=l.return}}var v=e.current;for(Gi=v;null!==Gi;){var b=(i=Gi).child;if(0!==(2064&i.subtreeFlags)&&null!==b)b.return=i,Gi=b;else e:for(i=v;null!==Gi;){if(0!==(2048&(o=Gi).flags))try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(k){Nc(o,o.return,k)}if(o===i){Gi=null;break e}var w=o.sibling;if(null!==w){w.return=o.return,Gi=w;break e}Gi=o.return}}if(Eo=s,Hs(),rt&&"function"===typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(st,e)}catch(k){}a=!0}return a}finally{vt=n,Co.transition=t}}return!1}function jc(e,t,n){e=Ir(e,t=mi(0,t=oi(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),ac(e,t))}function Nc(e,t,n){if(3===e.tag)jc(e,e,n);else for(;null!==t;){if(3===t.tag){jc(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===$o||!$o.has(a))){t=Ir(t,e=hi(t,e=oi(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),ac(t,e));break}}t=t.return}}function Sc(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,To===e&&(zo&n)===n&&(4===Lo||3===Lo&&(130023424&zo)===zo&&500>Ge()-Bo?mc(e,0):Ro|=n),ac(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Lr(e,t))&&(yt(e,t,n),ac(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(r(314))}null!==a&&a.delete(t),_c(e,n)}function Tc(e,t){return qe(e,t)}function Pc(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zc(e,t,n,a){return new Pc(e,t,n,a)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,a,s,l){var i=2;if(a=e,"function"===typeof e)Ac(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case j:return Fc(n.children,s,l,t);case N:i=8,s|=8;break;case S:return(e=zc(12,n,t,2|s)).elementType=S,e.lanes=l,e;case T:return(e=zc(13,n,t,s)).elementType=T,e.lanes=l,e;case P:return(e=zc(19,n,t,s)).elementType=P,e.lanes=l,e;case M:return Oc(n,s,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:i=10;break e;case C:i=9;break e;case E:i=11;break e;case z:i=14;break e;case A:i=16,a=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=zc(i,n,t,s)).elementType=e,t.type=a,t.lanes=l,t}function Fc(e,t,n,a){return(e=zc(7,e,a,t)).lanes=n,e}function Oc(e,t,n,a){return(e=zc(22,e,a,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=zc(6,e,null,t)).lanes=n,e}function Rc(e,t,n){return(t=zc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ic(e,t,n,a,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,a,s,r,l,i,o){return e=new Ic(e,t,n,i,o),1===t?(t=1,!0===r&&(t|=8)):t=0,r=zc(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Or(r),e}function Bc(e){if(!e)return Cs;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(As(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(As(n))return Fs(e,n,t)}return t}function Hc(e,t,n,a,s,r,l,i,o){return(e=Uc(n,a,!0,e,0,r,0,i,o)).context=Bc(null),n=e.current,(r=Rr(a=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,Ir(n,r,s),e.current.lanes=s,yt(e,s,a),ac(e,a),e}function Wc(e,t,n,a){var s=t.current,r=ec(),l=tc(s);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Rr(r,l)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Ir(s,t,l))&&(nc(e,s,l,r),Ur(e,s,l)),l}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $c(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}jo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ts.current)xi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xi=!1,function(e,t,n){switch(t.tag){case 3:Ei(t),hr();break;case 5:Gr(t);break;case 1:As(t.type)&&Os(t);break;case 4:Kr(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,s=t.memoizedProps.value;_s(kr,a._currentValue),a._currentValue=s;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(_s(Zr,1&Zr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Oi(e,t,n):(_s(Zr,1&Zr.current),null!==(e=Wi(e,t,n))?e.sibling:null);_s(Zr,1&Zr.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return Bi(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),_s(Zr,Zr.current),a)break;return null;case 22:case 23:return t.lanes=0,ji(e,t,n)}return Wi(e,t,n)}(e,t,n);xi=0!==(131072&e.flags)}else xi=!1,sr&&0!==(1048576&t.flags)&&Zs(t,$s,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Hi(e,t),e=t.pendingProps;var s=zs(t,Es.current);Tr(t,n),s=pl(null,t,a,e,s,n);var l=gl();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,As(a)?(l=!0,Os(t)):l=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Or(t),s.updater=ai,t.stateNode=s,s._reactInternals=t,ii(t,a,e,n),t=Ci(null,t,a,!0,l,n)):(t.tag=0,sr&&l&&er(t),vi(null,t,s,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Hi(e,t),e=t.pendingProps,a=(s=a._init)(a._payload),t.type=a,s=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===z)return 14}return 2}(a),e=ti(a,e),s){case 0:t=Si(null,t,a,e,n);break e;case 1:t=_i(null,t,a,e,n);break e;case 11:t=bi(null,t,a,e,n);break e;case 14:t=wi(null,t,a,ti(a.type,e),n);break e}throw Error(r(306,a,""))}return t;case 0:return a=t.type,s=t.pendingProps,Si(e,t,a,s=t.elementType===a?s:ti(a,s),n);case 1:return a=t.type,s=t.pendingProps,_i(e,t,a,s=t.elementType===a?s:ti(a,s),n);case 3:e:{if(Ei(t),null===e)throw Error(r(387));a=t.pendingProps,s=(l=t.memoizedState).element,Dr(e,t),Hr(t,a,null,n);var i=t.memoizedState;if(a=i.element,l.isDehydrated){if(l={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Ti(e,t,a,n,s=oi(Error(r(423)),t));break e}if(a!==s){t=Ti(e,t,a,n,s=oi(Error(r(424)),t));break e}for(ar=cs(t.stateNode.containerInfo.firstChild),nr=t,sr=!0,rr=null,n=wr(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hr(),a===s){t=Wi(e,t,n);break e}vi(e,t,a,n)}t=t.child}return t;case 5:return Gr(t),null===e&&cr(t),a=t.type,s=t.pendingProps,l=null!==e?e.memoizedProps:null,i=s.children,ns(a,s)?i=null:null!==l&&ns(a,l)&&(t.flags|=32),Ni(e,t),vi(e,t,i,n),t.child;case 6:return null===e&&cr(t),null;case 13:return Oi(e,t,n);case 4:return Kr(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=br(t,null,a,n):vi(e,t,a,n),t.child;case 11:return a=t.type,s=t.pendingProps,bi(e,t,a,s=t.elementType===a?s:ti(a,s),n);case 7:return vi(e,t,t.pendingProps,n),t.child;case 8:case 12:return vi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,s=t.pendingProps,l=t.memoizedProps,i=s.value,_s(kr,a._currentValue),a._currentValue=i,null!==l)if(ia(l.value,i)){if(l.children===s.children&&!Ts.current){t=Wi(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var o=l.dependencies;if(null!==o){i=l.child;for(var c=o.firstContext;null!==c;){if(c.context===a){if(1===l.tag){(c=Rr(-1,n&-n)).tag=2;var u=l.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),Er(l.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===l.tag)i=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(i=l.return))throw Error(r(341));i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),Er(i,n,t),i=l.sibling}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}vi(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,a=t.pendingProps.children,Tr(t,n),a=a(s=Pr(s)),t.flags|=1,vi(e,t,a,n),t.child;case 14:return s=ti(a=t.type,t.pendingProps),wi(e,t,a,s=ti(a.type,s),n);case 15:return ki(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:ti(a,s),Hi(e,t),t.tag=1,As(a)?(e=!0,Os(t)):e=!1,Tr(t,n),ri(t,a,s),ii(t,a,s,n),Ci(null,t,a,!0,e,n);case 19:return Bi(e,t,n);case 22:return ji(e,t,n)}throw Error(r(156,t.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,a,s){var r=n._reactRootContainer;if(r){var l=r;if("function"===typeof s){var i=s;s=function(){var e=Vc(l);i.call(e)}}Wc(t,l,e,s)}else l=function(e,t,n,a,s){if(s){if("function"===typeof a){var r=a;a=function(){var e=Vc(l);r.call(e)}}var l=Hc(t,a,e,0,null,!1,0,"",Jc);return e._reactRootContainer=l,e[fs]=l.current,Ha(8===e.nodeType?e.parentNode:e),uc(),l}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof a){var i=a;a=function(){var e=Vc(o);i.call(e)}}var o=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=o,e[fs]=o.current,Ha(8===e.nodeType?e.parentNode:e),uc(function(){Wc(t,o,n,a)}),o}(n,t,e,s,a);return Vc(l)}Kc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Wc(e,t,null,null)},Kc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Wc(null,e,null,null)}),t[fs]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Dt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(xt(t,1|n),ac(t,Ge()),0===(6&Eo)&&(Ho=Ge()+500,Hs()))}break;case 13:uc(function(){var t=Lr(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),$c(e,1)}},kt=function(e){if(13===e.tag){var t=Lr(e,134217728);if(null!==t)nc(t,e,134217728,ec());$c(e,134217728)}},jt=function(e){if(13===e.tag){var t=tc(e),n=Lr(e,t);if(null!==n)nc(n,e,t,ec());$c(e,t)}},Nt=function(){return vt},St=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=ws(a);if(!s)throw Error(r(90));q(a),J(a,s)}}}break;case"textarea":re(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Te=uc;var eu={usingClientEntryPoint:!1,Events:[vs,bs,ws,_e,Ce,cc]},tu={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{st=au.inject(nu),rt=au}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(r(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(r(299));var n=!1,a="",s=qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,a,s),e[fs]=t.current,Ha(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Gc(t))throw Error(r(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(r(405));var a=null!=n&&n.hydratedSources||null,s=!1,l="",i=qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,s,0,l,i),e[fs]=t.current,Ha(e),a)for(e=0;e<a.length;e++)s=(s=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Kc(t)},t.render=function(e,t,n){if(!Gc(t))throw Error(r(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Gc(e))throw Error(r(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[fs]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Gc(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Zc(e,t,n,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var a=n(43),s=n(391);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function l(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function i(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=n(505),d=n(579);const m=(0,a.createContext)(),h="LOGIN_START",f="LOGIN_SUCCESS",p="LOGIN_FAILURE",g="LOGOUT",y="SET_USER",x="SET_LOADING",v="SET_ERROR",b="CLEAR_ERROR",w="SET_INITIALIZING",k="WEBSOCKET_CONNECT",j="WEBSOCKET_DISCONNECT",N="WEBSOCKET_MESSAGE",S={user:null,isAuthenticated:!1,loading:!1,error:null,initializing:!0,websocket:null,websocketConnected:!1,realtimeUpdates:[]},_=(e,t)=>{switch(t.type){case h:return c(c({},e),{},{loading:!0,error:null});case f:return c(c({},e),{},{user:t.payload.user,isAuthenticated:!0,loading:!1,error:null,initializing:!1});case p:return c(c({},e),{},{user:null,isAuthenticated:!1,loading:!1,error:t.payload.error,initializing:!1});case g:return c(c({},e),{},{user:null,isAuthenticated:!1,loading:!1,error:null,initializing:!1,websocket:null,websocketConnected:!1,realtimeUpdates:[]});case y:return c(c({},e),{},{user:t.payload.user,isAuthenticated:!!t.payload.user,initializing:!1,loading:!1});case w:return c(c({},e),{},{initializing:t.payload.initializing,loading:!1});case x:return c(c({},e),{},{loading:t.payload.loading});case v:return c(c({},e),{},{error:t.payload.error,loading:!1});case b:return c(c({},e),{},{error:null});case k:return c(c({},e),{},{websocket:t.payload.websocket,websocketConnected:!0});case j:return c(c({},e),{},{websocket:null,websocketConnected:!1});case N:return c(c({},e),{},{realtimeUpdates:[t.payload.message,...e.realtimeUpdates.slice(0,49)]});default:return e}},C=e=>{let{children:t}=e;const[s,r]=(0,a.useReducer)(_,S);(0,a.useEffect)(()=>{(async()=>{console.log("\ud83d\udd0d Auth: Initializing authentication..."),r({type:w,payload:{initializing:!0}});try{if((0,u.wR)()){console.log("\ud83d\udd0d Auth: Token found, getting current user...");const e=await(0,u.HW)(),t=e.data||e.user||e;console.log("\ud83d\udd0d Auth: Current user retrieved:",t),r({type:y,payload:{user:t}}),t.id&&l(t.id)}else console.log("\ud83d\udd0d Auth: No token found"),r({type:y,payload:{user:null}})}catch(e){console.error("\ud83d\udd0d Auth: Initialization failed:",e),(0,u.q0)(),r({type:y,payload:{user:null}})}finally{console.log("\ud83d\udd0d Auth: Initialization complete"),r({type:w,payload:{initializing:!1}})}})()},[]);const l=e=>{if(!s.websocket&&e)try{console.log("\ud83d\udd0d Auth: Connecting WebSocket for user:",e);const t=(0,u._I)(e);t.onopen=()=>{console.log("\ud83d\udd0d Auth: WebSocket connected"),r({type:k,payload:{websocket:t}})},t.onmessage=e=>{try{const t=JSON.parse(e.data);console.log("\ud83d\udd0d Auth: WebSocket message:",t),r({type:N,payload:{message:t}})}catch(t){console.error("\ud83d\udd0d Auth: Failed to parse WebSocket message:",t)}},t.onclose=()=>{console.log("\ud83d\udd0d Auth: WebSocket disconnected"),r({type:j}),s.user&&setTimeout(()=>l(e),3e3)},t.onerror=e=>{console.error("\ud83d\udd0d Auth: WebSocket error:",e),r({type:j})}}catch(t){console.error("\ud83d\udd0d Auth: Failed to create WebSocket connection:",t)}},i={user:s.user,isAuthenticated:s.isAuthenticated,loading:s.loading,error:s.error,initializing:s.initializing,websocketConnected:s.websocketConnected,realtimeUpdates:s.realtimeUpdates,login:async e=>{console.log("\ud83d\udd0d Auth: Starting login process..."),r({type:h});try{var t,a,s,i;const{login:o}=await Promise.resolve().then(n.bind(n,505)),c=await o(e);console.log("\ud83d\udd0d Auth: Login API response:",c);const u=(null===(t=c.data)||void 0===t?void 0:t.user)||c.user||{id:(null===(a=c.data)||void 0===a?void 0:a.id)||c.id,username:(null===(s=c.data)||void 0===s?void 0:s.username)||c.username,email:(null===(i=c.data)||void 0===i?void 0:i.email)||c.email};if(console.log("\ud83d\udd0d Auth: Extracted user from login:",u),!u.id&&!u.username)throw new Error("Invalid login response format");return r({type:f,payload:{user:u}}),l(u.id),c}catch(o){throw console.error("\ud83d\udd0d Auth: Login failed:",o),r({type:p,payload:{error:o.message}}),o}},register:async e=>{console.log("\ud83d\udd0d Auth: Starting registration process..."),r({type:x,payload:{loading:!0}});try{const{register:t}=await Promise.resolve().then(n.bind(n,505)),a=await t(e);if(console.log("\ud83d\udd0d Auth: Registration API response:",a),a.token&&a.user){const e=a.user||a.data;console.log("\ud83d\udd0d Auth: Auto-login after registration:",e),r({type:f,payload:{user:e}}),l(e.id)}else r({type:x,payload:{loading:!1}});return a}catch(t){throw console.error("\ud83d\udd0d Auth: Registration failed:",t),r({type:v,payload:{error:t.message}}),t}},logout:async()=>{console.log("\ud83d\udd0d Auth: Starting logout process..."),r({type:x,payload:{loading:!0}});try{s.websocket&&s.websocket.close();const{logout:e}=await Promise.resolve().then(n.bind(n,505));await e(),console.log("\ud83d\udd0d Auth: Logout completed")}catch(e){console.error("\ud83d\udd0d Auth: Logout API failed:",e)}finally{r({type:g})}},updateUser:e=>{console.log("\ud83d\udd0d Auth: Updating user data:",e),r({type:y,payload:{user:c(c({},s.user),e)}})},clearError:()=>{r({type:b})},getRealtimeUpdates:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?s.realtimeUpdates.filter(t=>t.type===e):s.realtimeUpdates},clearRealtimeUpdates:()=>{r({type:N,payload:{message:null}})}};return(0,d.jsx)(m.Provider,{value:i,children:t})},E=()=>{const e=(0,a.useContext)(m);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function T(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var P={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const z=["color","size","strokeWidth","absoluteStrokeWidth","children"];var A=(e,t)=>{const n=(0,a.forwardRef)((n,s)=>{let{color:r="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:u}=n,d=T(n,z);return(0,a.createElement)("svg",c(c({ref:s},P),{},{width:l,height:l,stroke:r,strokeWidth:o?24*Number(i)/Number(l):i,className:"lucide lucide-".concat((m=e,m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},d),[...t.map(e=>{let[t,n]=e;return(0,a.createElement)(t,n)}),...(Array.isArray(u)?u:[u])||[]]);var m});return n.displayName="".concat(e),n};const M=A("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),L=A("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),F=A("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),O=A("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),D=A("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),R=A("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),I=A("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),U=A("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),B=A("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),H=A("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),W=A("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),V=A("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Y=A("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),$=A("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),q=["children","className","sensitivity"],Q=e=>{let{children:t,className:n="",sensitivity:s=1}=e,r=T(e,q);const l=(0,a.useRef)(null),[i,o]=(0,a.useState)(1);(0,a.useEffect)(()=>{const e=e=>{if(!l.current)return;const t=l.current.getBoundingClientRect(),n=t.left+t.width/2,a=t.top+t.height/2,r=Math.sqrt(Math.pow(e.clientX-n,2)+Math.pow(e.clientY-a,2)),i=Math.max(0,Math.min(1,r/200));o((1-i)*s)};return document.addEventListener("mousemove",e),()=>{document.removeEventListener("mousemove",e)}},[s]);const u={fontSize:"".concat(1+.2*i,"em"),fontWeight:400+200*i,letterSpacing:"".concat(.5*i,"px"),textShadow:i>.3?"0 0 ".concat(20*i,"px rgba(59, 130, 246, ").concat(.3*i,")"):"none",transition:"all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)"};return(0,d.jsx)("span",c(c({ref:l,className:"fluid-text ".concat(n),style:u},r),{},{children:t}))},K=e=>{let{selectedColumn:t,onColumnSelect:n,onAnalyze:s,loading:r}=e;const[l,i]=(0,a.useState)(!1),[o,m]=(0,a.useState)(!1),[h,f]=(0,a.useState)(15),[p,g]=(0,a.useState)(15),[y,x]=(0,a.useState)(0),[v,b]=(0,a.useState)(0),[w,k]=(0,a.useState)(""),[j,N]=(0,a.useState)(""),[S,_]=(0,a.useState)({sync:!1,create:!1}),[C,E]=(0,a.useState)([]),[T,P]=(0,a.useState)(!0),z=C.find(e=>e.value===t),A=e=>{const t=e.toLowerCase();return t.includes("backlog")?M:t.includes("progress")?L:t.includes("dev")?F:t.includes("stage")?O:t.includes("blocked")?D:t.includes("ready")?R:t.includes("finding")?I:t.includes("all")?U:B};(0,a.useEffect)(()=>{q()},[]);const q=async()=>{P(!0);try{var e;const t=await(0,u.h_)(),n=t.data||t,a=[];null!==(e=n.column_mappings)&&void 0!==e&&e.asana_to_youtrack&&n.column_mappings.asana_to_youtrack.forEach(e=>{const t=e.asana_column.toLowerCase().replace(/\s+/g,"_");a.push({value:t,label:e.asana_column,color:"hover:bg-blue-50 hover:border-blue-200",displayOnly:e.display_only,icon:A(e.asana_column)})}),a.length>0&&a.push({value:"all_syncable",label:"All Syncable",color:"hover:bg-blue-50 hover:border-blue-200",icon:U}),E(a)}catch(t){console.error("Failed to load column mappings:",t),E([])}finally{P(!1)}};(0,a.useEffect)(()=>{K();const e=setInterval(K,3e4);return()=>clearInterval(e)},[]);const K=async()=>{try{console.log("Loading auto status...");const[e,t]=await Promise.all([(0,u.z$)(),(0,u.eR)()]);console.log("Auto-sync status:",e),console.log("Auto-create status:",t),e.auto_sync&&(i(e.auto_sync.running),f(e.auto_sync.interval),x(e.auto_sync.count||0),k(e.auto_sync.last_info||"")),t.auto_create&&(m(t.auto_create.running),g(t.auto_create.interval),b(t.auto_create.count||0),N(t.auto_create.last_info||""))}catch(e){console.error("Failed to load auto status:",e)}};return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"pt-4 pb-8",children:[(0,d.jsx)("div",{className:"mb-8",children:(0,d.jsx)(Q,{className:"text-3xl font-bold text-gray-900 mb-2 block",sensitivity:2,children:"Pick a column and let's see how badly these two systems disagree with each other"})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,d.jsxs)("div",{className:"glass-panel bg-white border border-gray-200 rounded-lg p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(H,{className:"w-5 h-5 mr-2 ".concat(l?"text-green-600 animate-spin":"text-gray-600")}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Auto-Sync"}),(0,d.jsx)("span",{className:"ml-2 px-2 py-1 rounded-full text-xs font-medium ".concat(l?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"),children:l?"RUNNING":"STOPPED"})]}),(0,d.jsxs)("button",{onClick:async()=>{_(e=>c(c({},e),{},{sync:!0}));try{console.log("Toggling auto-sync...",l?"STOP":"START"),l?(await(0,u.Zc)(),i(!1)):(await(0,u.Pw)(h),i(!0))}catch(e){console.error("Auto-sync toggle failed:",e)}finally{_(e=>c(c({},e),{},{sync:!1}))}},disabled:S.sync,className:"flex items-center px-4 py-2 rounded-lg font-medium transition-colors ".concat(l?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"," disabled:opacity-50"),children:[S.sync?(0,d.jsx)(H,{className:"w-4 h-4 mr-2 animate-spin"}):l?(0,d.jsx)(W,{className:"w-4 h-4 mr-2"}):(0,d.jsx)(V,{className:"w-4 h-4 mr-2"}),l?"Stop":"Start"]})]}),(0,d.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(Y,{className:"w-4 h-4 mr-2"}),(0,d.jsxs)("span",{children:["Every ",h," seconds"]})]}),l&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{children:["Cycles completed: ",y]}),w&&(0,d.jsxs)("div",{className:"text-xs bg-gray-50 rounded p-2 mt-2",children:["Last run: ",w]})]}),(0,d.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"Your tickets stay in perfect sync, while the ignored ones remain undisturbed"})]})]}),(0,d.jsxs)("div",{className:"glass-panel bg-white border border-gray-200 rounded-lg p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)($,{className:"w-5 h-5 mr-2 ".concat(o?"text-blue-600":"text-gray-600")}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Auto-Create"}),(0,d.jsx)("span",{className:"ml-2 px-2 py-1 rounded-full text-xs font-medium ".concat(o?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"),children:o?"RUNNING":"STOPPED"})]}),(0,d.jsxs)("button",{onClick:async()=>{_(e=>c(c({},e),{},{create:!0}));try{if(console.log("Toggling auto-create...",o?"STOP":"START"),console.log("API Base URL:",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://boardsyncapi.onrender.com"),o){const e=await(0,u.sU)();console.log("Stop auto-create result:",e),m(!1)}else{const e=await(0,u.qm)(p);console.log("Start auto-create result:",e),m(!0)}}catch(e){console.error("Auto-create toggle failed:",e),console.error("Error details:",e)}finally{_(e=>c(c({},e),{},{create:!1}))}},disabled:S.create,className:"flex items-center px-4 py-2 rounded-lg font-medium transition-colors ".concat(o?"bg-red-100 text-red-700 hover:bg-red-200":"bg-blue-100 text-blue-700 hover:bg-blue-200"," disabled:opacity-50"),children:[S.create?(0,d.jsx)(H,{className:"w-4 h-4 mr-2 animate-spin"}):o?(0,d.jsx)(W,{className:"w-4 h-4 mr-2"}):(0,d.jsx)(V,{className:"w-4 h-4 mr-2"}),o?"Stop":"Start"]})]}),(0,d.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(Y,{className:"w-4 h-4 mr-2"}),(0,d.jsxs)("span",{children:["Every ",p," seconds"]})]}),o&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{children:["Cycles completed: ",v]}),j&&(0,d.jsxs)("div",{className:"text-xs bg-gray-50 rounded p-2 mt-2",children:["Last run: ",j]})]}),(0,d.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"Creates what\u2019s missing, but never touches the tickets you\u2019ve sidelined"})]})]})]}),(0,d.jsxs)("div",{className:"glass-panel bg-white border border-gray-200 rounded-lg p-6 interactive-element",children:[(0,d.jsxs)("div",{className:"flex items-center mb-6",children:[(0,d.jsx)(B,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,d.jsx)(Q,{className:"text-lg font-semibold text-gray-900",sensitivity:1.2,children:"Select Column"})]}),T?(0,d.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,d.jsx)(H,{className:"w-5 h-5 mr-2 animate-spin text-blue-600"}),(0,d.jsx)("span",{className:"text-gray-600",children:"Loading columns..."})]}):0===C.length?(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)("p",{className:"text-gray-600 mb-2",children:"No column mappings configured."}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Please configure your column mappings in Settings \u2192 Column Mapping"})]}):(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mb-6",children:C.map(e=>{const a=e.icon;return(0,d.jsxs)("div",{onClick:()=>n(e.value),className:"glass-panel interactive-element p-4 rounded-lg border cursor-pointer transition-all ".concat(t===e.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-200 hover:bg-blue-50"),children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[a&&(0,d.jsx)(a,{className:"w-5 h-5 mr-2 text-gray-600"}),(0,d.jsx)(Q,{className:"font-medium text-gray-900",sensitivity:.8,children:e.label})]}),e.displayOnly&&(0,d.jsx)("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded",children:"Display Only"})]}),t===e.value&&(0,d.jsx)("div",{className:"mt-2",children:(0,d.jsx)("div",{className:"w-full h-1 bg-blue-500 rounded"})})]},e.value)})}),(0,d.jsx)("button",{onClick:s,disabled:!t||r,className:"interactive-element w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center font-medium transition-colors",children:r?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"w-4 h-4 mr-2 animate-spin"}),(0,d.jsxs)(Q,{sensitivity:1,children:["Analyzing ",null===z||void 0===z?void 0:z.label,"..."]})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)($,{className:"w-4 h-4 mr-2"}),(0,d.jsxs)(Q,{sensitivity:1,children:["Analyze ",t?null===z||void 0===z?void 0:z.label:"Column"]})]})}),t&&!r&&(0,d.jsxs)("p",{className:"mt-4 text-gray-600 text-sm text-center select-none",children:["Let's see what breaks when we touch ",(0,d.jsx)("strong",{children:null===z||void 0===z?void 0:z.label})]})]}),(0,d.jsx)("div",{className:"mt-8 text-center text-sm text-gray-500",children:(0,d.jsx)(Q,{sensitivity:.5,children:"Asana-YouTrack Sync \u2022 v1.1 \u2022 Making Two Apps Talk to Each Other"})})]})})},X=A("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),G=A("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),J=A("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Z=A("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),ee=A("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),te=A("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ne=A("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),ae=A("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),se=A("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),re=A("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),le=A("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),ie=A("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),oe=A("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ce=A("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),ue=A("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),de=A("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),me=A("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),he=A("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),fe=A("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),pe=e=>{let{ticketId:t,onError:n}=e;const[s,r]=(0,a.useState)([]),[l,i]=(0,a.useState)(!0);(0,a.useEffect)(()=>{t&&o()},[t]);const o=async()=>{i(!0);try{const e=await(0,u.B)(t);r(e.history||[])}catch(e){null===n||void 0===n||n("Failed to load ticket history: "+e.message),r([])}finally{i(!1)}};return l?(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)("div",{className:"sync-loading-spinner mx-auto mb-3"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Loading ticket history..."})]}):0===s.length?(0,d.jsxs)("div",{className:"empty-state",children:[(0,d.jsx)("div",{className:"empty-state-icon",children:(0,d.jsx)(B,{className:"w-12 h-12 mx-auto text-gray-400"})}),(0,d.jsx)("p",{className:"empty-state-text",children:"No history available"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Changes to this ticket will appear here"})]}):(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,d.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,d.jsx)(B,{className:"w-5 h-5 mr-2"}),"Ticket History"]}),(0,d.jsxs)("span",{className:"text-sm text-gray-600",children:[s.length," event",1!==s.length?"s":""]})]}),(0,d.jsx)("div",{className:"timeline-container",children:s.map((e,t)=>{const{relative:n,absolute:a}=(e=>{const t=new Date(e),n=new Date-t,a=Math.floor(n/6e4),s=Math.floor(n/36e5),r=Math.floor(n/864e5);let l="";return l=a<1?"Just now":a<60?"".concat(a," min").concat(a>1?"s":""," ago"):s<24?"".concat(s," hour").concat(s>1?"s":""," ago"):r<7?"".concat(r," day").concat(r>1?"s":""," ago"):t.toLocaleDateString(),{relative:l,absolute:t.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}})(e.timestamp),r=t===s.length-1;return(0,d.jsxs)("div",{className:"timeline-item",children:[(0,d.jsx)("div",{className:"timeline-dot"}),!r&&(0,d.jsx)("div",{className:"timeline-line"}),(0,d.jsxs)("div",{className:"timeline-content",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(l=e.action_type,(0,d.jsx)("span",{className:{created:"action-badge action-badge-created",updated:"action-badge action-badge-updated",deleted:"action-badge action-badge-deleted",status_changed:"action-badge action-badge-status-changed",ignored:"action-badge action-badge-ignored",rolled_back:"action-badge action-badge-deleted",mapping_added:"action-badge action-badge-created"}[l]||"action-badge",children:l})),(0,d.jsx)("span",{className:"tag-glass text-xs",children:e.platform})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("div",{className:"text-sm font-medium text-gray-700",children:n}),(0,d.jsx)("div",{className:"text-xs text-gray-500",children:a})]})]}),(0,d.jsxs)("div",{className:"space-y-1",children:[e.field_name&&(0,d.jsxs)("div",{className:"text-sm",children:[(0,d.jsx)("span",{className:"font-medium text-gray-700",children:"Field:"})," ",(0,d.jsx)("span",{className:"text-gray-600",children:e.field_name})]}),(e.old_value||e.new_value)&&(0,d.jsxs)("div",{className:"text-sm",children:[e.old_value&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-medium text-gray-700",children:"From:"})," ",(0,d.jsx)("span",{className:"text-gray-600",children:e.old_value})]}),e.new_value&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-medium text-gray-700",children:"To:"})," ",(0,d.jsx)("span",{className:"text-gray-600",children:e.new_value})]})]}),(0,d.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:[(0,d.jsx)(Y,{className:"w-3 h-3 inline mr-1"}),"by ",e.user_email]})]})]})]},e.id);var l})})]})},ge=e=>{let{type:t,column:n,onBack:s,onSync:r,onCreateSingle:l,onCreateMissing:i,setNavBarSlots:o,onTicketMoved:m,onSilentRefresh:h}=e;const[f,p]=(0,a.useState)([]),[g,y]=(0,a.useState)(!0),[x,v]=(0,a.useState)(null),[b,w]=(0,a.useState)({}),[k,j]=(0,a.useState)(new Set),[N,S]=(0,a.useState)(!1),[_,C]=(0,a.useState)(new Set),[E,T]=(0,a.useState)(-1),[P,z]=(0,a.useState)(!1),[A,M]=(0,a.useState)(!1),[L,F]=(0,a.useState)(""),[O,U]=(0,a.useState)(!1),[B,W]=(0,a.useState)(null),[V,q]=(0,a.useState)({sort_by:"created_at",sort_order:"desc"}),[Q,K]=(0,a.useState)([]),[Z,ge]=(0,a.useState)(!1),[ye,xe]=(0,a.useState)(!1),ve=(0,a.useRef)(!0),[be,we]=(0,a.useState)([]),[ke,je]=(0,a.useState)(!1),[Ne,Se]=(0,a.useState)(!1),[_e,Ce]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{var e;const t=await(0,u.h_)(),a=(null===(e=(t.data||t).column_mappings)||void 0===e?void 0:e.asana_to_youtrack)||[];if(we(a),n&&"all_syncable"!==n){const e=n.toLowerCase().replace(/\s+/g,"_"),t=a.find(t=>t.asana_column.toLowerCase().replace(/\s+/g,"_")===e);je(!0===(null===t||void 0===t?void 0:t.display_only))}}catch(x){console.error("Failed to load column mappings:",x)}})()},[n]);const Ee=(0,a.useCallback)(()=>{const e={matched:{title:"Matched Tickets",description:"Tickets that are synchronized between Asana and YouTrack",icon:R,color:"green"},mismatched:{title:"Mismatched Tickets",description:"Tickets with different statuses between Asana and YouTrack",icon:Y,color:"yellow"},missing:{title:"Missing Tickets",description:"Tickets that exist in Asana but not in YouTrack",icon:te,color:"blue"},ignored:{title:"Ignored Tickets",description:"Tickets that are excluded from automatic synchronization",icon:ne,color:"purple"},findings:{title:"Findings Tickets",description:"Display-only tickets in the Findings column",icon:G,color:"orange"},ready_for_stage:{title:"Ready for Stage",description:"Display-only tickets ready for staging",icon:R,color:"green"},blocked:{title:"Blocked Tickets",description:"Tickets that are currently blocked",icon:Y,color:"red"},orphaned:{title:"Orphaned Tickets",description:"YouTrack tickets without corresponding Asana tasks",icon:G,color:"gray"}};return e[t]||e.matched},[t]);(0,a.useEffect)(()=>{ve.current=!0,Te()},[t,n]),(0,a.useEffect)(()=>{const e=Ee(),a=e.icon,r=(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsxs)("button",{onClick:s,disabled:N,className:"flex items-center bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:[(0,d.jsx)(J,{className:"w-4 h-4 mr-2"}),"Back to Results"]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(a,{className:"w-6 h-6 mr-2 text-".concat(e.color,"-600")}),(0,d.jsx)("div",{children:(0,d.jsxs)("h1",{className:"text-xl font-semibold text-gray-900",children:[e.title,n&&"all_syncable"!==n&&(0,d.jsxs)("span",{className:"text-blue-600 ml-2",children:["\u2022 ",n.replace("_"," ").toUpperCase()," Column"]}),N&&(0,d.jsx)("span",{className:"text-red-600 ml-2",children:"\u2022 Delete Mode"})]})})]})]}),l=(0,d.jsx)("div",{className:"flex items-center space-x-3",children:N?(0,d.jsxs)(d.Fragment,{children:[_.size>0&&(0,d.jsx)("button",{onClick:Re,className:"flex items-center bg-red-100 text-red-700 px-3 py-2 rounded-lg hover:bg-red-200 transition-colors text-sm",children:_.size===f.length?"Deselect All":"Select All"}),(0,d.jsxs)("button",{onClick:De,className:"flex items-center bg-gray-100 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[(0,d.jsx)(ae,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}):(0,d.jsxs)(d.Fragment,{children:[Q.length>0&&(0,d.jsxs)("button",{onClick:()=>ge(!0),className:"flex items-center bg-orange-100 text-orange-700 px-4 py-2 rounded-lg hover:bg-orange-200 transition-colors font-medium",children:[(0,d.jsx)(D,{className:"w-4 h-4 mr-2"}),Q.length," Changes Detected"]}),!ke&&"missing"===t&&f.length>0&&i&&(0,d.jsx)("button",{onClick:Fe,disabled:O,className:"flex items-center bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 font-medium",children:O?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating All..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(te,{className:"w-4 h-4 mr-2"}),"Create All (",f.length,")"]})}),"ignored"!==t&&f.length>0&&(0,d.jsxs)("button",{onClick:Oe,className:"flex items-center bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors font-medium",children:[(0,d.jsx)(se,{className:"w-4 h-4 mr-2"}),"Delete"]}),(0,d.jsxs)("button",{onClick:Te,disabled:g,className:"flex items-center bg-blue-100 text-blue-700 px-4 py-2 rounded-lg hover:bg-blue-200 transition-colors disabled:opacity-50",children:[(0,d.jsx)(H,{className:"w-4 h-4 mr-2 ".concat(g?"animate-spin":"")}),"Refresh"]})]})});return o&&o(r,l),()=>{o&&o(null,null)}},[t,n,N,_,f.length,g,O,Q,V,Ee]),(0,a.useEffect)(()=>{N||(C(new Set),T(-1))},[N]);const Te=async()=>{y(!0),v(null);try{await Pe(),await ze(),await Ae()}catch(e){console.error("Failed to load initial data:",e),v(e.message)}finally{y(!1)}},Pe=async()=>{try{var e;const t=await(0,u.y1)(),n=(null===(e=t.data)||void 0===e?void 0:e.changed_mappings)||t.changed_mappings||[];K(n),console.log("Loaded changed mappings:",n)}catch(t){console.error("Failed to load changed mappings:",t),K([])}},ze=async()=>{try{const e=await(0,u.pH)();console.log("Loaded auto-sync details:",e)}catch(e){console.error("Failed to load auto-sync details:",e)}},Ae=async()=>{try{const e=n&&"all_syncable"!==n?n:"";console.log("Loading tickets with simple API: type=".concat(t,", column=").concat(e));const a=await(0,u.R0)(t,e);console.log("Simple API response:",a);let s=[];a.data?s=a.data.tickets||a.data:a.tickets?s=a.tickets:Array.isArray(a)&&(s=a),Array.isArray(s)||(console.warn("Ticket data is not an array:",s),s=[]),console.log("Loaded ".concat(s.length," ").concat(t," tickets")),p(s),S(!1)}catch(e){console.error("Failed to load tickets:",e),v(e.message),p([])}},Me=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;xe(!0);try{const t=n&&"all_syncable"!==n?n:"",a=e?{change_ids:e}:{};console.log("Syncing changes:",{column:t,body:a}),await(0,u.T3)(t,a),await Pe(),await Ae(),ge(!1),alert("Changes synced successfully!")}catch(t){console.error("Failed to sync changes:",t),alert("Failed to sync changes: "+t.message)}finally{xe(!1)}},Le=e=>{p(t=>t.filter(t=>{var n;return(t.gid||(null===(n=t.asana_task)||void 0===n?void 0:n.gid)||t.id||t)!==e}))},Fe=async()=>{if(i&&0!==f.length){U(!0);try{const e=[...f];await i(),p([]),e.forEach(e=>{m&&m(e.gid,"missing")}),h&&setTimeout(()=>h(),3e3)}catch(e){console.error("Failed to create all tickets:",e),alert("Failed to create all tickets: "+e.message)}finally{U(!1)}}},Oe=()=>{S(!0)},De=()=>{S(!1)},Re=()=>{if(_.size===f.length)C(new Set);else{const e=f.map(e=>{var t;return e.gid||(null===(t=e.asana_task)||void 0===t?void 0:t.gid)||e.id||e});C(new Set(e))}},Ie=e=>{F(e),M(!0)},Ue=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch(t){return"Invalid Date"}},Be=e=>{if(!e)return"bg-gray-100 text-gray-700";const t=e.toLowerCase();return"urgent"===t||"critical"===t?"bg-red-100 text-red-700":"high"===t?"bg-orange-100 text-orange-700":"medium"===t||"normal"===t?"bg-yellow-100 text-yellow-700":"low"===t?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"},He=(e,n)=>{var a,s,i,o,p,g,y,x,v,S,P,z,A,M,L,F;const O=e.gid||(null===(a=e.asana_task)||void 0===a?void 0:a.gid)||(null===(s=e.youtrack_issue)||void 0===s?void 0:s.id)||e.id||e,D=e.name||(null===(i=e.asana_task)||void 0===i?void 0:i.name)||(null===(o=e.youtrack_issue)||void 0===o?void 0:o.summary)||e.summary||O,U=k.has(O),V=_.has(O),Y="ignored"!==t,q=B===O,K=e.created_at||(null===(p=e.asana_task)||void 0===p?void 0:p.created_at),G=e.assignee_name||(null===(g=e.asana_task)||void 0===g||null===(y=g.assignee)||void 0===y?void 0:y.name)||"Unassigned",J=e.priority||(null===(x=e.asana_task)||void 0===x?void 0:x.priority),Z=(e=>{const t=Q.find(t=>t.asana_task_id===e);if(!t)return null;const n=[];return t.title_changed&&n.push({icon:re,label:"Title",color:"text-blue-600"}),t.description_changed&&n.push({icon:re,label:"Description",color:"text-purple-600"}),t.status_mismatch&&n.push({icon:le,label:"Status",color:"text-orange-600"}),n.length>0?n:null})(O);if("ignored"===t&&"string"===typeof e)return(0,d.jsx)("div",{className:"glass-panel border border-gray-200 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:"font-medium text-gray-900",children:["Ticket ID: ",e]}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Permanently ignored from sync"})]}),(0,d.jsx)("button",{onClick:()=>(async e=>{w(t=>c(c({},t),{},{["unignore_".concat(e)]:!0}));try{await(0,u.YP)(e),j(t=>{const n=new Set(t);return n.delete(e),n}),"ignored"===t&&Le(e)}catch(n){console.error("Failed to unignore ticket:",n),alert("Failed to unignore ticket: "+n.message)}finally{w(t=>c(c({},t),{},{["unignore_".concat(e)]:!1}))}})(e),disabled:b["unignore_".concat(e)],className:"bg-green-100 text-green-700 px-3 py-1 rounded hover:bg-green-200 transition-colors disabled:opacity-50 flex items-center",children:b["unignore_".concat(e)]?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"w-3 h-3 mr-1 animate-spin"}),"Removing..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ee,{className:"w-3 h-3 mr-1"}),"Remove from Ignored"]})})]})},e);const ae=e.tags||e.asana_tags||(null===(v=e.asana_task)||void 0===v?void 0:v.tags)||[],se=(null===(S=e.memberships)||void 0===S||null===(P=S[0])||void 0===P||null===(z=P.section)||void 0===z?void 0:z.name)||(null===(A=e.asana_task)||void 0===A||null===(M=A.memberships)||void 0===M||null===(L=M[0])||void 0===L||null===(F=L.section)||void 0===F?void 0:F.name)||"No Section";return(0,d.jsxs)("div",{className:"glass-panel border rounded-lg p-4 transition-all ".concat(N?"cursor-pointer hover:shadow-md select-none ".concat(V?"border-red-400 bg-red-50 shadow-md":"border-gray-200 hover:border-red-200"):"border-gray-200 hover:shadow-md"),onClick:e=>Y&&((e,t,n)=>{if(N)if(n.preventDefault(),n.shiftKey&&(n.preventDefault(),window.getSelection().removeAllRanges()),n.shiftKey&&-1!==E){const e=Math.min(E,t),n=Math.max(E,t),s=new Set(_);for(let t=e;t<=n;t++){var a;const e=f[t],n=e.gid||(null===(a=e.asana_task)||void 0===a?void 0:a.gid)||e.id||e;s.add(n)}C(s)}else C(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}),T(t)})(O,n,e),onMouseDown:e=>{N&&Y&&e.preventDefault()},children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,d.jsx)("h3",{className:"font-medium ".concat(V?"text-red-900":"text-gray-900"),children:D})}),(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-2 text-sm text-gray-600",children:[(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(ie,{className:"w-3 h-3"}),(0,d.jsx)("span",{children:Ue(K)})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(oe,{className:"w-3 h-3"}),(0,d.jsx)("span",{children:G})]}),J&&(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)($,{className:"w-3 h-3"}),(0,d.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium ".concat(Be(J)),children:J})]})]}),Z&&Z.length>0&&(0,d.jsx)("div",{className:"flex items-center gap-2 mb-2",children:Z.map((e,t)=>{const n=e.icon;return(0,d.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-orange-50 border border-orange-200 rounded text-xs",title:"".concat(e.label," changed"),children:[(0,d.jsx)(n,{className:"w-3 h-3 ".concat(e.color)}),(0,d.jsx)("span",{className:"text-orange-700",children:e.label})]},t)})}),(0,d.jsxs)("p",{className:"text-sm ".concat(V?"text-red-700":"text-gray-600"),children:["ID: ",O]})]}),N&&Y&&V&&(0,d.jsx)("div",{className:"flex items-center text-red-600",children:(0,d.jsx)(R,{className:"w-4 h-4"})})]}),(0,d.jsxs)("p",{className:"text-sm ".concat(V?"text-red-600":"text-gray-500"),children:["Section: ",se]}),"mismatched"===t&&(0,d.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,d.jsx)("div",{className:"flex items-center space-x-2",children:(0,d.jsxs)("span",{className:"status-badge matched text-xs",children:["Asana: ",e.asana_status]})}),(0,d.jsx)("div",{className:"flex items-center space-x-2",children:(0,d.jsxs)("span",{className:"status-badge mismatched text-xs",children:["YouTrack: ",e.youtrack_status]})})]})]}),!N&&(0,d.jsxs)("div",{className:"flex flex-col space-y-2 ml-4",children:[!ke&&"mismatched"===t&&(0,d.jsx)("button",{onClick:e=>{e.stopPropagation(),(async e=>{w(t=>c(c({},t),{},{["sync_".concat(e)]:!0}));try{await r(e),Le(e),m&&m(e,"mismatched"),h&&setTimeout(()=>h(),3e3)}catch(t){console.error("Failed to sync ticket:",t),alert("Failed to sync ticket: "+t.message)}finally{w(t=>c(c({},t),{},{["sync_".concat(e)]:!1}))}})(O)},disabled:b["sync_".concat(O)],className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center",children:b["sync_".concat(O)]?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"w-3 h-3 mr-1 animate-spin"}),"Syncing..."]}):"Sync"}),!ke&&"missing"===t&&(0,d.jsx)("button",{onClick:e=>{e.stopPropagation(),(async e=>{w(t=>c(c({},t),{},{["create_".concat(e)]:!0}));try{await l(e),Le(e),m&&m(e,"missing"),h&&setTimeout(()=>h(),3e3)}catch(t){console.error("Failed to create ticket:",t),alert("Failed to create ticket: "+t.message)}finally{w(t=>c(c({},t),{},{["create_".concat(e)]:!1}))}})(O)},disabled:b["create_".concat(O)],className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center",children:b["create_".concat(O)]?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"w-3 h-3 mr-1 animate-spin"}),"Creating..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(te,{className:"w-3 h-3 mr-1"}),"Create"]})}),ke&&(0,d.jsxs)("div",{className:"bg-blue-50 border border-blue-200 text-blue-700 px-3 py-2 rounded text-xs text-center",children:["Display Only",(0,d.jsx)("br",{}),"No Sync"]}),"ignored"!==t&&(0,d.jsx)("button",{onClick:e=>{e.stopPropagation(),(async e=>{w(t=>c(c({},t),{},{["ignore_".concat(e)]:!0}));try{await(0,u.FR)(e),j(t=>new Set([...t,e])),setTimeout(()=>{Le(e)},1e3)}catch(t){console.error("Failed to ignore ticket:",t),alert("Failed to ignore ticket: "+t.message)}finally{w(t=>c(c({},t),{},{["ignore_".concat(e)]:!1}))}})(O)},disabled:b["ignore_".concat(O)]||U,className:"bg-gray-100 text-gray-700 px-3 py-1 rounded text-sm hover:bg-gray-200 transition-colors disabled:opacity-50 flex items-center",children:b["ignore_".concat(O)]?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"w-3 h-3 mr-1 animate-spin"}),"Ignoring..."]}):U?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ne,{className:"w-3 h-3 mr-1"}),"Ignored!"]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ne,{className:"w-3 h-3 mr-1"}),"Ignore"]})}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)("button",{onClick:e=>{e.stopPropagation(),((e,t)=>{navigator.clipboard.writeText(e).then(()=>{W(t),setTimeout(()=>W(null),2e3)}).catch(e=>{console.error("Failed to copy:",e)})})(D,O)},className:"p-1 rounded hover:bg-gray-200 transition-colors ".concat(q?"bg-green-100":""),title:"Copy ticket title",children:(0,d.jsx)(ce,{className:"w-3 h-3 ".concat(q?"text-green-600":"text-gray-600")})}),(0,d.jsx)("button",{onClick:e=>{e.stopPropagation(),(e=>{const t=encodeURIComponent(e),n="https://loop.youtrack.cloud/agiles/183-4/current?query=".concat(t);window.open(n,"_blank")})(D)},className:"p-1 rounded hover:bg-gray-200 transition-colors",title:"Search in YouTrack",children:(0,d.jsx)(I,{className:"w-3 h-3 text-orange-600"})}),(0,d.jsx)("button",{onClick:e=>{e.stopPropagation(),(e=>{const t="https://app.asana.com/0/0/".concat(e);window.open(t,"_blank")})(O)},className:"p-1 rounded hover:bg-gray-200 transition-colors",title:"Open in Asana",children:(0,d.jsx)(ue,{className:"w-3 h-3 text-blue-600"})}),(0,d.jsx)("button",{onClick:e=>{e.stopPropagation(),Ce(O),Se(!0)},className:"p-1 rounded hover:bg-gray-200 transition-colors",title:"View ticket history",children:(0,d.jsx)(de,{className:"w-3 h-3 text-purple-600"})})]})]})]}),ae&&ae.length>0&&(0,d.jsxs)("div",{className:"mt-3",children:[(0,d.jsx)("div",{className:"text-xs mb-1 ".concat(V?"text-red-600":"text-gray-500"),children:"Tags:"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-1",children:ae.map((e,t)=>(0,d.jsxs)("span",{className:"tag-glass inline-flex items-center ".concat(V?"bg-red-100 text-red-800":""),children:[(0,d.jsx)(X,{className:"w-3 h-3 mr-1"}),"string"===typeof e?e:e.name]},t))})]}),N&&Y&&0===n&&(0,d.jsx)("div",{className:"mt-3 text-xs text-gray-500 border-t pt-2",children:"\ud83d\udca1 Click to select tickets \u2022 Shift+Click for range selection"})]},O)},We=Ee(),Ve=We.icon;return g?(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(H,{className:"w-6 h-6 animate-spin mr-2"}),(0,d.jsxs)("span",{children:["Loading ",We.title.toLowerCase(),"..."]})]})}):(0,d.jsx)("div",{className:"min-h-screen",children:(0,d.jsxs)("div",{className:"max-w-6xl mx-auto px-6 py-8 ".concat(N?"select-none":""),style:N?{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"}:{},children:[x&&(0,d.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(G,{className:"w-5 h-5 text-red-600 mr-2"}),(0,d.jsxs)("p",{className:"text-red-800",children:["Error loading tickets: ",x]})]})}),Q.length>0&&(0,d.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(D,{className:"w-5 h-5 text-orange-600 mr-2"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:"text-lg font-semibold text-orange-900",children:[Q.length," Ticket",1!==Q.length?"s":""," with Changes Detected"]}),(0,d.jsx)("p",{className:"text-sm text-orange-700",children:"Titles, descriptions, or statuses have changed in Asana"})]})]}),(0,d.jsxs)("button",{onClick:()=>ge(!0),className:"flex items-center bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors font-medium",children:[(0,d.jsx)(ee,{className:"w-4 h-4 mr-2"}),"View Details"]})]})}),(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6 gap-4",children:[(0,d.jsx)("div",{className:"flex items-center gap-4",children:(0,d.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:[We.title," (",f.length,")",n&&"all_syncable"!==n&&(0,d.jsxs)("span",{className:"text-blue-600 text-lg font-normal ml-2",children:["\u2022 ",n.replace("_"," ").toUpperCase()," Column"]}),_.size>0&&(0,d.jsxs)("span",{className:"text-red-600 ml-2",children:["\u2022 ",_.size," selected"]})]})}),(0,d.jsx)("div",{className:"flex items-center gap-3 flex-wrap",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Sort:"}),(0,d.jsxs)("select",{value:V.sort_by,onChange:e=>{return t=e.target.value,void q(e=>({sort_by:t,sort_order:e.sort_by===t&&"asc"===e.sort_order?"desc":"asc"}));var t},className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[(0,d.jsx)("option",{value:"created_at",children:"Created Date"}),(0,d.jsx)("option",{value:"assignee_name",children:"Assignee"}),(0,d.jsx)("option",{value:"priority",children:"Priority"})]}),(0,d.jsx)("button",{onClick:()=>q(e=>c(c({},e),{},{sort_order:"asc"===e.sort_order?"desc":"asc"})),className:"p-1.5 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"asc"===V.sort_order?"Ascending":"Descending",children:"asc"===V.sort_order?(0,d.jsx)(me,{className:"w-4 h-4"}):(0,d.jsx)(he,{className:"w-4 h-4"})})]})})]}),N&&_.size>0&&(0,d.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6",children:[(0,d.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(se,{className:"w-5 h-5 text-red-600 mr-2"}),(0,d.jsxs)("h3",{className:"text-lg font-semibold text-red-900",children:["Delete Selected (",_.size,")"]})]})}),(0,d.jsx)("p",{className:"text-red-700 text-sm mb-4",children:"\u26a0\ufe0f Warning: This action cannot be undone. Please choose carefully where to delete the selected tickets."}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,d.jsxs)("button",{onClick:()=>Ie("asana"),disabled:P,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50 flex items-center font-medium",children:[(0,d.jsx)(se,{className:"w-4 h-4 mr-2"}),"Delete from Asana Only"]}),(0,d.jsxs)("button",{onClick:()=>Ie("youtrack"),disabled:P,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center font-medium",children:[(0,d.jsx)(se,{className:"w-4 h-4 mr-2"}),"Delete from YouTrack Only"]}),(0,d.jsxs)("button",{onClick:()=>Ie("both"),disabled:P,className:"bg-red-800 text-white px-4 py-2 rounded-lg hover:bg-red-900 transition-colors disabled:opacity-50 flex items-center font-medium",children:[(0,d.jsx)(se,{className:"w-4 h-4 mr-2"}),"Delete from Both Systems"]})]}),(0,d.jsxs)("div",{className:"text-xs text-red-600 mt-3",children:["Selected tickets: ",Array.from(_).slice(0,10).join(", "),_.size>10&&" ... and ".concat(_.size-10," more")]})]}),A&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,d.jsxs)("div",{className:"flex items-center mb-4",children:[(0,d.jsx)(G,{className:"w-6 h-6 text-red-600 mr-2"}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Deletion"})]}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsxs)("p",{className:"text-gray-700 mb-3",children:["You are about to permanently delete ",(0,d.jsx)("strong",{children:_.size})," tickets from ",(0,d.jsx)("strong",{children:(e=>{switch(e){case"asana":return"Asana Only";case"youtrack":return"YouTrack Only";case"both":return"Both Systems";default:return e}})(L)}),"."]}),(0,d.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3 mb-3",children:(0,d.jsx)("p",{className:"text-yellow-800 text-sm font-medium",children:"\u26a0\ufe0f This action cannot be undone!"})}),(0,d.jsxs)("div",{className:"max-h-32 overflow-y-auto bg-gray-50 rounded p-2",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Tickets to be deleted:"}),(0,d.jsx)("div",{className:"text-xs text-gray-600",children:Array.from(_).map(e=>(0,d.jsxs)("div",{children:["\u2022 ",e]},e))})]})]}),(0,d.jsxs)("div",{className:"flex space-x-3",children:[(0,d.jsx)("button",{onClick:()=>{M(!1),F("")},disabled:P,className:"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors disabled:opacity-50",children:"Cancel"}),(0,d.jsx)("button",{onClick:async()=>{z(!0);try{const e=Array.from(_),t=await(0,u.LG)(e,L);p(e=>e.filter(e=>{var t;const n=e.gid||(null===(t=e.asana_task)||void 0===t?void 0:t.gid)||e.id||e;return!_.has(n)})),M(!1),S(!1),C(new Set);const n=t.success_count||0,a=t.failure_count||0,s=t.summary||"Processed ".concat(e.length," tickets");setTimeout(()=>{alert("Delete Operation Complete:\n".concat(s,"\n\nSuccessful: ").concat(n,"\nFailed: ").concat(a))},100),h&&setTimeout(()=>h(),3e3)}catch(e){console.error("Delete operation failed:",e),alert("Delete operation failed: "+e.message)}finally{z(!1),F("")}},disabled:P,className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center justify-center",children:P?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"w-4 h-4 mr-2 animate-spin"}),"Deleting..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(se,{className:"w-4 h-4 mr-2"}),"Confirm Delete"]})})]})]})}),Z&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full my-8 max-h-[90vh] overflow-y-auto",children:[(0,d.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 z-10",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(fe,{className:"w-6 h-6 text-orange-600 mr-2"}),(0,d.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:["Changed Tickets (",Q.length,")"]})]}),(0,d.jsx)("button",{onClick:()=>ge(!1),className:"text-gray-500 hover:text-gray-700",children:(0,d.jsx)(ae,{className:"w-6 h-6"})})]}),(0,d.jsx)("p",{className:"text-gray-600 mt-2",children:"Review and sync tickets where Asana data has been updated"})]}),(0,d.jsx)("div",{className:"p-6 space-y-4",children:Q.map((e,t)=>(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:"font-semibold text-gray-900 mb-1",children:["Ticket ID: ",e.asana_task_id]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[e.title_changed&&(0,d.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded flex items-center gap-1",children:[(0,d.jsx)(re,{className:"w-3 h-3"}),"Title"]}),e.description_changed&&(0,d.jsxs)("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded flex items-center gap-1",children:[(0,d.jsx)(re,{className:"w-3 h-3"}),"Description"]}),e.status_mismatch&&(0,d.jsxs)("span",{className:"px-2 py-1 bg-orange-100 text-orange-700 text-xs rounded flex items-center gap-1",children:[(0,d.jsx)(le,{className:"w-3 h-3"}),"Status"]})]})]}),(0,d.jsx)("button",{onClick:()=>Me([e.asana_task_id]),disabled:ye,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center whitespace-nowrap",children:ye?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"w-4 h-4 mr-2 animate-spin"}),"Syncing..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(le,{className:"w-4 h-4 mr-2"}),"Sync This"]})})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"bg-gray-50 rounded p-3",children:[(0,d.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Old (YouTrack)"}),(0,d.jsxs)("div",{className:"space-y-2 text-sm",children:[e.title_changed&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-600 font-medium",children:"Title:"}),(0,d.jsx)("p",{className:"text-gray-900 mt-1",children:e.old_title||"N/A"})]}),e.description_changed&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-600 font-medium",children:"Description:"}),(0,d.jsx)("p",{className:"text-gray-900 mt-1 line-clamp-3",children:e.old_description||"No description"})]}),e.status_mismatch&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-600 font-medium",children:"Status:"}),(0,d.jsx)("p",{className:"text-gray-900 mt-1",children:e.youtrack_status||"N/A"})]})]})]}),(0,d.jsxs)("div",{className:"bg-blue-50 rounded p-3",children:[(0,d.jsx)("h4",{className:"text-sm font-semibold text-blue-700 mb-2",children:"New (Asana)"}),(0,d.jsxs)("div",{className:"space-y-2 text-sm",children:[e.title_changed&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-600 font-medium",children:"Title:"}),(0,d.jsx)("p",{className:"text-gray-900 mt-1 font-medium",children:e.new_title||"N/A"})]}),e.description_changed&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-600 font-medium",children:"Description:"}),(0,d.jsx)("p",{className:"text-gray-900 mt-1 line-clamp-3 font-medium",children:e.new_description||"No description"})]}),e.status_mismatch&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-600 font-medium",children:"Status:"}),(0,d.jsx)("p",{className:"text-gray-900 mt-1 font-medium",children:e.asana_status||"N/A"})]})]})]})]})]},t))}),(0,d.jsx)("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)("p",{className:"text-gray-600",children:[Q.length," ticket",1!==Q.length?"s":""," with changes"]}),(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsx)("button",{onClick:()=>ge(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),(0,d.jsx)("button",{onClick:()=>Me(),disabled:ye,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center font-medium",children:ye?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"w-4 h-4 mr-2 animate-spin"}),"Syncing All..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(le,{className:"w-4 h-4 mr-2"}),"Sync All Changes"]})})]})]})})]})}),0===f.length?(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)(Ve,{className:"w-16 h-16 mx-auto text-".concat(We.color,"-400 mb-4")}),(0,d.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["No ",We.title.toLowerCase()," found"]}),(0,d.jsxs)("p",{className:"text-gray-600",children:["ignored"===t&&"No tickets are currently being ignored.","matched"===t&&n&&"all_syncable"!==n&&"All tickets in ".concat(n.replace("_"," ")," column are either mismatched or missing."),"matched"===t&&(!n||"all_syncable"===n)&&"All tickets are either mismatched or missing.","mismatched"===t&&n&&"all_syncable"!==n&&"All tickets in ".concat(n.replace("_"," ")," column are properly synchronized."),"mismatched"===t&&(!n||"all_syncable"===n)&&"All tickets are properly synchronized.","missing"===t&&n&&"all_syncable"!==n&&"All Asana tickets in ".concat(n.replace("_"," ")," column already exist in YouTrack."),"missing"===t&&(!n||"all_syncable"===n)&&"All Asana tickets already exist in YouTrack.",!["ignored","matched","mismatched","missing"].includes(t)&&"No tickets found for this category."]})]}):(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(()=>{let e=[...f];return e.sort((e,t)=>{var n,a,s,r,l,i,o,c;let u,d;switch(V.sort_by){case"created_at":u=new Date(e.created_at||(null===(n=e.asana_task)||void 0===n?void 0:n.created_at)||0),d=new Date(t.created_at||(null===(a=t.asana_task)||void 0===a?void 0:a.created_at)||0);break;case"assignee_name":u=(e.assignee_name||(null===(s=e.asana_task)||void 0===s||null===(r=s.assignee)||void 0===r?void 0:r.name)||"Unassigned").toLowerCase(),d=(t.assignee_name||(null===(l=t.asana_task)||void 0===l||null===(i=l.assignee)||void 0===i?void 0:i.name)||"Unassigned").toLowerCase();break;case"priority":const m={urgent:4,critical:4,high:3,medium:2,normal:2,low:1};u=m[(e.priority||(null===(o=e.asana_task)||void 0===o?void 0:o.priority)||"").toLowerCase()]||0,d=m[(t.priority||(null===(c=t.asana_task)||void 0===c?void 0:c.priority)||"").toLowerCase()]||0;break;default:return 0}return u<d?"asc"===V.sort_order?-1:1:u>d?"asc"===V.sort_order?1:-1:0}),e})().map((e,t)=>He(e,t))}),Ne&&_e&&(0,d.jsx)("div",{className:"modal-overlay fixed inset-0 flex items-center justify-center p-4 z-50",children:(0,d.jsxs)("div",{className:"modal-content max-w-3xl w-full max-h-[80vh] overflow-y-auto p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,d.jsx)(de,{className:"w-6 h-6 mr-2"}),"Ticket History"]}),(0,d.jsx)("button",{onClick:()=>Se(!1),className:"text-gray-500 hover:text-gray-700",children:(0,d.jsx)(ae,{className:"w-6 h-6"})})]}),(0,d.jsx)("div",{className:"mb-4 p-3 bg-white bg-opacity-50 rounded-lg",children:(0,d.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["Ticket ID: ",(0,d.jsx)("span",{className:"font-mono",children:_e})]})}),(0,d.jsx)(pe,{ticketId:_e,onError:e=>{v(e),console.error(e)}})]})})]})})},ye=A("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),xe=e=>{let{onSuccess:t,onError:n}=e;const[s,r]=(0,a.useState)([]),[l,i]=(0,a.useState)(!0),[o,m]=(0,a.useState)(null),[h,f]=(0,a.useState)({}),[p,g]=(0,a.useState)(null),[y,x]=(0,a.useState)(!1),[v,b]=(0,a.useState)(null);(0,a.useEffect)(()=>{w()},[]);const w=async()=>{i(!0);try{var e;const t=await(0,u._o)(15),n=(t.operations||(null===(e=t.data)||void 0===e?void 0:e.operations)||t.data||[]).filter(e=>"rollback"!==e.operation_type&&"Rollback"!==e.operation_type);r(n)}catch(t){null===n||void 0===n||n("Failed to load sync history: "+t.message)}finally{i(!1)}},k=()=>{x(!1),b(null)},j=e=>{if("rollback"===e.operation_type||"Rollback"===e.operation_type)return!1;if("completed"!==e.status)return!1;if("rolled_back"===e.status)return!1;const t=new Date(e.created_at);return(new Date-t)/36e5<24},N=e=>{const t={completed:{class:"status-badge-completed",icon:R,text:"Completed"},failed:{class:"status-badge-failed",icon:ye,text:"Failed"},rolled_back:{class:"status-badge-rolled-back",icon:Z,text:"Rolled Back"},in_progress:{class:"status-badge-in-progress",icon:Y,text:"In Progress"},pending:{class:"status-badge-in-progress",icon:Y,text:"Pending"}},n=t[e]||t.pending,a=n.icon;return(0,d.jsxs)("span",{className:n.class,children:[(0,d.jsx)(a,{className:"w-3 h-3 inline mr-1"}),n.text]})},S=e=>{const t=new Date(e),n=new Date-t,a=Math.floor(n/6e4),s=Math.floor(n/36e5),r=Math.floor(n/864e5);return a<1?"Just now":a<60?"".concat(a," min").concat(a>1?"s":""," ago"):s<24?"".concat(s," hour").concat(s>1?"s":""," ago"):r<7?"".concat(r," day").concat(r>1?"s":""," ago"):t.toLocaleString()},_=e=>{const t=e.operation_data||{};if("Ticket Creation"===e.operation_type||"create"===e.operation_type){const e=t.created||0,n=t.skipped||0,a=t.failed||0,s=t.column||"all columns";return e>0||n>0||a>0?"".concat(s," - Created: ").concat(e,", Skipped: ").concat(n,", Failed: ").concat(a):"".concat(s," - Operation completed (legacy record)")}if("Ticket Sync"===e.operation_type||"sync"===e.operation_type){const e=t.synced||0,n=t.failed||0,a=t.total||0,s=t.ticket_count||0,r=t.column||"all columns";return e>0||n>0||a>0?"".concat(r," - Synced: ").concat(e,"/").concat(a,", Failed: ").concat(n):s>0?"".concat(r," - ").concat(s," ticket").concat(s>1?"s":""," synced (legacy record)"):"".concat(r," - Operation completed (legacy record)")}return t.column||t.action||"Operation completed"};return l?(0,d.jsx)("div",{className:"sync-history-container",children:(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("div",{className:"sync-loading-spinner mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Loading sync history..."})]})}):0===s.length?(0,d.jsx)("div",{className:"sync-history-container",children:(0,d.jsxs)("div",{className:"empty-state",children:[(0,d.jsx)("div",{className:"empty-state-icon",children:(0,d.jsx)(de,{className:"w-16 h-16 mx-auto text-gray-400"})}),(0,d.jsx)("p",{className:"empty-state-text",children:"No sync operations yet"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Your sync history will appear here"})]})}):(0,d.jsxs)("div",{className:"sync-history-container",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,d.jsx)(de,{className:"w-6 h-6 mr-2"}),"Sync History"]}),(0,d.jsxs)("button",{onClick:w,className:"view-details-button",children:[(0,d.jsx)(Z,{className:"w-4 h-4 inline mr-2"}),"Refresh"]})]}),(0,d.jsx)("div",{className:"space-y-4",children:s.map(e=>{return(0,d.jsxs)("div",{className:"operation-card",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)(Y,{className:"w-5 h-5 text-gray-600"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold text-gray-900",children:(t=e.operation_type,{asana_to_youtrack:"Asana \u2192 YouTrack",youtrack_to_asana:"YouTrack \u2192 Asana",bidirectional:"Bidirectional",rollback:"Rollback","Ticket Creation":"Ticket Creation","Ticket Sync":"Ticket Sync",create:"Ticket Creation",sync:"Ticket Sync"}[t]||t)}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:_(e)}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:S(e.created_at)})]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[N(e.status),j(e)&&(0,d.jsx)("button",{onClick:()=>{return t=e.id,b(t),void x(!0);var t},disabled:p===e.id,className:"rollback-button",children:p===e.id?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"sync-loading-spinner inline-block mr-2"}),"Rolling back..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Z,{className:"w-4 h-4 inline mr-2"}),"Rollback"]})}),(0,d.jsx)("button",{onClick:()=>(async e=>{if(o!==e){if(m(e),!h[e])try{const t=await(0,u.Bq)(e);f(n=>c(c({},n),{},{[e]:t.summary}))}catch(t){console.log("No snapshot available for operation",e)}}else m(null)})(e.id),className:"view-details-button",children:o===e.id?(0,d.jsx)(me,{className:"w-4 h-4"}):(0,d.jsx)(he,{className:"w-4 h-4"})})]})]}),e.error_message&&(0,d.jsx)("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,d.jsxs)("div",{className:"flex items-start",children:[(0,d.jsx)(D,{className:"w-4 h-4 text-red-600 mt-0.5 mr-2"}),(0,d.jsx)("p",{className:"text-sm text-red-800",children:e.error_message})]})}),o===e.id&&(0,d.jsx)("div",{className:"mt-4 pt-4 border-t border-white border-opacity-30",children:e.operation_data&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Operation Summary:"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[void 0!==e.operation_data.created&&(0,d.jsxs)("div",{className:"summary-stat-card",children:[(0,d.jsx)("div",{className:"summary-stat-number text-green-600",children:e.operation_data.created}),(0,d.jsx)("div",{className:"summary-stat-label",children:"Created"})]}),void 0!==e.operation_data.skipped&&(0,d.jsxs)("div",{className:"summary-stat-card",children:[(0,d.jsx)("div",{className:"summary-stat-number text-yellow-600",children:e.operation_data.skipped}),(0,d.jsx)("div",{className:"summary-stat-label",children:"Skipped"})]}),void 0!==e.operation_data.synced&&(0,d.jsxs)("div",{className:"summary-stat-card",children:[(0,d.jsx)("div",{className:"summary-stat-number text-blue-600",children:e.operation_data.synced}),(0,d.jsx)("div",{className:"summary-stat-label",children:"Synced"})]}),void 0!==e.operation_data.failed&&e.operation_data.failed>0&&(0,d.jsxs)("div",{className:"summary-stat-card",children:[(0,d.jsx)("div",{className:"summary-stat-number text-red-600",children:e.operation_data.failed}),(0,d.jsx)("div",{className:"summary-stat-label",children:"Failed"})]}),void 0!==e.operation_data.total&&(0,d.jsxs)("div",{className:"summary-stat-card",children:[(0,d.jsx)("div",{className:"summary-stat-number text-purple-600",children:e.operation_data.total}),(0,d.jsx)("div",{className:"summary-stat-label",children:"Total"})]})]})]})})]},e.id);var t})}),s.length>=15&&(0,d.jsx)("div",{className:"mt-6 text-center",children:(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Showing last 15 operations. Older operations are automatically removed."})}),y&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:k,style:{backdropFilter:"blur(8px)"},children:(0,d.jsxs)("div",{className:"glass-panel max-w-md w-full mx-4",style:{borderRadius:"20px",overflow:"hidden"},onClick:e=>e.stopPropagation(),children:[(0,d.jsx)("div",{className:"p-6",style:{background:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(20px) saturate(150%)",WebkitBackdropFilter:"blur(20px) saturate(150%)",borderBottom:"1px solid rgba(255, 255, 255, 0.3)"},children:(0,d.jsx)("div",{className:"flex items-center justify-between",children:(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"settings-profile-avatar",style:{width:"3rem",height:"3rem",background:"linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%)"},children:(0,d.jsx)(D,{className:"w-5 h-5 text-white"})}),(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Confirm Rollback"})]})})}),(0,d.jsx)("div",{className:"p-6",children:(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("p",{className:"text-gray-700 mb-3",children:"Are you sure you want to rollback this operation?"}),(0,d.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex items-start",children:[(0,d.jsx)(D,{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0"}),(0,d.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,d.jsx)("p",{className:"font-semibold mb-1",children:"This action will:"}),(0,d.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,d.jsx)("li",{children:"Undo all changes made during this sync"}),(0,d.jsx)("li",{children:"Restore tickets to their previous state"}),(0,d.jsx)("li",{children:"Delete any tickets that were created"}),(0,d.jsx)("li",{children:"Revert status and field updates"})]})]})]})})]})}),(0,d.jsxs)("div",{className:"p-6 flex justify-end space-x-3",style:{background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(16px) saturate(150%)",WebkitBackdropFilter:"blur(16px) saturate(150%)",borderTop:"1px solid rgba(255, 255, 255, 0.3)"},children:[(0,d.jsx)("button",{onClick:k,className:"settings-button-secondary",children:"Cancel"}),(0,d.jsxs)("button",{onClick:async()=>{const e=v;x(!1),g(e);try{const r=await(0,u.cM)(e);var a,s;if(r.success)null===t||void 0===t||t("Operation rolled back successfully!"),await w();else null===n||void 0===n||n("Rollback completed with errors: "+((null===(a=r.result)||void 0===a||null===(s=a.errors)||void 0===s?void 0:s.join(", "))||"Unknown error"))}catch(r){null===n||void 0===n||n("Failed to rollback operation: "+r.message)}finally{g(null),b(null)}},className:"settings-button",style:{background:"linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%)",border:"1px solid rgba(255, 255, 255, 0.3)"},children:[(0,d.jsx)(Z,{className:"w-4 h-4 mr-2"}),"Yes, Rollback"]})]})]})})]})},ve=e=>{var t;let{analysisData:n,selectedColumn:s,onBack:r,onSync:l,onCreateSingle:i,onCreateMissing:o,setNavBarSlots:m}=e;const[h,f]=(0,a.useState)({}),[p,g]=(0,a.useState)({}),[y,x]=(0,a.useState)(!1),[v,b]=(0,a.useState)(!1),[w,k]=(0,a.useState)(new Set),[j,N]=(0,a.useState)(new Set),[S,_]=(0,a.useState)(null),[C,E]=(0,a.useState)(!1),[T,P]=(0,a.useState)(n),[z,A]=(0,a.useState)([]),[M,L]=(0,a.useState)(!1),[F,O]=(0,a.useState)(null),[D,I]=(0,a.useState)(!1);(0,a.useEffect)(()=>{P(n)},[n]),(0,a.useEffect)(()=>{(async()=>{try{const e=await(0,u._o)(1),t=e.operations||e.data||[];t.length>0&&"completed"===t[0].status&&O(t[0].id)}catch(e){console.error("Failed to load last operation:",e)}})()},[]),(0,a.useEffect)(()=>{(async()=>{try{var e;const t=await(0,u.h_)(),n=t.data||t;A((null===(e=n.column_mappings)||void 0===e?void 0:e.asana_to_youtrack)||[])}catch(t){console.error("Failed to load column mappings:",t)}})()},[]);let U=null,B=null;var W;T&&(U=T.analysis,!U&&T.data&&(U=T.data.analysis||T.data),U||(U=T),B=T.summary||(null===(W=T.data)||void 0===W?void 0:W.summary)||T);const V=U||{},$=B||{},q={findings_alerts:$.findings_alerts||0,matched:$.matched||(V.matched?V.matched.length:0),mismatched:$.mismatched||(V.mismatched?V.mismatched.length:0),missing_youtrack:$.missing_youtrack||(V.missing_youtrack?V.missing_youtrack.length:0),tag_mismatches:$.tag_mismatches||0,ignored:$.ignored||(V.ignored?V.ignored.length:0),ready_for_stage:$.ready_for_stage||(V.ready_for_stage?V.ready_for_stage.length:0),findings_tickets:$.findings_tickets||(V.findings_tickets?V.findings_tickets.length:0),blocked_tickets:$.blocked_tickets||(V.blocked_tickets?V.blocked_tickets.length:0),orphaned_youtrack:$.orphaned_youtrack||(V.orphaned_youtrack?V.orphaned_youtrack.length:0)},Q=(e,t)=>{P(n=>{var a,s,r;const l=c({},n),i=c({},V);let o=null;if("mismatched"===t&&i.mismatched){const t=i.mismatched.findIndex(t=>{var n;return((null===(n=t.asana_task)||void 0===n?void 0:n.gid)||t.gid)===e});-1!==t&&(o=i.mismatched[t],i.mismatched=i.mismatched.filter((e,n)=>n!==t))}else if("missing"===t&&i.missing_youtrack){const t=i.missing_youtrack.findIndex(t=>t.gid===e);-1!==t&&(o=i.missing_youtrack[t],i.missing_youtrack=i.missing_youtrack.filter((e,n)=>n!==t))}if(o){var u;i.matched=i.matched||[];const t={asana_task:o.asana_task||{gid:o.gid,name:o.name},youtrack_issue:o.youtrack_issue||{id:e},asana_status:o.asana_status,youtrack_status:o.asana_status,asana_tags:o.asana_tags||(null===(u=o.tags)||void 0===u?void 0:u.map(e=>e.name))||[]};i.matched.push(t)}const d=c(c({},$),{},{matched:(null===(a=i.matched)||void 0===a?void 0:a.length)||0,mismatched:(null===(s=i.mismatched)||void 0===s?void 0:s.length)||0,missing_youtrack:(null===(r=i.missing_youtrack)||void 0===r?void 0:r.length)||0});return c(c({},l),{},{analysis:i,summary:d})})},K=async()=>{try{const e=await(0,u.a8)(s);P(c(c({},e),{},{analyzedColumn:s}))}catch(e){console.error("Silent refresh failed:",e)}},ae=async()=>{E(!0);try{const e=await(0,u.a8)(s);P(c(c({},e),{},{analyzedColumn:s}))}catch(e){console.error("Re-analysis failed:",e),alert("Re-analysis failed: "+e.message)}finally{E(!1)}},se=e=>{_({type:e,column:s})},re=()=>{_(null)};if(S)return(0,d.jsx)(ge,{type:S.type,column:S.column,onBack:re,onSync:l,onCreateSingle:i,onCreateMissing:o,setNavBarSlots:m,onTicketMoved:Q,onSilentRefresh:K});const le=e=>{if(!z||0===z.length)return!1;const t=z.find(t=>t.asana_column.toLowerCase().replace(/\s+/g,"_")===e.toLowerCase());return!0===(null===t||void 0===t?void 0:t.display_only)},ie=(()=>{const e=[];return z.forEach(t=>{if(t.display_only){const n=t.asana_column.toLowerCase().replace(/\s+/g,"_"),a=[];V[n]&&Array.isArray(V[n])?a.push(...V[n]):"findings"===n&&V.findings_tickets?a.push(...V.findings_tickets):"ready_for_stage"===n&&V.ready_for_stage?a.push(...V.ready_for_stage):"blocked"===n&&V.blocked_tickets&&a.push(...V.blocked_tickets.map(e=>e.asana_task||e));[...(V.matched||[]).map(e=>c(c({},e.asana_task||e),{},{_source:"matched"})),...(V.mismatched||[]).map(e=>c(c({},e.asana_task||e),{},{_source:"mismatched"})),...(V.missing_youtrack||[]).map(e=>c(c({},e),{},{_source:"missing"}))].forEach(e=>{var t,s,r;if(((null===(t=e.memberships)||void 0===t||null===(s=t[0])||void 0===s||null===(r=s.section)||void 0===r?void 0:r.name)||"").toLowerCase().replace(/\s+/g,"_")===n){a.some(t=>t.gid===e.gid)||a.push(e)}}),a.length>0&&e.push({key:n,label:t.asana_column,tickets:a,count:a.length})}}),e})(),oe=s&&le(s),ce=e=>e&&Array.isArray(e)?e.filter(e=>{var t,n,a;const s=(e.asana_status||(null===(t=e.memberships)||void 0===t||null===(n=t[0])||void 0===n||null===(a=n.section)||void 0===a?void 0:a.name)||"").toLowerCase().replace(/\s+/g,"_");return!le(s)}):[],ue=ce(V.mismatched),de=ce(V.missing_youtrack),me=e=>{let{tags:t}=e;return t&&0!==t.length?(0,d.jsx)("div",{className:"flex flex-wrap gap-1",children:t.map((e,t)=>(0,d.jsxs)("span",{className:"tag-glass inline-flex items-center",children:[(0,d.jsx)(X,{className:"w-3 h-3 mr-1"}),e]},t))}):(0,d.jsx)("span",{className:"text-gray-400",children:"No tags"})};if(!T)return(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(G,{className:"w-12 h-12 text-yellow-600 mx-auto mb-4"}),(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Analysis Data"}),(0,d.jsx)("p",{className:"text-gray-600 mb-4",children:"Please run an analysis first to see results."}),(0,d.jsxs)("button",{onClick:r,className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,d.jsx)(J,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})]})});return q.matched>0||q.mismatched>0||q.missing_youtrack>0||q.findings_tickets>0?(0,d.jsx)("div",{className:"min-h-screen",children:(0,d.jsxs)("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[(0,d.jsxs)("div",{className:"mb-8 flex justify-between items-start",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Analysis Results - ",(null===s||void 0===s||null===(t=s.toUpperCase)||void 0===t?void 0:t.call(s).replace(/_/g," "))||"ALL"]}),(0,d.jsx)("p",{className:"text-gray-600",children:"Review mismatches, sync tickets, and manage tags. Click on any summary card to see detailed views."})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[F&&(0,d.jsx)("button",{onClick:async()=>{if(F){if(window.confirm("Are you sure you want to undo the last sync? This will reverse all changes made during the sync.")){I(!0);try{const n=await(0,u.cM)(F);var e,t;if(n.success)alert("Sync undone successfully! Reloading analysis..."),O(null),window.location.reload();else alert("Rollback completed with errors: "+((null===(e=n.result)||void 0===e||null===(t=e.errors)||void 0===t?void 0:t.join(", "))||"Unknown error"))}catch(n){alert("Failed to undo sync: "+n.message)}finally{I(!1)}}}else alert("No recent sync operation to undo")},disabled:D,className:"undo-sync-button",children:D?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"sync-loading-spinner inline-block mr-2"}),"Undoing..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Z,{className:"w-4 h-4 mr-2"}),"Undo Last Sync"]})}),(0,d.jsx)("button",{onClick:ae,disabled:C,className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 font-medium",children:C?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"w-4 h-4 mr-2 animate-spin"}),"Re-analyzing..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"w-4 h-4 mr-2"}),"Re-analyze"]})})]})]}),(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsxs)("button",{onClick:()=>L(!M),className:"view-details-button",children:[(0,d.jsx)(Y,{className:"w-4 h-4 mr-2"}),M?"Hide":"Show"," Sync History"]})}),M&&(0,d.jsx)("div",{className:"mb-8",children:(0,d.jsx)(xe,{onSuccess:e=>alert(e),onError:e=>alert(e)})}),q.findings_alerts>0&&(0,d.jsxs)("div",{className:"glass-panel bg-red-50 border border-red-200 rounded-lg p-6 mb-6",children:[(0,d.jsxs)("div",{className:"flex items-center mb-4",children:[(0,d.jsx)(G,{className:"w-6 h-6 text-red-600 mr-2"}),(0,d.jsxs)("h2",{className:"text-xl font-semibold text-red-900",children:["High Priority Alerts (",q.findings_alerts,")"]})]}),(0,d.jsx)("div",{className:"glass-panel bg-red-100 border border-red-300 rounded-lg p-4",children:(0,d.jsx)("p",{className:"text-red-800 font-medium",children:"Tickets found in Findings (Asana) but still active in YouTrack"})})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[(0,d.jsxs)("div",{className:"glass-panel bg-green-50 border border-green-200 rounded-lg p-4 cursor-pointer hover:shadow-lg transition-all",onClick:()=>se("matched"),children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(R,{className:"w-6 h-6 text-green-600 mr-2"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-sm font-semibold text-green-900",children:"Matched"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-green-600",children:q.matched})]})]}),(0,d.jsxs)("div",{className:"mt-2 flex items-center text-xs text-green-700",children:[(0,d.jsx)(ee,{className:"w-3 h-3 mr-1"}),"Click to view details"]})]}),(0,d.jsxs)("div",{className:"glass-panel bg-yellow-50 border border-yellow-200 rounded-lg p-4 cursor-pointer hover:shadow-lg transition-all",onClick:()=>se("mismatched"),children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(Y,{className:"w-6 h-6 text-yellow-600 mr-2"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-sm font-semibold text-yellow-900",children:"Mismatched"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:q.mismatched})]})]}),(0,d.jsxs)("div",{className:"mt-2 flex items-center text-xs text-yellow-700",children:[(0,d.jsx)(ee,{className:"w-3 h-3 mr-1"}),"Click to view details"]})]}),(0,d.jsxs)("div",{className:"glass-panel bg-blue-50 border border-blue-200 rounded-lg p-4 cursor-pointer hover:shadow-lg transition-all",onClick:()=>se("missing"),children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(te,{className:"w-6 h-6 text-blue-600 mr-2"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-sm font-semibold text-blue-900",children:"Missing"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:q.missing_youtrack})]})]}),(0,d.jsxs)("div",{className:"mt-2 flex items-center text-xs text-blue-700",children:[(0,d.jsx)(ee,{className:"w-3 h-3 mr-1"}),"Click to view details"]})]}),(0,d.jsxs)("div",{className:"glass-panel bg-purple-50 border border-purple-200 rounded-lg p-4 cursor-pointer hover:shadow-lg transition-all",onClick:()=>se("ignored"),children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(ne,{className:"w-6 h-6 text-purple-600 mr-2"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-sm font-semibold text-purple-900",children:"Ignored"}),(0,d.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:q.ignored})]})]}),(0,d.jsxs)("div",{className:"mt-2 flex items-center text-xs text-purple-700",children:[(0,d.jsx)(ee,{className:"w-3 h-3 mr-1"}),"Click to manage"]})]}),(0,d.jsx)("div",{className:"glass-panel bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(H,{className:"w-6 h-6 text-indigo-600 mr-2"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-sm font-semibold text-indigo-900",children:"Sync Rate"}),(0,d.jsxs)("p",{className:"text-2xl font-bold text-indigo-600",children:[Math.round(q.matched/(q.matched+q.mismatched)*100)||0,"%"]})]})]})})]}),!oe&&ue.length>0&&(0,d.jsxs)("div",{className:"glass-panel bg-white border border-gray-200 rounded-lg p-6 mb-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Mismatched Tickets (",ue.length,")"]}),(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsxs)("button",{onClick:()=>se("mismatched"),className:"glass-panel interactive-element bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:[(0,d.jsx)(ee,{className:"w-4 h-4 mr-2"}),"View All"]}),(0,d.jsx)("button",{onClick:async()=>{const e=ue;if(0!==e.length){x(!0);try{const t=e.map(e=>{var t;return l((null===(t=e.asana_task)||void 0===t?void 0:t.gid)||e.gid)});await Promise.all(t),e.forEach(e=>{var t;const n=(null===(t=e.asana_task)||void 0===t?void 0:t.gid)||e.gid;Q(n,"mismatched")}),setTimeout(()=>K(),3e3)}catch(t){console.error("Some tickets failed to sync:",t),alert("Some tickets failed to sync. Please try again."),await ae()}finally{x(!1)}}},disabled:y,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center",children:y?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"w-4 h-4 mr-2 animate-spin"}),"Syncing All..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"w-4 h-4 mr-2"}),"Sync All"]})})]})]}),(0,d.jsxs)("div",{className:"overflow-x-auto",children:[(0,d.jsxs)("table",{className:"w-full",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:"border-b",children:[(0,d.jsx)("th",{className:"text-left p-3 font-medium text-gray-700",children:"Ticket Name"}),(0,d.jsx)("th",{className:"text-left p-3 font-medium text-gray-700",children:"Status"}),(0,d.jsx)("th",{className:"text-left p-3 font-medium text-gray-700",children:"Tags/Subsystem"}),(0,d.jsx)("th",{className:"text-left p-3 font-medium text-gray-700",children:"Actions"})]})}),(0,d.jsx)("tbody",{children:ue.slice(0,5).map(e=>{var t,n;const a=(null===(t=e.asana_task)||void 0===t?void 0:t.gid)||e.gid,s=h[a],r=w.has(a);return(0,d.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,d.jsxs)("td",{className:"p-3",children:[(0,d.jsx)("div",{className:"font-medium text-gray-900",children:(null===(n=e.asana_task)||void 0===n?void 0:n.name)||e.name}),(0,d.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",a]})]}),(0,d.jsx)("td",{className:"p-3",children:(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("div",{className:"flex items-center space-x-2",children:(0,d.jsxs)("span",{className:"status-badge matched",children:["Asana: ",e.asana_status]})}),(0,d.jsx)("div",{className:"flex items-center space-x-2",children:(0,d.jsxs)("span",{className:"status-badge mismatched",children:["YouTrack: ",e.youtrack_status]})})]})}),(0,d.jsx)("td",{className:"p-3",children:(0,d.jsx)("div",{className:"space-y-2",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Asana Tags:"}),(0,d.jsx)(me,{tags:e.asana_tags})]})})}),(0,d.jsx)("td",{className:"p-3",children:(0,d.jsx)("div",{className:"flex space-x-2",children:r?(0,d.jsxs)("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded text-sm flex items-center",children:[(0,d.jsx)(R,{className:"w-4 h-4 mr-1"}),"Synced!"]}):(0,d.jsx)("button",{onClick:()=>(async e=>{f(t=>c(c({},t),{},{[e]:!0}));try{await l(e),Q(e,"mismatched"),k(t=>new Set([...t,e])),setTimeout(()=>{k(t=>{const n=new Set(t);return n.delete(e),n})},2e3),setTimeout(()=>K(),3e3)}catch(t){console.error("Sync failed:",t),alert("Sync failed: "+t.message)}finally{f(t=>c(c({},t),{},{[e]:!1}))}})(a),disabled:s,className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center",children:s?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"w-3 h-3 mr-1 animate-spin"}),"Syncing..."]}):"Sync"})})})]},a)})})]}),ue.length>5&&(0,d.jsx)("div",{className:"mt-4 text-center",children:(0,d.jsxs)("button",{onClick:()=>se("mismatched"),className:"glass-panel interactive-element bg-blue-50 border border-blue-200 text-blue-700 px-6 py-3 rounded-lg hover:bg-blue-100 hover:border-blue-300 transition-all font-medium inline-flex items-center",children:[(0,d.jsx)(ee,{className:"w-4 h-4 mr-2"}),"View all ",ue.length," mismatched tickets",(0,d.jsx)(J,{className:"w-4 h-4 ml-2 rotate-180"})]})})]})]}),!oe&&de.length>0&&(0,d.jsxs)("div",{className:"glass-panel bg-white border border-gray-200 rounded-lg p-6 mb-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Missing in YouTrack (",de.length,")"]}),(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsxs)("button",{onClick:()=>se("missing"),className:"glass-panel interactive-element bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:[(0,d.jsx)(ee,{className:"w-4 h-4 mr-2"}),"View All"]}),(0,d.jsx)("button",{onClick:async()=>{b(!0);try{const e=de;await o(),e.forEach(e=>{Q(e.gid,"missing")}),setTimeout(()=>K(),3e3)}catch(e){console.error("Failed to create tickets:",e),alert("Failed to create tickets: "+e.message),await ae()}finally{b(!1)}},disabled:v,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center disabled:opacity-50",children:v?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating All..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(te,{className:"w-4 h-4 mr-2"}),"Create All"]})})]})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:de.slice(0,6).map((e,t)=>{var n,a,s,r;const l=e.gid,o=p[l],u=j.has(l);return(0,d.jsxs)("div",{className:"glass-panel border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,d.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:e.name}),(0,d.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:["Section: ",(null===(n=e.memberships)||void 0===n||null===(a=n[0])||void 0===a||null===(s=a.section)||void 0===s?void 0:s.name)||"No Section"]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Tags:"}),(0,d.jsx)(me,{tags:(null===(r=e.tags)||void 0===r?void 0:r.map(e=>e.name))||[]})]}),u?(0,d.jsxs)("div",{className:"w-full bg-green-100 text-green-800 px-3 py-2 rounded text-sm text-center flex items-center justify-center",children:[(0,d.jsx)(R,{className:"w-4 h-4 mr-2"}),"Created!"]}):(0,d.jsx)("button",{onClick:()=>(async e=>{const t=e.gid;g(e=>c(c({},e),{},{[t]:!0}));try{await i(t),Q(t,"missing"),N(e=>new Set([...e,t])),setTimeout(()=>{N(e=>{const n=new Set(e);return n.delete(t),n})},2e3),setTimeout(()=>K(),3e3)}catch(n){console.error("Create failed:",n),alert("Create failed: "+n.message)}finally{g(e=>c(c({},e),{},{[t]:!1}))}})(e),disabled:o,className:"w-full bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700 text-sm transition-colors disabled:opacity-50 flex items-center justify-center",children:o?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(te,{className:"w-4 h-4 mr-2"}),"Create"]})})]},l)})}),de.length>6&&(0,d.jsx)("div",{className:"mt-4 text-center",children:(0,d.jsxs)("button",{onClick:()=>se("missing"),className:"glass-panel interactive-element bg-blue-50 border border-blue-200 text-blue-700 px-6 py-3 rounded-lg hover:bg-blue-100 hover:border-blue-300 transition-all font-medium inline-flex items-center",children:[(0,d.jsx)(ee,{className:"w-4 h-4 mr-2"}),"View all ",de.length," missing tickets",(0,d.jsx)(J,{className:"w-4 h-4 ml-2 rotate-180"})]})})]}),oe&&ie.length>0&&(0,d.jsxs)("div",{className:"glass-panel bg-white border border-gray-200 rounded-lg p-6",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Display Only Sections"}),(0,d.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:ie.map((e,t)=>{const n=[{bg:"bg-green-50",border:"border-green-200",text:"text-green-700",hover:"hover:bg-green-100 hover:border-green-300"},{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-700",hover:"hover:bg-orange-100 hover:border-orange-300"},{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-700",hover:"hover:bg-purple-100 hover:border-purple-300"},{bg:"bg-pink-50",border:"border-pink-200",text:"text-pink-700",hover:"hover:bg-pink-100 hover:border-pink-300"},{bg:"bg-indigo-50",border:"border-indigo-200",text:"text-indigo-700",hover:"hover:bg-indigo-100 hover:border-indigo-300"}],a=n[t%n.length];return(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:"text-lg font-medium text-gray-700 mb-3",children:[e.label," (",e.count,")"]}),(0,d.jsxs)("div",{className:"space-y-2",children:[e.tickets.slice(0,3).map(e=>{var t;return(0,d.jsxs)("div",{className:"glass-panel ".concat(a.bg," ").concat(a.border," border rounded-lg p-3"),children:[(0,d.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,d.jsx)("div",{className:"mt-1",children:(0,d.jsx)(me,{tags:(null===(t=e.tags)||void 0===t?void 0:t.map(e=>e.name))||[]})}),(0,d.jsx)("p",{className:"text-sm ".concat(a.text," mt-1"),children:"Display only - not synced"})]},e.gid)}),e.tickets.length>3&&(0,d.jsxs)("button",{onClick:()=>se(e.key),className:"glass-panel interactive-element ".concat(a.bg," ").concat(a.border," border ").concat(a.text," px-4 py-2 rounded-lg ").concat(a.hover," transition-all text-sm font-medium inline-flex items-center"),children:[(0,d.jsx)(ee,{className:"w-3 h-3 mr-2"}),"View all ",e.tickets.length," tickets",(0,d.jsx)(J,{className:"w-3 h-3 ml-2 rotate-180"})]})]})]},e.key)})})]})]})}):(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(R,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Perfect Sync!"}),(0,d.jsxs)("p",{className:"text-gray-600 mb-4",children:["All tickets are perfectly synchronized. No actions needed for ",s||"selected columns","."]}),(0,d.jsxs)("button",{onClick:r,className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,d.jsx)(J,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})]})})},be=e=>{let{title:t,showBack:n,onBack:a,leftContent:s,rightContent:r,children:l}=e;return(0,d.jsxs)("div",{children:[(0,d.jsx)("nav",{className:"glass-panel border-b border-gray-200 bg-white px-6 py-4 fixed top-0 left-0 right-0 z-50",style:{borderRadius:"0",position:"fixed",top:0,left:0,right:0,zIndex:1001},children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[s?(0,d.jsx)("div",{className:"flex items-center space-x-8",children:s}):(0,d.jsx)("div",{className:"flex items-center space-x-8",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("img",{src:"https://apyhub.com/logo.svg",alt:"ApyHub",className:"h-8 w-8 apyhub-logo"}),(0,d.jsx)("span",{className:"ml-3 text-xl font-semibold text-gray-900",children:t||"BoardSync"})]})}),(0,d.jsxs)("div",{className:"flex items-center space-x-6",children:[r,n&&(0,d.jsxs)("button",{onClick:a,className:"flex items-center bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,d.jsx)(J,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})]})]})}),(0,d.jsx)("div",{className:"max-w-6xl mx-auto px-6",style:{paddingTop:96,paddingBottom:32},children:l})]})},we=e=>{let{currentView:t,selectedColumn:n,autoSyncRunning:s=!1,autoCreateRunning:r=!1}=e;const l=(0,a.useRef)(null),i=(0,a.useRef)(null),o=(0,a.useRef)({x:0,y:0,normalizedX:0,normalizedY:0}),u=(0,a.useRef)([]),m=(0,a.useRef)([]),h=(0,a.useRef)(""),f=(0,a.useRef)(""),[p,g]=(0,a.useState)(!1),[y,x]=(0,a.useState)({x:0,y:0,active:!1}),v=(0,a.useRef)(0),b=250,w=2,k=200,j=210,N=2.2,S=1.8,_=8e-4,C=25,E=.0015,T=.001,P=.002,z=1.2,A=1.3,M=100,L=.01,F=5,O=.15,D=6,R=120,I=(e,t)=>{const n=e.x-t.x,a=e.y-t.y;return Math.sqrt(n*n+a*a)};class U{constructor(e,t,n){this.baseX=e,this.baseY=t,this.x=e,this.y=t,this.targetX=e,this.targetY=t,this.vx=0,this.vy=0,this.size=N+.8*Math.random(),this.opacity=.5+.3*Math.random(),this.baseOpacity=this.opacity,this.glowIntensity=0,this.connections=[],this.lastConnectionTime=0,this.floatOffsetX=Math.random()*Math.PI*2,this.floatOffsetY=Math.random()*Math.PI*2,this.floatSpeedMultiplier=.8+.4*Math.random(),this.index=n,this.breathingOffset=Math.random()*Math.PI*2,this.baseSize=this.size,this.zone=null,this.isStatusDot=!1,this.statusType=null,this.statusPulseOffset=Math.random()*Math.PI*2,this.statusTransition=0}updateZone(e){this.zone=this.baseX<e/2?"left":"right";const t=this.isStatusDot,n=this.statusType;"left"===this.zone&&s?(this.isStatusDot=!0,this.statusType="sync"):"right"===this.zone&&r?(this.isStatusDot=!0,this.statusType="create"):(this.isStatusDot=!1,this.statusType=null),!this.isStatusDot||t&&n===this.statusType?!this.isStatusDot&&t?this.statusTransition=Math.max(0,this.statusTransition-.03):this.isStatusDot?this.statusTransition=Math.min(1,this.statusTransition+.02):this.statusTransition=Math.max(0,this.statusTransition-.02):this.statusTransition=Math.min(1,this.statusTransition+.05)}update(e,t,n,a){this.updateZone(t);const s=(null===n||void 0===n?void 0:n.x)||0,r=(null===n||void 0===n?void 0:n.y)||0,l=Math.sqrt(Math.pow(s-this.baseX,2)+Math.pow(r-this.baseY,2));let i=0,o=0;if(l<M){const e=a.filter(e=>Math.sqrt(Math.pow(s-e.x,2)+Math.pow(r-e.y,2))<R).length,t=Math.max(0,(D-e)/D);let n=(1-l/M)*L;if(n*=1+2*t,l>R&&t>.3&&(n*=1.5),l>0){const e=(s-this.baseX)/l,t=(r-this.baseY)/l,a=Math.min(F,l*n);i=e*a*n,o=t*a*n}}const c=l<M?.1:1,u=Math.sin(e*_*this.floatSpeedMultiplier+this.floatOffsetX)*C*c,d=Math.cos(e*_*this.floatSpeedMultiplier+this.floatOffsetY)*C*.7*c,m=15*Math.sin(e*E+.1*this.index)*c,h=10*Math.cos(e*E*.7+.15*this.index)*c;let f=0,p=0;if(this.isStatusDot&&this.statusTransition>0){f=5*Math.sin(e*P+this.statusPulseOffset)*this.statusTransition,p=3*Math.cos(e*P*.7+this.statusPulseOffset)*this.statusTransition}this.targetX=this.baseX+u+m+i+f,this.targetY=this.baseY+d+h+o+p;const g=this.targetX-this.x,y=this.targetY-this.y,x=l<M?O:.08;this.vx+=g*x,this.vy+=y*x,this.vx*=.85,this.vy*=.85,this.x+=this.vx,this.y+=this.vy;const v=1+.2*Math.sin(e*T+this.breathingOffset);let b=1;const w=l<R?1.4:l<M?1.2:1;if(this.isStatusDot&&this.statusTransition>0){b=1+(.3*Math.sin(e*P*2+this.statusPulseOffset)+.3)*this.statusTransition*A}if(this.size=this.baseSize*v*b*w,this.glowIntensity*=.88,l<R){const e=.9;this.glowIntensity=Math.max(this.glowIntensity,e)}else if(l<M){const e=.7*(1-l/M);this.glowIntensity=Math.max(this.glowIntensity,e)}if(this.isStatusDot&&this.statusTransition>0){const t=.5*Math.sin(e*P*1.5+this.statusPulseOffset)+.5;this.glowIntensity=Math.max(this.glowIntensity,t*z*this.statusTransition)}if(this.connections.length>0)this.opacity=Math.min(1,this.baseOpacity+.5);else if(this.isStatusDot&&this.statusTransition>0)this.opacity=Math.min(1,this.baseOpacity+.3*this.statusTransition);else if(l<R)this.opacity=Math.min(1,this.baseOpacity+.6);else if(l<M){const e=.4*(1-l/M);this.opacity=Math.min(1,this.baseOpacity+e)}else this.opacity=this.baseOpacity}updateBasePosition(e,t){this.baseX=e,this.baseY=t}draw(e){const t=e.createRadialGradient(this.x,this.y,0,this.x,this.y,3*this.size),n=this.opacity,a=Math.min(.9,this.glowIntensity);if(this.isStatusDot&&this.statusTransition>0){const s=n*(1-this.statusTransition),r=n*this.statusTransition;if("sync"===this.statusType?(t.addColorStop(0,"rgba(16, 185, 129, ".concat(.9*r,")")),t.addColorStop(.3,"rgba(34, 197, 94, ".concat(.7*r,")")),t.addColorStop(.7,"rgba(59, 130, 246, ".concat(.5*r,")")),t.addColorStop(1,"rgba(148, 163, 184, ".concat(.3*s,")"))):"create"===this.statusType&&(t.addColorStop(0,"rgba(59, 130, 246, ".concat(.9*r,")")),t.addColorStop(.3,"rgba(99, 102, 241, ".concat(.7*r,")")),t.addColorStop(.7,"rgba(139, 92, 246, ".concat(.5*r,")")),t.addColorStop(1,"rgba(148, 163, 184, ".concat(.3*s,")"))),this.glowIntensity>.1){const t="sync"===this.statusType?"rgba(16, 185, 129, ".concat(a*this.statusTransition,")"):"rgba(59, 130, 246, ".concat(a*this.statusTransition,")");e.shadowColor=t,e.shadowBlur=25*this.statusTransition}}else t.addColorStop(0,"rgba(71, 85, 105, ".concat(n,")")),t.addColorStop(.5,"rgba(100, 116, 139, ".concat(.7*n,")")),t.addColorStop(1,"rgba(148, 163, 184, 0)"),this.glowIntensity>.1&&(e.shadowColor="rgba(30, 64, 175, ".concat(a,")"),e.shadowBlur=18);e.fillStyle=t,e.beginPath(),e.arc(this.x,this.y,this.size,0,2*Math.PI),e.fill(),e.shadowBlur=0}addGlow(){this.glowIntensity=1,this.lastConnectionTime=Date.now()}}class B{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.point1=e,this.point2=t,this.isCursorConnection=n,this.opacity=0,this.targetOpacity=n?.9:.7,this.createdAt=Date.now(),this.isActive=!0,this.isStatusConnection=!1,this.statusType=null,this.isLongDistance=!1,this.pulseOffset=Math.random()*Math.PI*2}update(){if(this.isActive){const e=this.isStatusConnection||this.isCursorConnection?.9:.7;this.opacity=Math.min(e,this.opacity+.08)}else this.opacity*=.88;return this.opacity>.01}draw(e){if(this.opacity<=0)return;const t=1-I(this.point1,this.point2)/(this.isCursorConnection?j:this.isLongDistance?2*k:k);let n=this.opacity*t;if(n<=0)return;if(this.isStatusConnection){n*=.3*Math.sin(.003*v.current+this.pulseOffset)+.7}const a=e.createLinearGradient(this.point1.x,this.point1.y,this.point2.x,this.point2.y);let s=this.statusType;s||(this.point1.isStatusDot?s=this.point1.statusType:this.point2.isStatusDot&&(s=this.point2.statusType)),this.isCursorConnection?"sync"===s?(a.addColorStop(0,"rgba(16, 185, 129, ".concat(n,")")),a.addColorStop(.5,"rgba(34, 197, 94, ".concat(1.1*n,")")),a.addColorStop(1,"rgba(16, 185, 129, ".concat(.8*n,")"))):"create"===s?(a.addColorStop(0,"rgba(59, 130, 246, ".concat(n,")")),a.addColorStop(.5,"rgba(99, 102, 241, ".concat(1.1*n,")")),a.addColorStop(1,"rgba(59, 130, 246, ".concat(.8*n,")"))):(a.addColorStop(0,"rgba(30, 64, 175, ".concat(n,")")),a.addColorStop(1,"rgba(15, 23, 42, ".concat(.8*n,")"))):"sync"===s?(a.addColorStop(0,"rgba(16, 185, 129, ".concat(n,")")),a.addColorStop(.5,"rgba(34, 197, 94, ".concat(.9*n,")")),a.addColorStop(1,"rgba(16, 185, 129, ".concat(n,")"))):"create"===s?(a.addColorStop(0,"rgba(59, 130, 246, ".concat(n,")")),a.addColorStop(.5,"rgba(99, 102, 241, ".concat(.9*n,")")),a.addColorStop(1,"rgba(59, 130, 246, ".concat(n,")"))):(a.addColorStop(0,"rgba(71, 85, 105, ".concat(n,")")),a.addColorStop(.5,"rgba(100, 116, 139, ".concat(.9*n,")")),a.addColorStop(1,"rgba(71, 85, 105, ".concat(n,")")));const r=this.isStatusConnection?1.4*S:S;e.strokeStyle=a,e.lineWidth=r,e.beginPath(),e.moveTo(this.point1.x,this.point1.y),e.lineTo(this.point2.x,this.point2.y),e.stroke()}deactivate(){this.isActive=!1}}const H=(e,t)=>{const n=[];for(let a=0;a<b;a++){let s,r,l=!1,i=0;for(;!l&&i<50;){s=80+Math.random()*(e-160),r=80+Math.random()*(t-160),l=!0;for(const e of n)if(I({x:s,y:r},{x:e.baseX,y:e.baseY})<120){l=!1;break}i++}l&&n.push(new U(s,r,a))}return n},W=(e,t)=>{u.current.forEach((n,a)=>{let s,r,l=!1,i=0;for(;!l&&i<30;){s=80+Math.random()*(e-160),r=80+Math.random()*(t-160),l=!0;for(let e=0;e<u.current.length;e++)if(e!==a){const t=u.current[e];if(I({x:s,y:r},{x:t.baseX,y:t.baseY})<140){l=!1;break}}i++}l&&n.updateBasePosition(s,r)})},V=()=>{m.current=m.current.filter(e=>e.isCursorConnection),u.current.forEach(e=>{if(e.connections.length<1){const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return u.current.filter(n=>n!==e&&!t.includes(n)).filter(t=>I(e,t)<=k).sort((t,n)=>I(e,t)-I(e,n))}(e,e.connections);if(t.length>0){const n=t[0];if(!m.current.find(t=>t.point1===e&&t.point2===n||t.point1===n&&t.point2===e)&&n.connections.length<1){const t=new B(e,n);m.current.push(t),e.connections.push(n),n.connections.push(e),e.addGlow(),n.addGlow()}}}})},Y=()=>{const e=l.current;if(!e)return;const t=e.getContext("2d"),n=e.width,a=e.height;v.current+=16;const s=t.createLinearGradient(0,0,n,a);s.addColorStop(0,"#f8fafc"),s.addColorStop(.3,"#e2e8f0"),s.addColorStop(.7,"#cbd5e1"),s.addColorStop(1,"#94a3b8"),t.fillStyle=s,t.fillRect(0,0,n,a),u.current.forEach(e=>{e.connections=[],e.update(v.current,n,o.current,u.current)}),V(),(()=>{const e=o.current;m.current=m.current.filter(e=>!e.isCursorConnection||(e.deactivate(),e.update()));const t=u.current.filter(t=>I(t,e)<=j).sort((t,n)=>I(t,e)-I(n,e)).slice(0,w);if(t.length>0){const n=I(t[0],e),a=Math.max(0,1-n/j);x({x:e.x,y:e.y,active:!0,strength:a})}else x(e=>c(c({},e),{},{active:!1,strength:0}));if(t.forEach(t=>{const n={x:e.x,y:e.y},a=new B(n,t,!0);m.current.push(a),t.addGlow()}),t.length>=2)for(let n=0;n<t.length-1;n++)for(let e=n+1;e<t.length;e++){const a=t[n],s=t[e];if(I(a,s)<=k){const e=new B(a,s);m.current.push(e),a.addGlow(),s.addGlow()}}})(),m.current=m.current.filter(e=>e.update()),m.current.forEach(e=>e.draw(t)),u.current.forEach(e=>e.draw(t)),i.current=requestAnimationFrame(Y)},$=e=>{const t=l.current;if(!t)return;const n=t.getBoundingClientRect();o.current={x:e.clientX-n.left,y:e.clientY-n.top,normalizedX:e.clientX/window.innerWidth*2-1,normalizedY:-e.clientY/window.innerHeight*2+1}},q=()=>{const e=l.current;e&&(e.width=window.innerWidth,e.height=window.innerHeight,0===u.current.length?u.current=H(e.width,e.height):W(e.width,e.height))};return(0,a.useEffect)(()=>{const e=l.current;if(e)return e.width=window.innerWidth,e.height=window.innerHeight,u.current=H(e.width,e.height),v.current=0,Y(),window.addEventListener("mousemove",$),window.addEventListener("resize",q),()=>{i.current&&cancelAnimationFrame(i.current),window.removeEventListener("mousemove",$),window.removeEventListener("resize",q)}},[]),(0,a.useEffect)(()=>{t===h.current&&n===f.current||(h.current=t,f.current=n,g(!0),m.current.forEach(e=>e.deactivate()),setTimeout(()=>{l.current&&W(l.current.width,l.current.height),g(!1)},150))},[t,n]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("canvas",{ref:l,style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-2,pointerEvents:"none",backgroundColor:"transparent"}}),p&&(0,d.jsx)("div",{style:{position:"fixed",top:"20px",right:"20px",width:"10px",height:"10px",borderRadius:"50%",background:"linear-gradient(135deg, #1e40af, #0f172a)",opacity:.8,zIndex:5,animation:"fastPulse 0.6s ease-in-out infinite"}}),(0,d.jsx)("style",{jsx:!0,children:"\n        @keyframes fastPulse {\n          0%, 100% { \n            transform: scale(1);\n            opacity: 0.8;\n          }\n          50% { \n            transform: scale(1.4);\n            opacity: 1;\n          }\n        }\n      "})]})},ke=A("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),je=A("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Ne=e=>{let{onSuccess:t}=e;const[n,s]=(0,a.useState)(!0),[r,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)({username:"",email:"",password:"",confirmPassword:""}),[u,m]=(0,a.useState)({}),[h,f]=(0,a.useState)(!1),[p,g]=(0,a.useState)(null),[y,x]=(0,a.useState)(null),{login:v,register:b,clearError:w}=E(),k=e=>t=>{o(n=>c(c({},n),{},{[e]:t.target.value})),u[e]&&m(t=>c(c({},t),{},{[e]:""})),p&&g(null),y&&x(null)};return(0,d.jsx)("div",{className:"auth-container",children:(0,d.jsxs)("div",{className:"auth-glass-panel",children:[(0,d.jsxs)("div",{className:"auth-header",children:[(0,d.jsxs)("div",{className:"auth-logo-container",children:[(0,d.jsx)("img",{src:"https://apyhub.com/logo.svg",alt:"ApyHub",className:"auth-logo"}),(0,d.jsx)(Q,{className:"auth-title ml-3",sensitivity:1.5,children:"Asana-YouTrack Sync"})]}),(0,d.jsx)(Q,{className:"auth-title",sensitivity:1.2,children:n?"Welcome Back":"Create Account"}),(0,d.jsx)("p",{className:"auth-subtitle",children:n?"Sign in to access your sync dashboard":"Get started with personalized sync settings"})]}),p&&(0,d.jsx)("div",{className:"auth-error",children:(0,d.jsx)("p",{children:p})}),y&&(0,d.jsx)("div",{className:"auth-success",children:(0,d.jsx)("p",{children:y})}),(0,d.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),w(),g(null),x(null),(()=>{const e={};return i.username.trim()?i.username.length<3&&(e.username="Username must be at least 3 characters"):e.username="Username is required",n||i.email.trim()?n||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(e.email="Please enter a valid email address"):e.email="Email is required",i.password?i.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",n||i.password===i.confirmPassword||(e.confirmPassword="Passwords do not match"),m(e),0===Object.keys(e).length})()){f(!0);try{n?(await v({username:i.username,password:i.password}),t&&t()):(await b({username:i.username,email:i.email,password:i.password}),o({username:"",email:"",password:"",confirmPassword:""}),x("Account created successfully! Please login with your credentials."),s(!0))}catch(c){console.error("Authentication failed:",c);let e=c.message||"An error occurred";if(!n){var a,r,l;const t=(c.message||"").toLowerCase()+" "+((null===(a=c.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.detail)||"").toLowerCase();t.includes("already exists")||t.includes("duplicate")||t.includes("already registered")||t.includes("username")&&t.includes("taken")||t.includes("email")&&t.includes("taken")||409===(null===(l=c.response)||void 0===l?void 0:l.status)?e="User already exists. Please choose a different username or try logging in instead.":t.includes("email")&&t.includes("exists")&&(e="An account with this email already exists. Please login instead.")}g(e)}finally{f(!1)}}},className:"auth-form",children:[(0,d.jsxs)("div",{className:"auth-form-group",children:[(0,d.jsx)("label",{htmlFor:"username",className:"auth-label",children:"Username"}),(0,d.jsxs)("div",{className:"auth-input-container",children:[(0,d.jsx)(oe,{className:"auth-input-icon"}),(0,d.jsx)("input",{type:"text",id:"username",value:i.username,onChange:k("username"),className:"auth-input auth-input-with-icon",placeholder:"Enter your username",disabled:h})]}),u.username&&(0,d.jsx)("p",{className:"text-red-500 text-xs mt-1",children:u.username})]}),!n&&(0,d.jsxs)("div",{className:"auth-form-group",children:[(0,d.jsx)("label",{htmlFor:"email",className:"auth-label",children:"Email Address"}),(0,d.jsxs)("div",{className:"auth-input-container",children:[(0,d.jsx)(ke,{className:"auth-input-icon"}),(0,d.jsx)("input",{type:"email",id:"email",value:i.email,onChange:k("email"),className:"auth-input auth-input-with-icon",placeholder:"Enter your email",disabled:h})]}),u.email&&(0,d.jsx)("p",{className:"text-red-500 text-xs mt-1",children:u.email})]}),(0,d.jsxs)("div",{className:"auth-form-group",children:[(0,d.jsx)("label",{htmlFor:"password",className:"auth-label",children:"Password"}),(0,d.jsxs)("div",{className:"auth-input-container",children:[(0,d.jsx)(je,{className:"auth-input-icon"}),(0,d.jsx)("input",{type:r?"text":"password",id:"password",value:i.password,onChange:k("password"),className:"auth-input auth-input-with-icon auth-input-with-toggle",placeholder:"Enter your password",disabled:h}),(0,d.jsx)("button",{type:"button",onClick:()=>l(!r),className:"auth-input-toggle",disabled:h,children:r?(0,d.jsx)(ne,{className:"w-4 h-4"}):(0,d.jsx)(ee,{className:"w-4 h-4"})})]}),u.password&&(0,d.jsx)("p",{className:"text-red-500 text-xs mt-1",children:u.password})]}),!n&&(0,d.jsxs)("div",{className:"auth-form-group",children:[(0,d.jsx)("label",{htmlFor:"confirmPassword",className:"auth-label",children:"Confirm Password"}),(0,d.jsxs)("div",{className:"auth-input-container",children:[(0,d.jsx)(je,{className:"auth-input-icon"}),(0,d.jsx)("input",{type:r?"text":"password",id:"confirmPassword",value:i.confirmPassword,onChange:k("confirmPassword"),className:"auth-input auth-input-with-icon",placeholder:"Confirm your password",disabled:h})]}),u.confirmPassword&&(0,d.jsx)("p",{className:"text-red-500 text-xs mt-1",children:u.confirmPassword})]}),(0,d.jsx)("button",{type:"submit",disabled:h,className:"auth-button",children:h?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"auth-spinner"}),n?"Signing in...":"Creating account..."]}):(0,d.jsx)(Q,{sensitivity:1,children:n?"Sign In":"Create Account"})}),(0,d.jsx)("div",{className:"text-center mt-4",children:(0,d.jsx)("button",{type:"button",onClick:()=>{s(!n),m({}),w(),g(null),x(null),o({username:"",email:"",password:"",confirmPassword:""})},disabled:h,className:"auth-toggle-link",children:n?"Don't have an account? Sign up":"Already have an account? Sign in"})})]}),(0,d.jsx)("div",{className:"auth-footer",children:(0,d.jsxs)("p",{className:"auth-footer-text",children:["By ",n?"signing in":"creating an account",", you agree to our terms and conditions\u2014and also promise to remember your password, because honestly\u2026 we haven\u2019t built the \u201cforgot password\u201d button yet. \ud83d\ude05"]})})]})})},Se=A("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),_e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://boardsyncv2.onrender.com",Ce=()=>{const e=localStorage.getItem("auth_token"),t={"Content-Type":"application/json"};return e&&(t.Authorization="Bearer ".concat(e)),t},Ee=e=>{401===e.status&&(localStorage.removeItem("auth_token"),window.location.href="/")},Te={createMapping:async(e,t)=>{try{const a=await fetch("".concat(_e,"/api/mappings"),{method:"POST",headers:Ce(),body:JSON.stringify({asana_url:e,youtrack_url:t})});if(401===a.status)throw Ee(a),new Error("Authentication required");const s=await a.json();var n;if(!a.ok)throw new Error(s.message||(null===(n=s.error)||void 0===n?void 0:n.message)||"Failed to create mapping");return s}catch(a){throw console.error("Error creating mapping:",a),a}},getAllMappings:async()=>{try{const t=await fetch("".concat(_e,"/api/mappings"),{method:"GET",headers:Ce()});if(401===t.status)throw Ee(t),new Error("Authentication required");const n=await t.json();var e;if(!t.ok)throw new Error(n.message||(null===(e=n.error)||void 0===e?void 0:e.message)||"Failed to fetch mappings");return n}catch(t){throw console.error("Error fetching mappings:",t),t}},deleteMapping:async e=>{try{const n=await fetch("".concat(_e,"/api/mappings/").concat(e),{method:"DELETE",headers:Ce()});if(401===n.status)throw Ee(n),new Error("Authentication required");const a=await n.json();var t;if(!n.ok)throw new Error(a.message||(null===(t=a.error)||void 0===t?void 0:t.message)||"Failed to delete mapping");return a}catch(n){throw console.error("Error deleting mapping:",n),n}},findByAsanaId:async e=>{try{const n=await fetch("".concat(_e,"/api/mappings/asana/").concat(e),{method:"GET",headers:Ce()});if(401===n.status)throw Ee(n),new Error("Authentication required");const a=await n.json();var t;if(!n.ok)throw new Error(a.message||(null===(t=a.error)||void 0===t?void 0:t.message)||"Mapping not found");return a}catch(n){throw console.error("Error finding mapping:",n),n}},findByYouTrackId:async e=>{try{const n=await fetch("".concat(_e,"/api/mappings/youtrack/").concat(e),{method:"GET",headers:Ce()});if(401===n.status)throw Ee(n),new Error("Authentication required");const a=await n.json();var t;if(!n.ok)throw new Error(a.message||(null===(t=a.error)||void 0===t?void 0:t.message)||"Mapping not found");return a}catch(n){throw console.error("Error finding mapping:",n),n}}},Pe=e=>{let{onSuccess:t,onCancel:n}=e;const[s,r]=(0,a.useState)(""),[l,i]=(0,a.useState)(""),[o,c]=(0,a.useState)(!1),[u,m]=(0,a.useState)("");return(0,d.jsxs)("div",{className:"glass-panel rounded-lg p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(Se,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,d.jsx)("h2",{className:"text-xl font-semibold",children:"Link Tickets Manually"})]}),n&&(0,d.jsx)("button",{type:"button",onClick:n,className:"settings-button-secondary",children:"Back to List"})]}),(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0),m("");try{const e=await Te.createMapping(s,l);e.success?(r(""),i(""),t&&t(e.data)):m(e.message||"Failed to create mapping")}catch(n){m(n.message||"Network error occurred")}finally{c(!1)}},className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"settings-label",children:"Asana Task URL"}),(0,d.jsx)("input",{type:"url",value:s,onChange:e=>r(e.target.value),placeholder:"https://app.asana.com/.../task/1211475287717816",className:"settings-input",required:!0}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Copy the full URL from your Asana task"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"settings-label",children:"YouTrack Issue URL"}),(0,d.jsx)("input",{type:"url",value:l,onChange:e=>i(e.target.value),placeholder:"https://youtrack.cloud/issue/ARD-222/Title",className:"settings-input",required:!0}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Copy the full URL from your YouTrack issue"})]}),u&&(0,d.jsx)("div",{className:"error-box",children:(0,d.jsx)("p",{children:u})}),(0,d.jsx)("button",{type:"submit",disabled:o||!s.trim()||!l.trim(),className:"w-full settings-button",children:o?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"settings-spinner"}),"Linking..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(te,{className:"w-4 h-4 mr-2"}),"Link Tickets"]})})]}),(0,d.jsxs)("div",{className:"mt-4 success-box",children:[(0,d.jsxs)("h3",{className:"text-sm font-medium mb-2 flex items-center",children:[(0,d.jsx)(R,{className:"w-4 h-4 mr-1"}),"How it works:"]}),(0,d.jsxs)("ul",{className:"text-xs space-y-1",children:[(0,d.jsx)("li",{children:"\u2022 Paste the full URL from both systems"}),(0,d.jsx)("li",{children:"\u2022 System extracts task/issue IDs automatically"}),(0,d.jsx)("li",{children:"\u2022 Future syncs will recognize this link"}),(0,d.jsx)("li",{children:"\u2022 Title changes won't break the connection"})]})]})]})},ze=e=>{let{refreshTrigger:t,onCreateNew:n}=e;const[s,r]=(0,a.useState)([]),[l,i]=(0,a.useState)(!0),[o,c]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[f,p]=(0,a.useState)([]),[g,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{try{var e;const t=await(0,u.h_)();h((null===(e=t.data)||void 0===e?void 0:e.youtrack_base_url)||t.youtrack_base_url||"")}catch(t){console.error("Failed to load settings:",t)}})()},[]),(0,a.useEffect)(()=>{x()},[t]);const x=async()=>{i(!0),c("");try{const e=await Te.getAllMappings();e.success&&r(e.data||[])}catch(e){console.error("Failed to fetch mappings:",e),c("Failed to load mappings")}finally{i(!1)}};return l?(0,d.jsx)("div",{className:"glass-panel rounded-lg p-6",children:(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)(H,{className:"w-8 h-8 text-gray-400 mx-auto mb-2 animate-spin"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Loading mappings..."})]})}):o?(0,d.jsx)("div",{className:"glass-panel rounded-lg p-6",children:(0,d.jsx)("div",{className:"error-box",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(G,{className:"w-5 h-5 mr-2"}),(0,d.jsx)("p",{children:o})]})})}):0===s.length?(0,d.jsx)("div",{className:"glass-panel rounded-lg p-6",children:(0,d.jsxs)("div",{className:"settings-form-group text-center",children:[(0,d.jsx)(Se,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,d.jsx)("p",{className:"text-gray-600 font-medium",children:"No ticket mappings yet"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Create your first mapping to manually link Asana tasks with YouTrack issues"})]})}):(0,d.jsxs)("div",{className:"glass-panel rounded-lg overflow-hidden",children:[(0,d.jsxs)("div",{className:"px-6 py-4 settings-divider flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{className:"text-xl w-[250px] font-semibold flex items-center",children:[(0,d.jsx)(Se,{className:"w-5 h-5 mr-2"}),"Active Ticket Mappings"]}),(0,d.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[s.length," ticket",1!==s.length?"s":""," linked",f.length>0&&" \u2022 ".concat(f.length," selected")]})]}),(0,d.jsxs)("div",{className:"mapping-header-actions",children:[f.length>0?(0,d.jsxs)("button",{onClick:async()=>{if(0===f.length)return;const e=f.length;if(window.confirm("Are you sure you want to delete ".concat(e," mapping").concat(1!==e?"s":"","?")))try{const e=f.map(e=>Te.deleteMapping(e));await Promise.all(e),r(s.filter(e=>!f.includes(e.id))),p([]),y(!1)}catch(t){console.error("Failed to delete mappings:",t),alert("Failed to delete some mappings: "+t.message),x()}},className:"multi-delete-button",children:[(0,d.jsx)(se,{className:"w-4 h-4 mr-2"}),"Delete (",f.length,")"]}):n&&(0,d.jsxs)("button",{onClick:n,className:"settings-button",children:[(0,d.jsx)(te,{className:"w-4 h-4 mr-2"}),"Link Tickets Manually"]}),(0,d.jsxs)("button",{onClick:x,className:"settings-button-secondary",children:[(0,d.jsx)(H,{className:"w-4 h-4 mr-1"}),"Refresh"]})]})]}),(0,d.jsx)("div",{className:"overflow-x-auto",children:(0,d.jsxs)("table",{className:"min-w-full mapping-table",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"text-center",style:{width:"50px"},children:(0,d.jsx)("input",{type:"checkbox",checked:g,onChange:()=>{p(g?[]:s.map(e=>e.id)),y(!g)},className:"mapping-checkbox",title:"Select all"})}),(0,d.jsx)("th",{className:"text-left",children:"Asana Task ID"}),(0,d.jsx)("th",{className:"text-left",children:"YouTrack Issue ID"}),(0,d.jsx)("th",{className:"text-left",children:"Created"})]})}),(0,d.jsx)("tbody",{children:s.map(e=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"text-center",children:(0,d.jsx)("input",{type:"checkbox",checked:f.includes(e.id),onChange:()=>(e=>{if(f.includes(e))p(f.filter(t=>t!==e)),y(!1);else{const t=[...f,e];p(t),t.length===s.length&&y(!0)}})(e.id),className:"mapping-checkbox"})}),(0,d.jsx)("td",{className:"whitespace-nowrap",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("span",{className:"text-sm font-mono",children:e.asana_task_id}),(0,d.jsx)("a",{href:"https://app.asana.com/0/".concat(e.asana_project_id,"/").concat(e.asana_task_id),target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 hover:text-blue-800",title:"Open in Asana",children:(0,d.jsx)(ee,{className:"w-4 h-4"})})]})}),(0,d.jsx)("td",{className:"whitespace-nowrap",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("span",{className:"text-sm font-mono",children:e.youtrack_issue_id}),(0,d.jsx)("a",{href:"".concat(m,"/issue/").concat(e.youtrack_issue_id),target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 hover:text-blue-800",title:"Open in YouTrack",children:(0,d.jsx)(ee,{className:"w-4 h-4"})})]})}),(0,d.jsx)("td",{className:"whitespace-nowrap text-sm",children:new Date(e.created_at).toLocaleDateString()})]},e.id))})]})})]})},Ae=A("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Me=e=>{let{settings:t,onSettingsUpdate:n,onSuccess:s,onError:r}=e;const[l,i]=(0,a.useState)([]),[o,m]=(0,a.useState)([]),[h,f]=(0,a.useState)([]),[p,g]=(0,a.useState)({sections:!1,states:!1,boards:!1}),[y,x]=(0,a.useState)([]),[v,b]=(0,a.useState)([]),[w,k]=(0,a.useState)(!1),[j,N]=(0,a.useState)(!1);(0,a.useEffect)(()=>{var e;const n=(null===t||void 0===t||null===(e=t.column_mappings)||void 0===e?void 0:e.asana_to_youtrack)||[];x(n),b(JSON.parse(JSON.stringify(n))),k(!1);(async()=>{null!==t&&void 0!==t&&t.asana_pat&&null!==t&&void 0!==t&&t.asana_project_id&&await S(!1),null!==t&&void 0!==t&&t.youtrack_base_url&&null!==t&&void 0!==t&&t.youtrack_token&&null!==t&&void 0!==t&&t.youtrack_project_id&&await _(!1)})()},[t]),(0,a.useEffect)(()=>{const e=JSON.stringify(y)!==JSON.stringify(v);k(e)},[y,v]);const S=async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];g(e=>c(c({},e),{},{sections:!0}));try{const t=await(0,u.Ho)();i(t.data||t),e&&(null===s||void 0===s||s("Asana sections loaded successfully!"))}catch(t){e&&(null===r||void 0===r||r("Failed to load Asana sections: "+t.message)),console.error("Failed to load Asana sections:",t)}finally{g(e=>c(c({},e),{},{sections:!1}))}},_=async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];g(e=>c(c({},e),{},{states:!0}));try{const t=await(0,u.vq)();m(t.data||t),e&&(null===s||void 0===s||s("YouTrack states loaded successfully!"))}catch(t){e&&(null===r||void 0===r||r("Failed to load YouTrack states: "+t.message)),console.error("Failed to load YouTrack states:",t)}finally{g(e=>c(c({},e),{},{states:!1}))}},C=(e,t,n)=>{const a=[...y];a[e]=c(c({},a[e]),{},{[t]:n}),x(a)};return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"settings-section-header",children:"Column Mapping Configuration"}),(0,d.jsx)("p",{className:"settings-section-description",children:"Configure how Asana columns map to YouTrack states. Display-only columns will be shown on the dashboard but tickets won't be synced."})]}),!p.sections&&!p.states&&(0===l.length||0===o.length)&&(0,d.jsx)("div",{className:"info-box",children:(0,d.jsxs)("p",{className:"text-sm flex items-center",children:[(0,d.jsx)(D,{className:"w-4 h-4 mr-2"}),"Columns will be loaded automatically. Please ensure your API credentials are configured in the API Configuration tab."]})}),(0,d.jsxs)("div",{className:"settings-form-group",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("h4",{className:"text-md font-medium text-gray-900",children:"Configure Column Mappings"}),(0,d.jsxs)("button",{onClick:()=>{x([...y,{asana_column:"",youtrack_status:"",display_only:!1}])},disabled:0===l.length||0===o.length,className:"settings-button-secondary",children:[(0,d.jsx)(te,{className:"w-4 h-4 mr-2"}),"Add Mapping"]})]}),0===y.length?(0,d.jsx)("div",{className:"text-center py-8",children:(0,d.jsx)("p",{className:"text-gray-500 text-sm",children:'No column mappings configured. Click "Add Mapping" to create one.'})}):(0,d.jsx)("div",{className:"settings-mapping-container",children:y.map((e,t)=>(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"settings-form-row",style:{marginBottom:t<y.length-1?"12px":"0"},children:[(0,d.jsxs)("select",{value:e.asana_column,onChange:e=>C(t,"asana_column",e.target.value),className:"settings-select flex-1",disabled:0===l.length,children:[(0,d.jsx)("option",{value:"",children:"Select Asana Column"}),l.map(e=>(0,d.jsx)("option",{value:e.name,children:e.name},e.gid||e.id))]}),(0,d.jsx)("div",{className:"flex items-center justify-center self-center",children:(0,d.jsx)(Ae,{className:"w-7 h-7 text-gray-400",strokeWidth:2.5})}),(0,d.jsxs)("select",{value:e.youtrack_status,onChange:e=>C(t,"youtrack_status",e.target.value),className:"settings-select flex-1",disabled:0===o.length||e.display_only,children:[(0,d.jsx)("option",{value:"",children:"Select YouTrack Status"}),o.map(e=>(0,d.jsx)("option",{value:e.name,children:e.name},e.id))]}),(0,d.jsxs)("label",{className:"flex items-center space-x-2 px-3 py-2 bg-white bg-opacity-30 rounded-lg cursor-pointer border border-white border-opacity-40",children:[(0,d.jsx)("input",{type:"checkbox",checked:e.display_only,onChange:e=>C(t,"display_only",e.target.checked),className:"mapping-checkbox"}),(0,d.jsx)(ee,{className:"w-4 h-4 text-gray-600"}),(0,d.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Display Only"})]}),(0,d.jsx)("button",{onClick:()=>(e=>{const t=y.filter((t,n)=>n!==e);x(t)})(t),className:"delete-button-table",children:(0,d.jsx)(ae,{className:"w-4 h-4"})})]})},t))})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-white border-opacity-30",children:[(0,d.jsx)("div",{className:"info-box flex-1 mr-4",children:(0,d.jsxs)("p",{className:"text-xs",children:[(0,d.jsx)("strong",{children:"Note:"})," Unmapped columns will be hidden from the dashboard and excluded from sync operations. Multiple Asana columns can map to the same YouTrack status."]})}),(0,d.jsx)("button",{onClick:async()=>{const e=(()=>{for(let n=0;n<y.length;n++){const e=y[n];if(!e.asana_column)return{valid:!1,error:"Mapping ".concat(n+1,": Please select an Asana column")};if(!e.display_only&&!e.youtrack_status)return{valid:!1,error:"Mapping ".concat(n+1,": Please select a YouTrack status or mark as display-only")}}const e=y.map(e=>e.asana_column),t=e.filter((t,n)=>e.indexOf(t)!==n);return t.length>0?{valid:!1,error:"Duplicate Asana column: ".concat(t[0])}:{valid:!0}})();if(e.valid){N(!0);try{const e=c(c({},t),{},{column_mappings:{asana_to_youtrack:y,youtrack_to_asana:[]}});await(0,u.mJ)(e),await Promise.all([S(!1),_(!1)]),b(JSON.parse(JSON.stringify(y))),k(!1),null===n||void 0===n||n(e),null===s||void 0===s||s("Column mappings saved successfully!")}catch(a){null===r||void 0===r||r("Failed to save column mappings: "+a.message)}finally{N(!1)}}else null===r||void 0===r||r(e.error)},disabled:j||0===y.length||!w,className:"settings-button-success",children:j?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"settings-spinner"}),"Saving..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(R,{className:"w-4 h-4 mr-2"}),w?"Save Column Mappings":"No Changes to Save"]})})]}),(0,d.jsxs)("div",{className:"info-box",children:[(0,d.jsxs)("h4",{className:"text-sm font-medium mb-2 flex items-center",children:[(0,d.jsx)(D,{className:"w-4 h-4 mr-1"}),"How Column Mapping Works"]}),(0,d.jsxs)("ul",{className:"text-xs space-y-1",children:[(0,d.jsxs)("li",{children:["\u2022 ",(0,d.jsx)("strong",{children:"Mapped Columns:"})," Tickets will be synced based on your configuration"]}),(0,d.jsxs)("li",{children:["\u2022 ",(0,d.jsx)("strong",{children:"Display Only:"})," Column is visible on dashboard but no sync operations"]}),(0,d.jsxs)("li",{children:["\u2022 ",(0,d.jsx)("strong",{children:"Unmapped Columns:"})," Hidden from dashboard and excluded from all operations"]}),(0,d.jsxs)("li",{children:["\u2022 ",(0,d.jsx)("strong",{children:"Many-to-One:"})," Multiple Asana columns can map to the same YouTrack status"]}),(0,d.jsxs)("li",{children:["\u2022 ",(0,d.jsx)("strong",{children:"Bidirectional:"})," Future support for YouTrack \u2192 Asana mapping"]})]})]})]})},Le=A("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),Fe=A("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),Oe=A("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),De=A("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Re=A("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Ie=A("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),Ue=A("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Be=e=>{let{onBack:t}=e;const{user:n,logout:s}=E(),[r,l]=(0,a.useState)({asana_pat:"",youtrack_base_url:"",youtrack_token:"",asana_project_id:"",youtrack_project_id:"",youtrack_board_id:"",custom_field_mappings:{tag_mapping:{},priority_mapping:{},status_mapping:{},custom_fields:{}},column_mappings:{asana_to_youtrack:[],youtrack_to_asana:[]}}),[i,o]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!1),[g,y]=(0,a.useState)(null),[x,v]=(0,a.useState)(""),[b,w]=(0,a.useState)([]),[k,j]=(0,a.useState)([]),[N,S]=(0,a.useState)({asana:!1,youtrack:!1}),[_,C]=(0,a.useState)({asana:null,youtrack:null}),[T,P]=(0,a.useState)({type:"tag_mapping",key:"",value:""}),[z,A]=(0,a.useState)("api"),[M,L]=(0,a.useState)({asana_pat:!1,youtrack_token:!1}),[F,O]=(0,a.useState)(!1),[I,U]=(0,a.useState)({password:"",confirmation:""}),[B,W]=(0,a.useState)(!1),[V,Y]=(0,a.useState)(!1),[$,q]=(0,a.useState)({oldPassword:"",newPassword:"",confirmPassword:""}),[K,X]=(0,a.useState)(!1),[J,Z]=(0,a.useState)(0),[re,le]=(0,a.useState)(!1),[ie,ce]=(0,a.useState)(!1),[ue,de]=(0,a.useState)(null);(0,a.useEffect)(()=>{me()},[]),(0,a.useEffect)(()=>{"api"===z&&r.asana_pat&&0===b.length&&!N.asana&&ge()},[z,r.asana_pat]),(0,a.useEffect)(()=>{"api"===z&&r.youtrack_base_url&&r.youtrack_token&&0===k.length&&!N.youtrack&&ye()},[z,r.youtrack_base_url,r.youtrack_token]);const me=async()=>{o(!0),y(null);try{const e=await(0,u.h_)(),t=e.data||e,n={asana_pat:t.asana_pat||"",youtrack_base_url:t.youtrack_base_url||"",youtrack_token:t.youtrack_token||"",asana_project_id:t.asana_project_id||"",youtrack_project_id:t.youtrack_project_id||"",youtrack_board_id:t.youtrack_board_id||"",custom_field_mappings:t.custom_field_mappings||{tag_mapping:{},priority_mapping:{},status_mapping:{},custom_fields:{}},column_mappings:t.column_mappings||{asana_to_youtrack:[],youtrack_to_asana:[]}};l(n),de(n),ce(!1)}catch(e){y("Failed to load settings: "+e.message)}finally{o(!1)}},he=e=>{L(t=>c(c({},t),{},{[e]:!t[e]}))},fe=e=>t=>{const n=c(c({},r),{},{[e]:t.target.value});if(l(n),ue){const e=n.asana_pat!==ue.asana_pat||n.youtrack_base_url!==ue.youtrack_base_url||n.youtrack_token!==ue.youtrack_token||n.asana_project_id!==ue.asana_project_id||n.youtrack_project_id!==ue.youtrack_project_id;ce(e),e&&C({asana:null,youtrack:null})}pe()},pe=()=>{y(null),v("")},ge=async()=>{if(r.asana_pat){S(e=>c(c({},e),{},{asana:!0})),pe();try{await(0,u.mJ)(r),de(r),ce(!1);const e=await(0,u.D5)();w(e.data||e),v("Asana credentials saved and projects loaded successfully!"),setTimeout(()=>v(""),3e3)}catch(e){y("Failed to load Asana projects: "+e.message)}finally{S(e=>c(c({},e),{},{asana:!1}))}}else y("Please enter your Asana PAT first")},ye=async()=>{if(r.youtrack_base_url&&r.youtrack_token){S(e=>c(c({},e),{},{youtrack:!0})),pe();try{await(0,u.mJ)(r),de(r),ce(!1);const e=await(0,u.pL)();j(e.data||e),v("YouTrack credentials saved and projects loaded successfully!"),setTimeout(()=>v(""),3e3)}catch(e){y("Failed to load YouTrack projects: "+e.message)}finally{S(e=>c(c({},e),{},{youtrack:!1}))}}else y("Please enter your YouTrack URL and token first")},xe=()=>{O(!1),U({password:"",confirmation:""}),y(null)},ve=()=>{Y(!1),q({oldPassword:"",newPassword:"",confirmPassword:""}),y(null),X(!1)},be=[{id:"api",label:"API Configuration",icon:Le},{id:"column_mapping",label:"Column Mapping",icon:Fe},{id:"mapping",label:"Field Mapping",icon:Oe},{id:"ticket_mapping",label:"Ticket Mapping",icon:Se},{id:"profile",label:"Profile",icon:oe}];return i?(0,d.jsx)("div",{className:"settings-container",children:(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(H,{className:"settings-spinner"}),(0,d.jsx)("span",{children:"Loading settings..."})]})})}):(0,d.jsxs)("div",{className:"settings-container",children:[(0,d.jsxs)("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[(0,d.jsx)("div",{className:"settings-header",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(Q,{className:"text-3xl font-bold text-gray-900 mb-2",sensitivity:2,children:"User Settings"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Configure your API credentials and customize sync behavior"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[t&&(0,d.jsx)("button",{onClick:t,className:"settings-button-secondary",children:"Back to Dashboard"}),(0,d.jsxs)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to logout?"))try{await s(),window.location.reload()}catch(e){console.error("Logout failed:",e)}},className:"delete-button-table",children:[(0,d.jsx)(De,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),(0,d.jsx)("div",{className:"settings-tabs",children:(0,d.jsx)("div",{className:"settings-tab-border flex",children:be.map(e=>{const t=e.icon;return(0,d.jsxs)("button",{onClick:()=>(async e=>{A(e),"ticket_mapping"===e&&le(!1),"api"===e&&(r.asana_pat&&0===b.length&&await ge(),r.youtrack_base_url&&r.youtrack_token&&0===k.length&&await ye()),pe()})(e.id),className:"settings-tab ".concat(z===e.id?"active":""),children:[(0,d.jsx)(t,{className:"w-4 h-4 mr-2"}),e.label]},e.id)})})}),(0,d.jsxs)("div",{className:"settings-content",children:["api"===z&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(Q,{className:"settings-section-header",sensitivity:1.2,children:"API Configuration"}),(0,d.jsx)("p",{className:"settings-section-description",children:"Enter your API credentials to enable synchronization between Asana and YouTrack"})]}),(0,d.jsxs)("div",{className:"settings-form-group",children:[(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Asana Settings"}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"settings-label",children:"Personal Access Token (PAT)"}),(0,d.jsxs)("div",{className:"settings-input-container",children:[(0,d.jsx)("input",{type:M.asana_pat?"text":"password",value:r.asana_pat,onChange:fe("asana_pat"),placeholder:"Enter your Asana PAT",className:"settings-input settings-input-with-icon"}),(0,d.jsx)("button",{type:"button",onClick:()=>he("asana_pat"),className:"settings-input-toggle",children:M.asana_pat?(0,d.jsx)(ne,{className:"w-4 h-4"}):(0,d.jsx)(ee,{className:"w-4 h-4"})})]})]}),(0,d.jsxs)("div",{className:"settings-form-row",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("label",{className:"settings-label",children:"Project"}),(0,d.jsxs)("select",{value:r.asana_project_id,onChange:fe("asana_project_id"),className:"settings-select",disabled:0===b.length,children:[(0,d.jsx)("option",{value:"",children:"Select Asana Project"}),b.map(e=>(0,d.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,d.jsx)("button",{onClick:ge,disabled:N.asana||!r.asana_pat,className:"settings-button-secondary",children:N.asana?(0,d.jsx)(H,{className:"settings-spinner"}):(0,d.jsx)(H,{className:"w-4 h-4"})})]})]}),(0,d.jsxs)("div",{className:"settings-form-group",children:[(0,d.jsx)("div",{className:"settings-divider"}),(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"YouTrack Settings"}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"settings-label",children:"Base URL"}),(0,d.jsx)("input",{type:"url",value:r.youtrack_base_url,onChange:fe("youtrack_base_url"),placeholder:"https://your-instance.youtrack.cloud",className:"settings-input"})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"settings-label",children:"API Token"}),(0,d.jsxs)("div",{className:"settings-input-container",children:[(0,d.jsx)("input",{type:M.youtrack_token?"text":"password",value:r.youtrack_token,onChange:fe("youtrack_token"),placeholder:"Enter your YouTrack API token",className:"settings-input settings-input-with-icon"}),(0,d.jsx)("button",{type:"button",onClick:()=>he("youtrack_token"),className:"settings-input-toggle",children:M.youtrack_token?(0,d.jsx)(ne,{className:"w-4 h-4"}):(0,d.jsx)(ee,{className:"w-4 h-4"})})]})]}),(0,d.jsxs)("div",{className:"settings-form-row",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("label",{className:"settings-label",children:"Project"}),(0,d.jsxs)("select",{value:r.youtrack_project_id,onChange:fe("youtrack_project_id"),className:"settings-select",disabled:0===k.length,children:[(0,d.jsx)("option",{value:"",children:"Select YouTrack Project"}),k.map(e=>(0,d.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,d.jsx)("button",{onClick:ye,disabled:N.youtrack||!r.youtrack_base_url||!r.youtrack_token,className:"settings-button-secondary",children:N.youtrack?(0,d.jsx)(H,{className:"settings-spinner"}):(0,d.jsx)(H,{className:"w-4 h-4"})})]})]}),(0,d.jsxs)("div",{style:{marginTop:"1.5rem",display:"flex",alignItems:"center",gap:"1.5rem"},children:[_.asana&&_.youtrack?(0,d.jsx)("button",{onClick:async()=>{h(!0),pe();try{await(0,u.mJ)(r),de(r),ce(!1),v("Settings saved successfully!"),setTimeout(()=>v(""),3e3)}catch(e){y("Failed to save settings: "+e.message)}finally{h(!1)}},disabled:m||!ie,className:"settings-button-success",children:m?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"settings-spinner"}),"Saving..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Re,{className:"w-4 h-4 mr-2"}),"Save Settings"]})}):(0,d.jsx)("button",{onClick:async()=>{p(!0),C({asana:null,youtrack:null}),pe();try{var e;const t=await(0,u.uX)(),n=(null===(e=t.data)||void 0===e?void 0:e.results)||t.results||{},a=n.asana&&b.length>0&&r.asana_project_id,s=n.youtrack&&k.length>0&&r.youtrack_project_id;if(C({asana:a,youtrack:s}),a&&s)v("All connections successful! You can now save your settings."),setTimeout(()=>v(""),3e3);else{const e=[];a||e.push("Asana"),s||e.push("YouTrack"),y("Connection test incomplete for: ".concat(e.join(", "),". Please ensure credentials are valid, projects are loaded, and project IDs are selected."))}}catch(t){y("Failed to test connections: "+t.message),C({asana:!1,youtrack:!1})}finally{p(!1)}},disabled:f||!r.asana_pat||!r.youtrack_base_url||!r.youtrack_token,className:"settings-button",children:f?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"settings-spinner"}),"Testing Connections..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Ie,{className:"w-4 h-4 mr-2"}),"Test Connections"]})}),x&&(0,d.jsxs)("div",{className:"flex items-center",style:{color:"#059669",fontSize:"0.95rem",fontWeight:"500"},children:[(0,d.jsx)(R,{className:"w-5 h-5 mr-2"}),(0,d.jsx)("p",{children:x})]}),g&&(0,d.jsxs)("div",{className:"flex items-center",style:{color:"#991b1b",fontSize:"0.95rem",fontWeight:"500"},children:[(0,d.jsx)(G,{className:"w-5 h-5 mr-2"}),(0,d.jsx)("p",{children:g})]})]})]}),"column_mapping"===z&&(0,d.jsx)(Me,{settings:r,onSettingsUpdate:e=>{l(e),de(e)},onSuccess:v,onError:y}),"mapping"===z&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(Q,{className:"settings-section-header",sensitivity:1.2,children:"Custom Field Mapping"}),(0,d.jsx)("p",{className:"settings-section-description",children:"Configure how fields are mapped between Asana and YouTrack during synchronization"})]}),(0,d.jsxs)("div",{className:"settings-mapping-container",children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Add New Mapping"}),(0,d.jsxs)("div",{className:"settings-form-row",children:[(0,d.jsxs)("select",{value:T.type,onChange:e=>P(t=>c(c({},t),{},{type:e.target.value})),className:"settings-select",children:[(0,d.jsx)("option",{value:"tag_mapping",children:"Tag Mapping"}),(0,d.jsx)("option",{value:"priority_mapping",children:"Priority Mapping"}),(0,d.jsx)("option",{value:"status_mapping",children:"Status Mapping"}),(0,d.jsx)("option",{value:"custom_fields",children:"Custom Fields"})]}),(0,d.jsx)("input",{type:"text",placeholder:"Source field",value:T.key,onChange:e=>P(t=>c(c({},t),{},{key:e.target.value})),className:"settings-input"}),(0,d.jsx)("input",{type:"text",placeholder:"Target field",value:T.value,onChange:e=>P(t=>c(c({},t),{},{value:e.target.value})),className:"settings-input"}),(0,d.jsx)("button",{onClick:async()=>{if(!T.key.trim()||!T.value.trim())return;const e=c(c({},r),{},{custom_field_mappings:c(c({},r.custom_field_mappings),{},{[T.type]:c(c({},r.custom_field_mappings[T.type]),{},{[T.key.trim()]:T.value.trim()})})});l(e),P(c(c({},T),{},{key:"",value:""}));try{await(0,u.mJ)(e),v("Field mapping added successfully!"),setTimeout(()=>v(""),3e3)}catch(t){y("Failed to save field mapping: "+t.message)}},disabled:!T.key.trim()||!T.value.trim(),className:"settings-button",children:(0,d.jsx)(te,{className:"w-4 h-4"})})]})]}),Object.entries(r.custom_field_mappings||{}).map(e=>{let[t,n]=e;return(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-gray-900 capitalize",children:t.replace("_"," ")}),n&&0!==Object.keys(n).length?(0,d.jsx)("div",{className:"space-y-2",children:Object.entries(n||{}).map(e=>{let[n,a]=e;return(0,d.jsxs)("div",{className:"settings-mapping-item",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("span",{className:"font-medium text-gray-900",children:n}),(0,d.jsx)("span",{className:"text-gray-400",children:"\u2192"}),(0,d.jsx)("span",{className:"text-gray-700",children:a})]}),(0,d.jsx)("button",{onClick:()=>(async(e,t)=>{const n=c({},r.custom_field_mappings[e]);delete n[t];const a=c(c({},r),{},{custom_field_mappings:c(c({},r.custom_field_mappings),{},{[e]:n})});l(a);try{await(0,u.mJ)(a),v("Field mapping removed successfully!"),setTimeout(()=>v(""),3e3)}catch(s){y("Failed to remove field mapping: "+s.message)}})(t,n),className:"text-red-600 hover:text-red-800 transition-colors",children:(0,d.jsx)(ae,{className:"w-4 h-4"})})]},n)})}):(0,d.jsx)("p",{className:"text-gray-500 text-sm italic",children:"No mappings configured"})]},t)})]}),"ticket_mapping"===z&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(Q,{className:"settings-section-header",sensitivity:1.2,children:"Ticket Mapping"}),(0,d.jsx)("p",{className:"settings-section-description",children:"Manually link Asana tasks with YouTrack issues by pasting their URLs. Get task IDs for custom mapping."})]}),re?(0,d.jsxs)("div",{children:[(0,d.jsx)(Pe,{onSuccess:()=>{Z(e=>e+1),v("Ticket mapping created successfully!"),le(!1)},onCancel:()=>{le(!1),pe()}}),(0,d.jsxs)("div",{className:"info-box mt-6",children:[(0,d.jsxs)("h4",{className:"text-sm font-medium mb-2 flex items-center",children:[(0,d.jsx)(D,{className:"w-4 h-4 mr-1"}),"When to use ticket mapping?"]}),(0,d.jsxs)("ul",{className:"text-xs space-y-1",children:[(0,d.jsx)("li",{children:"\u2022 When Asana and YouTrack ticket titles don't match"}),(0,d.jsx)("li",{children:"\u2022 For tickets created manually in YouTrack"}),(0,d.jsx)("li",{children:"\u2022 To link historical tickets created before automation"}),(0,d.jsx)("li",{children:"\u2022 When automatic matching fails due to special characters"})]})]})]}):(0,d.jsxs)("div",{children:[(0,d.jsx)(ze,{refreshTrigger:J,onCreateNew:()=>{le(!0),pe()}}),(0,d.jsxs)("div",{className:"info-box mt-6",children:[(0,d.jsxs)("h4",{className:"text-sm font-medium mb-2 flex items-center",children:[(0,d.jsx)(D,{className:"w-4 h-4 mr-1"}),"When to use ticket mapping?"]}),(0,d.jsxs)("ul",{className:"text-xs space-y-1",children:[(0,d.jsx)("li",{children:"\u2022 When Asana and YouTrack ticket titles don't match"}),(0,d.jsx)("li",{children:"\u2022 For tickets created manually in YouTrack"}),(0,d.jsx)("li",{children:"\u2022 To link historical tickets created before automation"}),(0,d.jsx)("li",{children:"\u2022 When automatic matching fails due to special characters"})]})]})]})]}),"profile"===z&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(Q,{className:"settings-section-header",sensitivity:1.2,children:"Profile Settings"}),(0,d.jsx)("p",{className:"settings-section-description",children:"Manage your account information and security settings"})]}),(0,d.jsx)("div",{className:"settings-form-group",children:(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsx)("div",{className:"settings-profile-avatar",children:(0,d.jsx)(oe,{className:"w-8 h-8 text-blue-600"})}),(0,d.jsxs)("div",{className:"settings-profile-info",children:[(0,d.jsx)("h3",{className:"settings-profile-name",children:null===n||void 0===n?void 0:n.username}),(0,d.jsx)("p",{className:"settings-profile-email",children:null===n||void 0===n?void 0:n.email}),(0,d.jsxs)("p",{className:"settings-profile-date",children:["Member since ",new Date((null===n||void 0===n?void 0:n.created_at)||Date.now()).toLocaleDateString()]})]})]})}),(0,d.jsxs)("div",{className:"settings-form-group",children:[(0,d.jsx)("div",{className:"settings-divider"}),(0,d.jsxs)("h4",{className:"text-lg font-medium text-gray-900 flex items-center mb-4",children:[(0,d.jsx)(Ue,{className:"w-5 h-5 mr-2"}),"Security"]}),(0,d.jsxs)("button",{onClick:()=>{y(null),v(""),Y(!0)},className:"settings-button-secondary",children:[(0,d.jsx)(Le,{className:"w-4 h-4 mr-2"}),"Change Password"]})]}),(0,d.jsxs)("div",{className:"settings-form-group",children:[(0,d.jsx)("div",{className:"settings-divider"}),(0,d.jsxs)("h4",{className:"text-lg font-medium text-red-900 flex items-center mb-4",children:[(0,d.jsx)(D,{className:"w-5 h-5 mr-2"}),"Delete Your Profile"]}),(0,d.jsxs)("div",{className:"p-4 rounded-lg border-2 border-red-200",style:{background:"rgba(239, 68, 68, 0.05)"},children:[(0,d.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:"Delete Account"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Permanently delete your account and all associated data. This action cannot be undone."}),(0,d.jsxs)("button",{onClick:()=>{y(null),O(!0)},className:"delete-button-table",children:[(0,d.jsx)(se,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})]})]})]})]}),V&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:ve,style:{backdropFilter:"blur(8px)"},children:(0,d.jsxs)("div",{className:"glass-panel max-w-md w-full mx-4",style:{borderRadius:"20px",overflow:"hidden"},onClick:e=>e.stopPropagation(),children:[(0,d.jsx)("div",{className:"p-6",style:{background:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(20px) saturate(150%)",WebkitBackdropFilter:"blur(20px) saturate(150%)",borderBottom:"1px solid rgba(255, 255, 255, 0.3)"},children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"settings-profile-avatar",style:{width:"3rem",height:"3rem"},children:(0,d.jsx)(Le,{className:"w-5 h-5 text-blue-600"})}),(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Change Password"})]}),(0,d.jsx)("button",{onClick:ve,className:"text-gray-400 hover:text-gray-600 transition-colors",style:{background:"rgba(255, 255, 255, 0.3)",borderRadius:"8px",padding:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.4)"},children:(0,d.jsx)(ae,{className:"w-5 h-5"})})]})}),(0,d.jsxs)("div",{className:"p-6 space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"settings-label",children:"Current Password"}),(0,d.jsx)("input",{type:"password",value:$.oldPassword,onChange:e=>q(t=>c(c({},t),{},{oldPassword:e.target.value})),placeholder:"Enter current password",className:"settings-input",disabled:K})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"settings-label",children:"New Password"}),(0,d.jsx)("input",{type:"password",value:$.newPassword,onChange:e=>q(t=>c(c({},t),{},{newPassword:e.target.value})),placeholder:"Enter new password (min 6 characters)",className:"settings-input",disabled:K})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"settings-label",children:"Confirm New Password"}),(0,d.jsx)("input",{type:"password",value:$.confirmPassword,onChange:e=>q(t=>c(c({},t),{},{confirmPassword:e.target.value})),placeholder:"Re-enter new password",className:"settings-input",disabled:K})]}),g&&(0,d.jsx)("div",{className:"error-box",children:(0,d.jsx)("p",{className:"text-sm text-red-800",children:g})}),x&&(0,d.jsx)("div",{className:"success-box",children:(0,d.jsx)("p",{className:"text-sm text-green-800",children:x})})]}),(0,d.jsxs)("div",{className:"p-6 flex justify-end space-x-3",style:{background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(16px) saturate(150%)",WebkitBackdropFilter:"blur(16px) saturate(150%)",borderTop:"1px solid rgba(255, 255, 255, 0.3)"},children:[(0,d.jsx)("button",{onClick:ve,disabled:K,className:"settings-button-secondary",children:"Cancel"}),(0,d.jsx)("button",{onClick:async()=>{if($.oldPassword)if($.newPassword)if($.newPassword.length<6)y("New password must be at least 6 characters long");else if($.newPassword===$.confirmPassword){X(!0),y(null);try{await(0,u.ec)($.oldPassword,$.newPassword),v("Password changed successfully!"),setTimeout(()=>v(""),3e3),ve()}catch(e){y("Failed to change password: "+e.message),X(!1)}}else y("New passwords do not match");else y("Please enter a new password");else y("Please enter your current password")},disabled:K||!$.oldPassword||!$.newPassword||!$.confirmPassword,className:"settings-button",children:K?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"settings-spinner"}),"Changing Password..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Le,{className:"w-4 h-4 mr-2"}),"Change Password"]})})]})]})}),F&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:xe,children:(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,d.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,d.jsx)(D,{className:"w-6 h-6 text-red-600"})}),(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Delete Account"})]}),(0,d.jsx)("button",{onClick:xe,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,d.jsx)(ae,{className:"w-6 h-6"})})]})}),(0,d.jsxs)("div",{className:"p-6 space-y-6",children:[(0,d.jsx)("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,d.jsx)(G,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h4",{className:"font-semibold text-red-900 mb-2",children:"Warning: This action is irreversible"}),(0,d.jsxs)("ul",{className:"text-sm text-red-800 space-y-1",children:[(0,d.jsx)("li",{children:"\u2022 Your account will be permanently deleted"}),(0,d.jsx)("li",{children:"\u2022 All your settings and configurations will be lost"}),(0,d.jsx)("li",{children:"\u2022 Your sync history will be permanently removed"}),(0,d.jsx)("li",{children:"\u2022 All ignored tickets data will be deleted"}),(0,d.jsx)("li",{children:"\u2022 This action cannot be undone"})]})]})]})}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Enter your password to confirm"}),(0,d.jsx)("input",{type:"password",value:I.password,onChange:e=>U(t=>c(c({},t),{},{password:e.target.value})),placeholder:"Your password",className:"settings-input",disabled:B})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Type ",(0,d.jsx)("span",{className:"font-bold text-red-600",children:"DELETE"})," to confirm deletion"]}),(0,d.jsx)("input",{type:"text",value:I.confirmation,onChange:e=>U(t=>c(c({},t),{},{confirmation:e.target.value})),placeholder:"Type DELETE",className:"settings-input",disabled:B})]})]}),g&&(0,d.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,d.jsx)("p",{className:"text-sm text-red-800",children:g})})]}),(0,d.jsxs)("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[(0,d.jsx)("button",{onClick:xe,disabled:B,className:"settings-button-secondary",children:"Cancel"}),(0,d.jsx)("button",{onClick:async()=>{if("DELETE"===I.confirmation)if(I.password){W(!0),y(null);try{await(0,u.lw)({password:I.password,confirmation:I.confirmation}),alert("Your account has been permanently deleted. You will be redirected to the login page."),window.location.href="/"}catch(e){y("Failed to delete account: "+e.message),W(!1)}}else y("Please enter your password to confirm");else y("Please type DELETE to confirm account deletion")},disabled:B||"DELETE"!==I.confirmation||!I.password,className:"multi-delete-button",children:B?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{className:"settings-spinner"}),"Deleting Account..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(se,{className:"w-4 h-4 mr-2"}),"Permanently Delete Account"]})})]})]})})]})},He=A("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),We=A("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ve=e=>{let{onSuccess:t,onError:n}=e;const[s,r]=(0,a.useState)([]),[l,i]=(0,a.useState)(!1),[o,m]=(0,a.useState)(!0),[h,f]=(0,a.useState)(!1),[p,g]=(0,a.useState)({ticketId:"",platform:"",actionType:"",startDate:"",endDate:"",limit:50});(0,a.useEffect)(()=>{y()},[]);const y=async()=>{i(!0);try{const e=await(0,u.t6)(p);r(e.logs||[])}catch(e){null===n||void 0===n||n("Failed to load audit logs: "+e.message)}finally{i(!1)}},x=(e,t)=>{g(n=>c(c({},n),{},{[e]:t}))};return(0,d.jsxs)("div",{className:"sync-history-container",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,d.jsx)(re,{className:"w-6 h-6 mr-2"}),"Audit Logs"]}),(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsxs)("button",{onClick:()=>m(!o),className:"view-details-button",children:[(0,d.jsx)(He,{className:"w-4 h-4 mr-2"}),o?"Hide":"Show"," Filters"]}),(0,d.jsx)("button",{onClick:async()=>{f(!0);try{const e=await(0,u.Xu)(p),n=window.URL.createObjectURL(e),a=document.createElement("a");a.href=n,a.download="audit_logs_".concat((new Date).toISOString().split("T")[0],".csv"),document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(n),document.body.removeChild(a),null===t||void 0===t||t("Audit logs exported successfully!")}catch(e){null===n||void 0===n||n("Failed to export audit logs: "+e.message)}finally{f(!1)}},disabled:h||0===s.length,className:"export-csv-button",children:h?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"sync-loading-spinner inline-block mr-2"}),"Exporting..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(We,{className:"w-4 h-4 mr-2"}),"Export CSV"]})})]})]}),o&&(0,d.jsxs)("div",{className:"filter-panel",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,d.jsx)(I,{className:"w-4 h-4 inline mr-1"}),"Ticket ID"]}),(0,d.jsx)("input",{type:"text",className:"filter-input",placeholder:"ARD-123 or Asana GID",value:p.ticketId,onChange:e=>x("ticketId",e.target.value)})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform"}),(0,d.jsxs)("select",{className:"filter-select",value:p.platform,onChange:e=>x("platform",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"All Platforms"}),(0,d.jsx)("option",{value:"youtrack",children:"YouTrack"}),(0,d.jsx)("option",{value:"asana",children:"Asana"}),(0,d.jsx)("option",{value:"mapping",children:"Mapping"}),(0,d.jsx)("option",{value:"system",children:"System"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action Type"}),(0,d.jsxs)("select",{className:"filter-select",value:p.actionType,onChange:e=>x("actionType",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"All Actions"}),(0,d.jsx)("option",{value:"created",children:"Created"}),(0,d.jsx)("option",{value:"updated",children:"Updated"}),(0,d.jsx)("option",{value:"status_changed",children:"Status Changed"}),(0,d.jsx)("option",{value:"deleted",children:"Deleted"}),(0,d.jsx)("option",{value:"ignored",children:"Ignored"}),(0,d.jsx)("option",{value:"rolled_back",children:"Rolled Back"}),(0,d.jsx)("option",{value:"mapping_added",children:"Mapping Added"})]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,d.jsx)(ie,{className:"w-4 h-4 inline mr-1"}),"Start Date"]}),(0,d.jsx)("input",{type:"date",className:"filter-input",value:p.startDate,onChange:e=>x("startDate",e.target.value)})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,d.jsx)(ie,{className:"w-4 h-4 inline mr-1"}),"End Date"]}),(0,d.jsx)("input",{type:"date",className:"filter-input",value:p.endDate,onChange:e=>x("endDate",e.target.value)})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Limit"}),(0,d.jsxs)("select",{className:"filter-select",value:p.limit,onChange:e=>x("limit",parseInt(e.target.value)),children:[(0,d.jsx)("option",{value:50,children:"50 logs"}),(0,d.jsx)("option",{value:100,children:"100 logs"}),(0,d.jsx)("option",{value:200,children:"200 logs"}),(0,d.jsx)("option",{value:500,children:"500 logs"})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-4 pt-4 border-t border-white border-opacity-30",children:[(0,d.jsxs)("button",{onClick:()=>{g({ticketId:"",platform:"",actionType:"",startDate:"",endDate:"",limit:50})},className:"view-details-button",children:[(0,d.jsx)(ae,{className:"w-4 h-4 mr-2"}),"Clear"]}),(0,d.jsxs)("button",{onClick:()=>{y()},className:"export-csv-button",children:[(0,d.jsx)(He,{className:"w-4 h-4 mr-2"}),"Apply Filters"]})]})]}),l?(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("div",{className:"sync-loading-spinner mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Loading audit logs..."})]}):0===s.length?(0,d.jsxs)("div",{className:"empty-state",children:[(0,d.jsx)("div",{className:"empty-state-icon",children:(0,d.jsx)(re,{className:"w-16 h-16 mx-auto text-gray-400"})}),(0,d.jsx)("p",{className:"empty-state-text",children:"No audit logs found"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Try adjusting your filters"})]}):(0,d.jsxs)("div",{className:"overflow-x-auto",children:[(0,d.jsxs)("table",{className:"audit-log-table w-full",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Timestamp"}),(0,d.jsx)("th",{children:"Ticket ID"}),(0,d.jsx)("th",{children:"Platform"}),(0,d.jsx)("th",{children:"Action"}),(0,d.jsx)("th",{children:"Field"}),(0,d.jsx)("th",{children:"Old Value"}),(0,d.jsx)("th",{children:"New Value"}),(0,d.jsx)("th",{children:"User"})]})}),(0,d.jsx)("tbody",{children:s.map(e=>{return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"text-sm",children:(n=e.timestamp,new Date(n).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}))}),(0,d.jsx)("td",{className:"font-mono text-sm font-semibold",children:e.ticket_id}),(0,d.jsx)("td",{children:(0,d.jsx)("span",{className:"tag-glass",children:e.platform})}),(0,d.jsx)("td",{children:(t=e.action_type,(0,d.jsx)("span",{className:{created:"action-badge action-badge-created",updated:"action-badge action-badge-updated",deleted:"action-badge action-badge-deleted",status_changed:"action-badge action-badge-status-changed",ignored:"action-badge action-badge-ignored",rolled_back:"action-badge action-badge-deleted",mapping_added:"action-badge action-badge-created"}[t]||"action-badge",children:t}))}),(0,d.jsx)("td",{className:"text-sm text-gray-600",children:e.field_name||"-"}),(0,d.jsx)("td",{className:"text-sm text-gray-600 max-w-xs truncate",children:e.old_value||"-"}),(0,d.jsx)("td",{className:"text-sm text-gray-600 max-w-xs truncate",children:e.new_value||"-"}),(0,d.jsx)("td",{className:"text-sm text-gray-600",children:e.user_email})]},e.id);var t,n})})]}),(0,d.jsxs)("div",{className:"mt-4 text-center text-sm text-gray-600",children:["Showing ",s.length," log",1!==s.length?"s":""]})]})]})},Ye=A("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function $e(){const{isAuthenticated:e,user:t,initializing:n}=E(),[s,r]=(0,a.useState)("dashboard"),[l,i]=(0,a.useState)(""),[o,m]=(0,a.useState)(null),[h,f]=(0,a.useState)(!1),[p,g]=(0,a.useState)(null),[y,x]=(0,a.useState)(null);if(n)return(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{zIndex:2e3,background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #cbd5e1 100%)"},children:(0,d.jsxs)("div",{className:"flex items-center bg-white/80 backdrop-blur-md rounded-lg p-6 shadow-lg",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),(0,d.jsx)("span",{className:"text-gray-600 font-medium",children:"Initializing application..."})]})});if(!e)return(0,d.jsxs)("div",{className:"App",style:{position:"relative",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[(0,d.jsx)("div",{className:"luxury-background-container",children:(0,d.jsx)(we,{currentView:"login",analysisData:null,selectedColumn:"",isLoading:!1})}),(0,d.jsx)("div",{className:"luxury-canvas-blur-separator"}),(0,d.jsx)("div",{className:"luxury-canvas-content-layer",style:{flex:"1",position:"relative",zIndex:1},children:(0,d.jsx)(Ne,{onSuccess:()=>r("dashboard")})})]});const v=()=>{r("dashboard"),m(null)},b=async()=>{try{const e=await(0,u.a8)(l);m(c(c({},e),{},{analyzedColumn:l}))}catch(e){console.error("Failed to refresh analysis:",e)}},w=(()=>{var e;return"settings"===s?{left:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(Ye,{className:"w-8 h-8 text-blue-600 mr-3"}),(0,d.jsx)("div",{className:"text-xl font-semibold text-gray-900",children:"Settings"})]}),right:null}:"sync-history"===s?{left:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(de,{className:"w-8 h-8 text-purple-600 mr-3"}),(0,d.jsx)("div",{className:"text-xl font-semibold text-gray-900",children:"Sync History"})]}),right:null}:"audit-logs"===s?{left:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(re,{className:"w-8 h-8 text-green-600 mr-3"}),(0,d.jsx)("div",{className:"text-xl font-semibold text-gray-900",children:"Audit Logs"})]}),right:null}:{left:null!==p&&void 0!==p?p:"dashboard"===s?(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("img",{src:"https://apyhub.com/logo.svg",alt:"ApyHub",className:"h-8 w-8 apyhub-logo"}),(0,d.jsx)("div",{className:"ml-3 text-xl font-semibold text-gray-900",children:"Asana-YouTrack Sync"})]}):null,right:null!==y&&void 0!==y?y:"dashboard"===s?(0,d.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,d.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),(0,d.jsx)("span",{children:"Connected"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("div",{className:"text-sm font-semibold text-gray-900",children:["Welcome, ",null===t||void 0===t?void 0:t.username]}),(0,d.jsx)("div",{className:"text-xs text-gray-500",children:"Enhanced Dashboard"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("button",{onClick:()=>r("sync-history"),className:"flex items-center justify-center h-10 w-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg shadow-sm text-white hover:shadow-md transition-shadow",title:"Sync History",children:(0,d.jsx)(de,{className:"w-5 h-5"})}),(0,d.jsx)("button",{onClick:()=>r("audit-logs"),className:"flex items-center justify-center h-10 w-10 bg-gradient-to-br from-green-500 to-teal-600 rounded-lg shadow-sm text-white hover:shadow-md transition-shadow",title:"Audit Logs",children:(0,d.jsx)(re,{className:"w-5 h-5"})}),(0,d.jsx)("button",{onClick:()=>r("settings"),className:"flex items-center justify-center h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg shadow-sm text-white hover:shadow-md transition-shadow",title:"Settings",children:(0,d.jsx)(Ye,{className:"w-5 h-5"})}),(0,d.jsx)("div",{className:"flex items-center justify-center h-10 w-10 bg-gradient-to-br from-green-500 to-blue-600 rounded-lg shadow-sm text-white font-bold text-lg",children:null===t||void 0===t||null===(e=t.username)||void 0===e?void 0:e.charAt(0).toUpperCase()})]})]})]}):null}})(),k=e;return(0,d.jsxs)("div",{className:"App",style:{position:"relative",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[k&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"luxury-background-container",children:(0,d.jsx)(we,{currentView:s,analysisData:o,selectedColumn:l,isLoading:h})}),(0,d.jsx)("div",{className:"luxury-canvas-blur-separator"})]}),(0,d.jsx)("div",{className:k?"luxury-canvas-content-layer":"",style:{flex:"1",paddingBottom:k?"80px":"0px",position:"relative",zIndex:k?1:"auto"},children:(0,d.jsx)(be,{title:"dashboard"===s?"Dashboard":"settings"===s?"Settings":"sync-history"===s?"Sync History":"audit-logs"===s?"Audit Logs":"Analysis Results",showBack:"dashboard"!==s,onBack:"settings"===s||"sync-history"===s||"audit-logs"===s?()=>r("dashboard"):v,leftContent:w.left,rightContent:w.right,children:"dashboard"===s?(0,d.jsx)(K,{selectedColumn:l,onColumnSelect:e=>{i(e)},onAnalyze:async()=>{if(l){f(!0);try{const e=await(0,u.a8)(l);m(c(c({},e),{},{analyzedColumn:l})),r("results")}catch(e){console.error("Analysis failed:",e),alert("Analysis failed: "+e.message)}finally{f(!1)}}},loading:h}):"results"===s?(0,d.jsx)(ve,{analysisData:o,selectedColumn:l,onBack:v,onSync:async e=>{f(!0);try{await(0,u.yN)(e),await b()}catch(t){throw new Error("Sync failed: "+t.message)}finally{f(!1)}},onCreateSingle:async e=>{f(!0);try{await(0,u.Pd)(e),await b()}catch(t){throw console.error("Create single failed:",t),new Error("Create failed: "+t.message)}finally{f(!1)}},onCreateMissing:async()=>{f(!0);try{await(0,u._K)(l),await b()}catch(e){throw new Error("Bulk create failed: "+e.message)}finally{f(!1)}},onReAnalyze:async e=>{f(!0);try{const t=await(0,u.a8)(e);m(c(c({},t),{},{analyzedColumn:e})),e!==l&&i(e)}catch(t){console.error("Re-analysis failed:",t),alert("Re-analysis failed: "+t.message)}finally{f(!1)}},loading:h,setNavBarSlots:(e,t)=>{g(e),x(t)}}):"settings"===s?(0,d.jsx)(Be,{onBack:()=>r("dashboard")}):"sync-history"===s?(0,d.jsx)(xe,{}):"audit-logs"===s?(0,d.jsx)(Ve,{}):null})}),k&&(0,d.jsx)("footer",{className:"app-footer",children:(0,d.jsx)("div",{className:"credit-footer",children:"Made with Frustration By Simran \u2022 Minor bugs included at no extra cost."})})]})}const qe=function(){return(0,d.jsx)(C,{children:(0,d.jsx)($e,{})})};s.createRoot(document.getElementById("root")).render((0,d.jsx)(a.StrictMode,{children:(0,d.jsx)(qe,{})}))})();
//# sourceMappingURL=main.f37cf0ac.js.map